(* Content-type: application/vnd.wolfram.mathematica *)

(*** Wolfram Notebook File ***)
(* http://www.wolfram.com/nb *)

(* CreatedBy='Mathematica 13.2' *)

(*CacheID: 234*)
(* Internal cache information:
NotebookFileLineBreakTest
NotebookFileLineBreakTest
NotebookDataPosition[       158,          7]
NotebookDataLength[    381899,       9687]
NotebookOptionsPosition[    371155,       9538]
NotebookOutlinePosition[    371661,       9558]
CellTagsIndexPosition[    371618,       9555]
WindowFrame->Normal*)

(* Beginning of Notebook Content *)
Notebook[{
Cell[BoxData[
 RowBox[{
  RowBox[{"Quit", "[", "]"}], ";"}]], "Input",
 CellChangeTimes->{{3.889964198656839*^9, 3.889964203363894*^9}},
 CellLabel->"In[6]:=",ExpressionUUID->"dda61001-ce48-4d45-a5b3-2135aa2acac3"],

Cell[BoxData[{
 RowBox[{"testFileName", "=", 
  RowBox[{"FileNameJoin", "[", 
   RowBox[{"{", 
    RowBox[{
     RowBox[{"DirectoryName", "[", 
      RowBox[{
       RowBox[{"NotebookDirectory", "[", "]"}], ",", "1"}], "]"}], ",", 
     RowBox[{
      RowBox[{"FileBaseName", "[", 
       RowBox[{"NotebookFileName", "[", "]"}], "]"}], "<>", 
      "\"\<.wlt\>\""}]}], "}"}], "]"}]}], "\[IndentingNewLine]", 
 RowBox[{"pacletDir", "=", 
  RowBox[{"DirectoryName", "[", 
   RowBox[{"testFileName", ",", "2"}], "]"}]}], "\[IndentingNewLine]", 
 RowBox[{"PacletDirectoryLoad", "[", "pacletDir", 
  "]"}], "\[IndentingNewLine]", 
 RowBox[{"testContextBase", "=", 
  RowBox[{"FileBaseName", "[", "testFileName", "]"}]}], "\[IndentingNewLine]", 
 RowBox[{"$ContextPath", "=", 
  RowBox[{"Cases", "[", 
   RowBox[{"$ContextPath", ",", 
    RowBox[{"Except", "[", "\"\<PacletizedResourceFunctions`\>\"", "]"}]}], 
   "]"}]}]}], "Input",
 CellChangeTimes->{{3.8890661685133457`*^9, 3.889066220685074*^9}, {
   3.8890662555512333`*^9, 3.889066299901951*^9}, {3.889066581166473*^9, 
   3.8890665847967653`*^9}, {3.889066731765956*^9, 3.889066745674687*^9}, {
   3.889431410824514*^9, 3.88943144002302*^9}, 3.889502968269744*^9, {
   3.889998928469849*^9, 3.889998928670561*^9}, {3.890676553021196*^9, 
   3.890676564028514*^9}, 3.890676636594749*^9, {3.890679618620262*^9, 
   3.89067961902995*^9}, {3.8908254134370813`*^9, 3.890825413876319*^9}, {
   3.890825459205497*^9, 3.890825473041605*^9}, {3.890825503118348*^9, 
   3.8908255374530487`*^9}, {3.891021675325671*^9, 3.891021675545487*^9}, {
   3.8911588731924877`*^9, 3.891158877904397*^9}, {3.8911592499395514`*^9, 
   3.8911592502376633`*^9}, 3.905131460208308*^9},
 CellLabel->"In[1]:=",ExpressionUUID->"102fd283-06e0-4854-992c-a6106a40388c"],

Cell[CellGroupData[{

Cell["CI Tests", "Subsection",
 CellChangeTimes->{{3.8895791922306013`*^9, 3.889579196409403*^9}, {
  3.889905620469079*^9, 3.8899056207707977`*^9}, {3.889967624152501*^9, 
  3.889967626012704*^9}},ExpressionUUID->"c05efb78-3a73-4dd4-8b80-\
9b4c753d7cc0"],

Cell[BoxData[
 RowBox[{
  RowBox[{"If", "[", 
   RowBox[{
    RowBox[{
     RowBox[{"FileNames", "[", "testFileName", "]"}], "===", 
     RowBox[{"{", "}"}]}], ",", "Nothing", ",", 
    RowBox[{"DeleteFile", "[", "testFileName", "]"}]}], "]"}], ";"}]], "Input",\

 CellLabel->"In[6]:=",ExpressionUUID->"2fbf259f-8c1a-43ca-8918-66ba525863c9"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"confirm", "=", "False"}], ";"}], "\[IndentingNewLine]", 
 RowBox[{"testContext", "=", 
  RowBox[{
  "\"\<FernandoDuarte`LongRunRisk`Tools`\>\"", "<>", "testContextBase", "<>", 
   "\"\<`\>\""}]}]}], "Input",
 CellChangeTimes->{{3.8906795325443907`*^9, 3.8906795357982817`*^9}, 
   3.890679566064293*^9, {3.8906796081672497`*^9, 3.8906796258061447`*^9}, {
   3.890679757679096*^9, 3.890679766260743*^9}, 3.890679874010334*^9, {
   3.89115778716877*^9, 3.8911577875972347`*^9}, {3.891158046655726*^9, 
   3.8911580470847473`*^9}, 3.891216842397851*^9},
 CellLabel->"In[7]:=",ExpressionUUID->"efc95b58-b6d3-467b-bde8-5ead84d010be"],

Cell[BoxData[
 RowBox[{"Begin", "[", "\"\<Tools`TimeAggregation`\>\"", "]"}]], "Input",
 CellChangeTimes->{{3.890680288696157*^9, 3.8906802887021513`*^9}, 
   3.891157128406151*^9, 3.891216243643917*^9, 3.905131674469077*^9},
 CellLabel->"In[9]:=",ExpressionUUID->"1aac25b2-2776-4294-9ec0-2b1b496b37e6"],

Cell[BoxData[
 RowBox[{
  RowBox[{"ResourceFunction", "[", "\"\<WriteUnitTest\>\"", "]"}], "[", 
  RowBox[{"testFileName", ",", "\[IndentingNewLine]", "\t", 
   RowBox[{
    RowBox[{"Off", "[", 
     RowBox[{"General", "::", "stop"}], "]"}], ";", "\[IndentingNewLine]", 
    "\t", 
    RowBox[{
    "Needs", "[", "\"\<FernandoDuarte`LongRunRisk`Tools`TimeAggregation`\>\"",
      "]"}]}], "\[IndentingNewLine]", ",", 
   RowBox[{"\"\<ConfirmResults\>\"", "\[Rule]", "False"}]}], "]"}]], "Input",
 CellChangeTimes->{{3.890446336323517*^9, 3.8904463515749817`*^9}, 
   3.8904472289643927`*^9, 3.8904474628884*^9, {3.89059065959065*^9, 
   3.890590660227336*^9}, 3.891216862629086*^9, {3.905131927334346*^9, 
   3.9051319308815327`*^9}},
 CellLabel->"In[10]:=",ExpressionUUID->"293d26ed-8bdf-463d-823c-ba1b18dc9d0c"],

Cell[BoxData[
 RowBox[{
  RowBox[{"ResourceFunction", "[", "\"\<WriteUnitTest\>\"", "]"}], "[", 
  RowBox[{"testFileName", ",", "\[IndentingNewLine]", "\t", 
   RowBox[{"MemberQ", "[", 
    RowBox[{
    "$ContextPath", ",", 
     "\"\<FernandoDuarte`LongRunRisk`Tools`TimeAggregation`\>\""}], "]"}], 
   "\[IndentingNewLine]", ",", 
   RowBox[{"\"\<ConfirmResults\>\"", "\[Rule]", "False"}]}], "]"}]], "Input",
 CellChangeTimes->{
  3.889901579125684*^9, {3.889965035911569*^9, 3.889965039550325*^9}, {
   3.889965296152458*^9, 3.889965305191854*^9}, 3.8899653858152437`*^9, 
   3.889967740469187*^9, {3.889968345370779*^9, 3.889968347169169*^9}, {
   3.889968526692542*^9, 3.8899685355316963`*^9}, {3.889968649261517*^9, 
   3.889968660343141*^9}, 3.889969395693264*^9, {3.88996958684683*^9, 
   3.8899695947482367`*^9}, {3.889970300225127*^9, 3.889970329366473*^9}, 
   3.890446365820507*^9, 3.8904472289724627`*^9, 3.8904474628912354`*^9, 
   3.8905906688314342`*^9, 3.890590772618843*^9, 3.891216865733552*^9},
 CellLabel->"In[11]:=",ExpressionUUID->"f31349aa-ef4d-4620-92ad-6cb7d3436447"],

Cell[BoxData[
 RowBox[{
  RowBox[{"ResourceFunction", "[", "\"\<WriteUnitTest\>\"", "]"}], "[", 
  RowBox[{"testFileName", ",", "\[IndentingNewLine]", 
   RowBox[{"(*", " ", 
    RowBox[{"growth", " ", 
     RowBox[{"(", 
      RowBox[{"lowercase", " ", "g"}], ")"}], " ", "in", " ", "context", " ", 
     "\"\<FernandoDuarte`LongRunRisk`TimeAggregation`\>\"", " ", "should", 
     " ", "be", " ", "found", " ", "and", " ", "test", " ", "should", " ", 
     "give", " ", "True"}], " ", "*)"}], "\[IndentingNewLine]", "\t", 
   RowBox[{"Not", "[", 
    RowBox[{
     RowBox[{"Names", "[", "\"\<*growth\>\"", "]"}], "===", 
     RowBox[{"{", "}"}]}], "]"}], "\[IndentingNewLine]", ",", 
   RowBox[{"\"\<ConfirmResults\>\"", "\[Rule]", "False"}]}], "]"}]], "Input",
 CellChangeTimes->{{3.8899706175264597`*^9, 3.889970628972746*^9}, 
   3.889972029349813*^9, 3.8900384168923597`*^9, 3.89015866830269*^9, 
   3.8901946572062263`*^9, {3.890401586510763*^9, 3.890401592781617*^9}, 
   3.890401635141465*^9, 3.8904069870847883`*^9, 3.89044636582329*^9, 
   3.890447228979583*^9, 3.8904474628938*^9, {3.8905906766565*^9, 
   3.890590683105463*^9}, {3.8905907440222683`*^9, 3.8905907917620773`*^9}, {
   3.890591998652166*^9, 3.8905919989696627`*^9}},
 CellLabel->"In[12]:=",ExpressionUUID->"ee74792d-c9ba-4cfb-8ec3-64ecbfa4668c"],

Cell[BoxData[
 RowBox[{"(*", 
  RowBox[{
   RowBox[{"ResourceFunction", "[", "\"\<WriteUnitTest\>\"", "]"}], "[", 
   RowBox[{"testFileName", ",", "\[IndentingNewLine]", 
    RowBox[{"(*", " ", 
     RowBox[{"Growth", " ", 
      RowBox[{"(", 
       RowBox[{"uppercase", " ", "G"}], ")"}], " ", "in", " ", "context", 
      " ", "\"\<FernandoDuarte`LongRunRisk`\>\"", " ", "should", " ", "not", 
      " ", "be", " ", "found", " ", "and", " ", "test", " ", "should", " ", 
      "give", " ", "False"}], " ", "*)"}], "\[IndentingNewLine]", "\t", 
    RowBox[{"Not", "[", 
     RowBox[{
      RowBox[{"Names", "[", "\"\<*Growth\>\"", "]"}], "===", 
      RowBox[{"{", "}"}]}], "]"}], "\[IndentingNewLine]", ",", 
    RowBox[{"\"\<ConfirmResults\>\"", "\[Rule]", "False"}]}], "]"}], 
  "*)"}]], "Input",
 CellChangeTimes->{{3.890590687490464*^9, 3.8905907618916693`*^9}, {
  3.8905908000675497`*^9, 3.890590817304603*^9}, {3.8905919958813257`*^9, 
  3.8905919962659597`*^9}},
 CellLabel->"In[13]:=",ExpressionUUID->"327e0cfe-f1e3-480a-8aad-4fca2b97b22f"],

Cell[BoxData[
 RowBox[{
  RowBox[{"ResourceFunction", "[", "\"\<WriteUnitTest\>\"", "]"}], "[", 
  RowBox[{"testFileName", ",", "\[IndentingNewLine]", 
   RowBox[{"(*", 
    RowBox[{"most", " ", "basic", " ", "test"}], "*)"}], 
   "\[IndentingNewLine]", 
   RowBox[{"{", "\[IndentingNewLine]", 
    RowBox[{
     RowBox[{"growth", "[", 
      RowBox[{"dc", ",", "t"}], "]"}], ",", "\[IndentingNewLine]", 
     RowBox[{"growth", "[", 
      RowBox[{"dc", ",", "t", ",", 
       RowBox[{"\"\<TimeAggregation\>\"", "->", "1"}], ",", 
       RowBox[{"\"\<numPeriods\>\"", "->", "1"}]}], "]"}]}], 
    "\[IndentingNewLine]", "}"}], "\[IndentingNewLine]", ",", 
   RowBox[{"\"\<ConfirmResults\>\"", "\[Rule]", "confirm"}]}], "]"}]], "Input",\

 CellChangeTimes->{{3.890401631715477*^9, 3.890401689125927*^9}, {
   3.890401761744203*^9, 3.890401764715211*^9}, {3.890401806999058*^9, 
   3.890401828492391*^9}, {3.89040690079538*^9, 3.89040690968312*^9}, 
   3.890406985166799*^9, 3.890446365824437*^9, 3.890447228982809*^9, 
   3.89044746289506*^9, {3.8905908236160316`*^9, 3.890590825042708*^9}, 
   3.890592009139164*^9},
 CellLabel->"In[14]:=",ExpressionUUID->"607e6d9e-675a-4dc7-a580-fcf0d26f3161"],

Cell[BoxData[
 RowBox[{
  RowBox[{"(*", 
   RowBox[{"tests", " ", "Growth"}], "*)"}], "\[IndentingNewLine]", 
  RowBox[{"(*", "dc", "*)"}], "\[IndentingNewLine]", 
  RowBox[{
   RowBox[{"ResourceFunction", "[", "\"\<WriteUnitTest\>\"", "]"}], "[", 
   RowBox[{"testFileName", ",", "\[IndentingNewLine]", 
    RowBox[{"(*", 
     RowBox[{"tent", "-", 
      RowBox[{"shaped", " ", "coefficients"}]}], "*)"}], 
    "\[IndentingNewLine]", 
    RowBox[{"And", "@@", 
     RowBox[{"{", "\[IndentingNewLine]", 
      RowBox[{
       RowBox[{
        RowBox[{"growth", "[", 
         RowBox[{"dc", ",", "t"}], "]"}], "==", 
        RowBox[{"dc", "[", "t", "]"}]}], ",", "\[IndentingNewLine]", 
       RowBox[{
        RowBox[{"growth", "[", 
         RowBox[{"dc", ",", "t", ",", 
          RowBox[{"\"\<TimeAggregation\>\"", "->", "1"}], ",", 
          RowBox[{"\"\<numPeriods\>\"", "->", "1"}]}], "]"}], "==", 
        RowBox[{"dc", "[", "t", "]"}]}]}], "\[IndentingNewLine]", "}"}]}], 
    "\[IndentingNewLine]", ",", 
    RowBox[{"\"\<ConfirmResults\>\"", "\[Rule]", "False"}]}], 
   "]"}]}]], "Input",
 CellChangeTimes->{{3.905133500556025*^9, 3.905133500806592*^9}, {
   3.905134610510716*^9, 3.905134611213015*^9}, {3.9051347287506027`*^9, 
   3.9051347315087137`*^9}, 3.9051353178293533`*^9, {3.905135374663023*^9, 
   3.9051353757850533`*^9}},
 CellLabel->"In[15]:=",ExpressionUUID->"13506a6f-0858-4ac3-8c23-7d01f68bc276"],

Cell[BoxData[
 RowBox[{
  RowBox[{"ResourceFunction", "[", "\"\<WriteUnitTest\>\"", "]"}], "[", 
  RowBox[{"testFileName", ",", "\[IndentingNewLine]", 
   RowBox[{"(*", 
    RowBox[{"tent", "-", 
     RowBox[{"shaped", " ", "coefficients"}]}], "*)"}], "\[IndentingNewLine]", 
   RowBox[{"And", "@@", 
    RowBox[{"{", "\[IndentingNewLine]", 
     RowBox[{
      RowBox[{
       RowBox[{"growth", "[", 
        RowBox[{"dc", ",", "t", ",", 
         RowBox[{"\"\<TimeAggregation\>\"", "->", "3"}], ",", 
         RowBox[{"\"\<numPeriods\>\"", "->", "1"}]}], "]"}], "==", 
       RowBox[{
        FractionBox["1", "3"], " ", 
        RowBox[{"(", 
         RowBox[{
          RowBox[{"dc", "[", 
           RowBox[{
            RowBox[{"-", "4"}], "+", "t"}], "]"}], "+", 
          RowBox[{"2", " ", 
           RowBox[{"dc", "[", 
            RowBox[{
             RowBox[{"-", "3"}], "+", "t"}], "]"}]}], "+", 
          RowBox[{"3", " ", 
           RowBox[{"dc", "[", 
            RowBox[{
             RowBox[{"-", "2"}], "+", "t"}], "]"}]}], "+", 
          RowBox[{"2", " ", 
           RowBox[{"dc", "[", 
            RowBox[{
             RowBox[{"-", "1"}], "+", "t"}], "]"}]}], "+", 
          RowBox[{"dc", "[", "t", "]"}]}], ")"}]}]}], ",", 
      "\[IndentingNewLine]", 
      RowBox[{
       RowBox[{"(", 
        RowBox[{
         RowBox[{
          RowBox[{
           RowBox[{
            RowBox[{"growth", "[", 
             RowBox[{"dc", ",", "t", ",", 
              RowBox[{"\"\<TimeAggregation\>\"", "->", "12"}], ",", 
              RowBox[{"\"\<numPeriods\>\"", "->", "1"}]}], "]"}], "/.", 
            RowBox[{"Plus", "->", "List"}]}], "/.", 
           RowBox[{"Times", "->", "List"}]}], "/.", 
          RowBox[{
           RowBox[{"dc", "[", 
            RowBox[{"{", 
             RowBox[{"x__", ",", "t"}], "}"}], "]"}], "->", 
           RowBox[{"-", "x"}]}]}], "/.", 
         RowBox[{
          RowBox[{"dc", "[", "t", "]"}], "->", "0"}]}], ")"}], "==", 
       RowBox[{"{", 
        RowBox[{
         RowBox[{"{", 
          RowBox[{
           FractionBox["1", "12"], ",", "22"}], "}"}], ",", 
         RowBox[{"{", 
          RowBox[{
           FractionBox["1", "6"], ",", "21"}], "}"}], ",", 
         RowBox[{"{", 
          RowBox[{
           FractionBox["1", "4"], ",", "20"}], "}"}], ",", 
         RowBox[{"{", 
          RowBox[{
           FractionBox["1", "3"], ",", "19"}], "}"}], ",", 
         RowBox[{"{", 
          RowBox[{
           FractionBox["5", "12"], ",", "18"}], "}"}], ",", 
         RowBox[{"{", 
          RowBox[{
           FractionBox["1", "2"], ",", "17"}], "}"}], ",", 
         RowBox[{"{", 
          RowBox[{
           FractionBox["7", "12"], ",", "16"}], "}"}], ",", 
         RowBox[{"{", 
          RowBox[{
           FractionBox["2", "3"], ",", "15"}], "}"}], ",", 
         RowBox[{"{", 
          RowBox[{
           FractionBox["3", "4"], ",", "14"}], "}"}], ",", 
         RowBox[{"{", 
          RowBox[{
           FractionBox["5", "6"], ",", "13"}], "}"}], ",", 
         RowBox[{"{", 
          RowBox[{
           FractionBox["11", "12"], ",", "12"}], "}"}], ",", "11", ",", 
         RowBox[{"{", 
          RowBox[{
           FractionBox["11", "12"], ",", "10"}], "}"}], ",", 
         RowBox[{"{", 
          RowBox[{
           FractionBox["5", "6"], ",", "9"}], "}"}], ",", 
         RowBox[{"{", 
          RowBox[{
           FractionBox["3", "4"], ",", "8"}], "}"}], ",", 
         RowBox[{"{", 
          RowBox[{
           FractionBox["2", "3"], ",", "7"}], "}"}], ",", 
         RowBox[{"{", 
          RowBox[{
           FractionBox["7", "12"], ",", "6"}], "}"}], ",", 
         RowBox[{"{", 
          RowBox[{
           FractionBox["1", "2"], ",", "5"}], "}"}], ",", 
         RowBox[{"{", 
          RowBox[{
           FractionBox["5", "12"], ",", "4"}], "}"}], ",", 
         RowBox[{"{", 
          RowBox[{
           FractionBox["1", "3"], ",", "3"}], "}"}], ",", 
         RowBox[{"{", 
          RowBox[{
           FractionBox["1", "4"], ",", "2"}], "}"}], ",", 
         RowBox[{"{", 
          RowBox[{
           FractionBox["1", "6"], ",", "1"}], "}"}], ",", 
         RowBox[{"{", 
          RowBox[{
           FractionBox["1", "12"], ",", "0"}], "}"}]}], "}"}]}]}], 
     "\[IndentingNewLine]", "}"}]}], "\[IndentingNewLine]", ",", 
   RowBox[{"\"\<ConfirmResults\>\"", "\[Rule]", "False"}]}], "]"}]], "Input",
 CellChangeTimes->{{3.905135382230438*^9, 3.90513538347197*^9}, {
  3.905135451099334*^9, 3.905135459533473*^9}},
 CellLabel->"In[16]:=",ExpressionUUID->"0e36b0a7-38f9-4c40-848f-728f64a96c32"],

Cell[BoxData[
 RowBox[{
  RowBox[{"(*", 
   RowBox[{"expanssion", " ", "around", " ", "v0"}], "*)"}], 
  "\[IndentingNewLine]", 
  RowBox[{"(*", 
   RowBox[{
    RowBox[{"constant", " ", "v0"}], ",", " ", 
    RowBox[{
    "v0", " ", "has", " ", "different", " ", "number", " ", "of", " ", 
     "arguments"}]}], "*)"}], "\[IndentingNewLine]", 
  RowBox[{
   RowBox[{"ResourceFunction", "[", "\"\<WriteUnitTest\>\"", "]"}], "[", 
   RowBox[{"testFileName", ",", "\[IndentingNewLine]", 
    RowBox[{"And", "@@", 
     RowBox[{"{", "\[IndentingNewLine]", 
      RowBox[{
       RowBox[{
        RowBox[{"growth", "[", 
         RowBox[{"dc", ",", "t", ",", 
          RowBox[{"\"\<TimeAggregation\>\"", "->", "3"}], ",", 
          RowBox[{"\"\<numPeriods\>\"", "->", "1"}], ",", 
          RowBox[{"\"\<v0\>\"", "->", 
           RowBox[{"Function", "[", 
            RowBox[{
             RowBox[{"{", 
              RowBox[{
              "t", ",", "j", ",", "h", ",", "k", ",", "v", ",", "im"}], "}"}],
              ",", "0.0015"}], "]"}]}]}], "]"}], "==", 
        RowBox[{"0.`", "\[VeryThinSpace]", "+", 
         RowBox[{"0.3328334585207629`", " ", 
          RowBox[{"dc", "[", 
           RowBox[{
            RowBox[{"-", "4"}], "+", "t"}], "]"}]}], "+", 
         RowBox[{"0.6661665418542368`", " ", 
          RowBox[{"dc", "[", 
           RowBox[{
            RowBox[{"-", "3"}], "+", "t"}], "]"}]}], "+", 
         RowBox[{"dc", "[", 
          RowBox[{
           RowBox[{"-", "2"}], "+", "t"}], "]"}], "+", 
         RowBox[{"0.6671665414792372`", " ", 
          RowBox[{"dc", "[", 
           RowBox[{
            RowBox[{"-", "1"}], "+", "t"}], "]"}]}], "+", 
         RowBox[{"0.33383345814576315`", " ", 
          RowBox[{"dc", "[", "t", "]"}]}]}]}], ",", "\[IndentingNewLine]", 
       RowBox[{
        RowBox[{"growth", "[", 
         RowBox[{"dc", ",", "t", ",", 
          RowBox[{"\"\<TimeAggregation\>\"", "->", "3"}], ",", 
          RowBox[{"\"\<numPeriods\>\"", "->", "1"}], ",", 
          RowBox[{"\"\<v0\>\"", "->", 
           RowBox[{"Function", "[", 
            RowBox[{
             RowBox[{"{", 
              RowBox[{"t", ",", "j", ",", "h", ",", "k", ",", "v"}], "}"}], 
             ",", "0.0015"}], "]"}]}]}], "]"}], "==", 
        RowBox[{"0.`", "\[VeryThinSpace]", "+", 
         RowBox[{"0.3328334585207629`", " ", 
          RowBox[{"dc", "[", 
           RowBox[{
            RowBox[{"-", "4"}], "+", "t"}], "]"}]}], "+", 
         RowBox[{"0.6661665418542368`", " ", 
          RowBox[{"dc", "[", 
           RowBox[{
            RowBox[{"-", "3"}], "+", "t"}], "]"}]}], "+", 
         RowBox[{"dc", "[", 
          RowBox[{
           RowBox[{"-", "2"}], "+", "t"}], "]"}], "+", 
         RowBox[{"0.6671665414792372`", " ", 
          RowBox[{"dc", "[", 
           RowBox[{
            RowBox[{"-", "1"}], "+", "t"}], "]"}]}], "+", 
         RowBox[{"0.33383345814576315`", " ", 
          RowBox[{"dc", "[", "t", "]"}]}]}]}], ",", "\[IndentingNewLine]", 
       RowBox[{
        RowBox[{"growth", "[", 
         RowBox[{"dc", ",", "t", ",", 
          RowBox[{"\"\<TimeAggregation\>\"", "->", "3"}], ",", 
          RowBox[{"\"\<numPeriods\>\"", "->", "1"}], ",", 
          RowBox[{"\"\<v0\>\"", "->", 
           RowBox[{"Function", "[", 
            RowBox[{
             RowBox[{"{", 
              RowBox[{"t", ",", "j", ",", "h", ",", "k"}], "}"}], ",", 
             "0.0015"}], "]"}]}]}], "]"}], "==", 
        RowBox[{"0.`", "\[VeryThinSpace]", "+", 
         RowBox[{"0.3328334585207629`", " ", 
          RowBox[{"dc", "[", 
           RowBox[{
            RowBox[{"-", "4"}], "+", "t"}], "]"}]}], "+", 
         RowBox[{"0.6661665418542368`", " ", 
          RowBox[{"dc", "[", 
           RowBox[{
            RowBox[{"-", "3"}], "+", "t"}], "]"}]}], "+", 
         RowBox[{"dc", "[", 
          RowBox[{
           RowBox[{"-", "2"}], "+", "t"}], "]"}], "+", 
         RowBox[{"0.6671665414792372`", " ", 
          RowBox[{"dc", "[", 
           RowBox[{
            RowBox[{"-", "1"}], "+", "t"}], "]"}]}], "+", 
         RowBox[{"0.33383345814576315`", " ", 
          RowBox[{"dc", "[", "t", "]"}]}]}]}], ",", "\[IndentingNewLine]", 
       RowBox[{
        RowBox[{"growth", "[", 
         RowBox[{"dc", ",", "t", ",", 
          RowBox[{"\"\<TimeAggregation\>\"", "->", "3"}], ",", 
          RowBox[{"\"\<numPeriods\>\"", "->", "1"}], ",", 
          RowBox[{"\"\<v0\>\"", "->", 
           RowBox[{"Function", "[", 
            RowBox[{
             RowBox[{"{", 
              RowBox[{"t", ",", "j", ",", "h"}], "}"}], ",", "0.0015"}], 
            "]"}]}]}], "]"}], "==", 
        RowBox[{"0.`", "\[VeryThinSpace]", "+", 
         RowBox[{"0.3328334585207629`", " ", 
          RowBox[{"dc", "[", 
           RowBox[{
            RowBox[{"-", "4"}], "+", "t"}], "]"}]}], "+", 
         RowBox[{"0.6661665418542368`", " ", 
          RowBox[{"dc", "[", 
           RowBox[{
            RowBox[{"-", "3"}], "+", "t"}], "]"}]}], "+", 
         RowBox[{"dc", "[", 
          RowBox[{
           RowBox[{"-", "2"}], "+", "t"}], "]"}], "+", 
         RowBox[{"0.6671665414792372`", " ", 
          RowBox[{"dc", "[", 
           RowBox[{
            RowBox[{"-", "1"}], "+", "t"}], "]"}]}], "+", 
         RowBox[{"0.33383345814576315`", " ", 
          RowBox[{"dc", "[", "t", "]"}]}]}]}], ",", "\[IndentingNewLine]", 
       RowBox[{"(*", 
        RowBox[{
         RowBox[{"constant", " ", "v0"}], ",", " ", 
         RowBox[{"different", " ", "symbols", " ", "as", " ", "arguments"}]}],
         "*)"}], "\[IndentingNewLine]", 
       RowBox[{
        RowBox[{"growth", "[", 
         RowBox[{"dc", ",", "t", ",", 
          RowBox[{"\"\<TimeAggregation\>\"", "->", "3"}], ",", 
          RowBox[{"\"\<numPeriods\>\"", "->", "1"}], ",", 
          RowBox[{"\"\<v0\>\"", "->", 
           RowBox[{"Function", "[", 
            RowBox[{
             RowBox[{"{", 
              RowBox[{"t", ",", "j"}], "}"}], ",", "0.0015"}], "]"}]}]}], 
         "]"}], "==", 
        RowBox[{"0.`", "\[VeryThinSpace]", "+", 
         RowBox[{"0.3328334585207629`", " ", 
          RowBox[{"dc", "[", 
           RowBox[{
            RowBox[{"-", "4"}], "+", "t"}], "]"}]}], "+", 
         RowBox[{"0.6661665418542368`", " ", 
          RowBox[{"dc", "[", 
           RowBox[{
            RowBox[{"-", "3"}], "+", "t"}], "]"}]}], "+", 
         RowBox[{"dc", "[", 
          RowBox[{
           RowBox[{"-", "2"}], "+", "t"}], "]"}], "+", 
         RowBox[{"0.6671665414792372`", " ", 
          RowBox[{"dc", "[", 
           RowBox[{
            RowBox[{"-", "1"}], "+", "t"}], "]"}]}], "+", 
         RowBox[{"0.33383345814576315`", " ", 
          RowBox[{"dc", "[", "t", "]"}]}]}]}], ",", "\[IndentingNewLine]", 
       RowBox[{
        RowBox[{"growth", "[", 
         RowBox[{"dc", ",", "t", ",", 
          RowBox[{"\"\<TimeAggregation\>\"", "->", "3"}], ",", 
          RowBox[{"\"\<numPeriods\>\"", "->", "1"}], ",", 
          RowBox[{"\"\<v0\>\"", "->", 
           RowBox[{"Function", "[", 
            RowBox[{
             RowBox[{"{", "t", "}"}], ",", "0.0015"}], "]"}]}]}], "]"}], "==", 
        RowBox[{"0.`", "\[VeryThinSpace]", "+", 
         RowBox[{"0.3328334585207629`", " ", 
          RowBox[{"dc", "[", 
           RowBox[{
            RowBox[{"-", "4"}], "+", "t"}], "]"}]}], "+", 
         RowBox[{"0.6661665418542368`", " ", 
          RowBox[{"dc", "[", 
           RowBox[{
            RowBox[{"-", "3"}], "+", "t"}], "]"}]}], "+", 
         RowBox[{"dc", "[", 
          RowBox[{
           RowBox[{"-", "2"}], "+", "t"}], "]"}], "+", 
         RowBox[{"0.6671665414792372`", " ", 
          RowBox[{"dc", "[", 
           RowBox[{
            RowBox[{"-", "1"}], "+", "t"}], "]"}]}], "+", 
         RowBox[{"0.33383345814576315`", " ", 
          RowBox[{"dc", "[", "t", "]"}]}]}]}], ",", "\[IndentingNewLine]", 
       RowBox[{
        RowBox[{"growth", "[", 
         RowBox[{"dc", ",", "t", ",", 
          RowBox[{"\"\<TimeAggregation\>\"", "->", "3"}], ",", 
          RowBox[{"\"\<numPeriods\>\"", "->", "1"}], ",", 
          RowBox[{"\"\<v0\>\"", "->", 
           RowBox[{"Function", "[", 
            RowBox[{
             RowBox[{"{", "}"}], ",", "0.0015"}], "]"}]}]}], "]"}], "==", 
        RowBox[{"0.`", "\[VeryThinSpace]", "+", 
         RowBox[{"0.3328334585207629`", " ", 
          RowBox[{"dc", "[", 
           RowBox[{
            RowBox[{"-", "4"}], "+", "t"}], "]"}]}], "+", 
         RowBox[{"0.6661665418542368`", " ", 
          RowBox[{"dc", "[", 
           RowBox[{
            RowBox[{"-", "3"}], "+", "t"}], "]"}]}], "+", 
         RowBox[{"dc", "[", 
          RowBox[{
           RowBox[{"-", "2"}], "+", "t"}], "]"}], "+", 
         RowBox[{"0.6671665414792372`", " ", 
          RowBox[{"dc", "[", 
           RowBox[{
            RowBox[{"-", "1"}], "+", "t"}], "]"}]}], "+", 
         RowBox[{"0.33383345814576315`", " ", 
          RowBox[{"dc", "[", "t", "]"}]}]}]}]}], "\[IndentingNewLine]", 
      "}"}]}], "\[IndentingNewLine]", ",", 
    RowBox[{"\"\<ConfirmResults\>\"", "\[Rule]", "False"}]}], 
   "]"}]}]], "Input",
 CellChangeTimes->{{3.890397132800043*^9, 3.890397245124961*^9}, {
   3.890402620539359*^9, 3.890402620835738*^9}, {3.8905909075478067`*^9, 
   3.89059090865847*^9}, {3.905132355704953*^9, 3.905132365625505*^9}, {
   3.905133511930475*^9, 3.905133513798511*^9}, {3.905133695362563*^9, 
   3.905133695602569*^9}, {3.9051338238575153`*^9, 3.905133833621661*^9}, {
   3.905134616550844*^9, 3.905134616820345*^9}, 3.9051347401437197`*^9},
 CellLabel->"In[17]:=",ExpressionUUID->"3c8a5a97-d0e2-451a-b7dc-17474dc0fd3f"],

Cell[BoxData[
 RowBox[{
  RowBox[{"(*", 
   RowBox[{"v0", " ", "as", " ", "a", " ", "function", " ", "of", " ", "t"}], 
   "*)"}], "\[IndentingNewLine]", 
  RowBox[{
   RowBox[{"ResourceFunction", "[", "\"\<WriteUnitTest\>\"", "]"}], "[", 
   RowBox[{"testFileName", ",", "\[IndentingNewLine]", 
    RowBox[{"And", "@@", 
     RowBox[{"{", "\[IndentingNewLine]", 
      RowBox[{
       RowBox[{"Simplify", "@", 
        RowBox[{"growth", "[", 
         RowBox[{"dc", ",", "t", ",", 
          RowBox[{"\"\<TimeAggregation\>\"", "->", "3"}], ",", 
          RowBox[{"\"\<numPeriods\>\"", "->", "1"}], ",", 
          RowBox[{"\"\<v0\>\"", "->", 
           RowBox[{"Function", "[", 
            RowBox[{
             RowBox[{"{", 
              RowBox[{
              "t", ",", "j", ",", "h", ",", "k", ",", "v", ",", "im"}], "}"}],
              ",", "t"}], "]"}]}]}], "]"}]}], "==", 
       RowBox[{
        FractionBox["1", 
         RowBox[{"1", "+", 
          SuperscriptBox["\[ExponentialE]", "t"], "+", 
          SuperscriptBox["\[ExponentialE]", 
           RowBox[{"2", " ", "t"}]]}]], 
        RowBox[{"(", 
         RowBox[{
          RowBox[{"dc", "[", 
           RowBox[{
            RowBox[{"-", "4"}], "+", "t"}], "]"}], "+", 
          RowBox[{
           RowBox[{"(", 
            RowBox[{"1", "+", 
             SuperscriptBox["\[ExponentialE]", "t"]}], ")"}], " ", 
           RowBox[{"dc", "[", 
            RowBox[{
             RowBox[{"-", "3"}], "+", "t"}], "]"}]}], "+", 
          RowBox[{"dc", "[", 
           RowBox[{
            RowBox[{"-", "2"}], "+", "t"}], "]"}], "+", 
          RowBox[{
           SuperscriptBox["\[ExponentialE]", "t"], " ", 
           RowBox[{"dc", "[", 
            RowBox[{
             RowBox[{"-", "2"}], "+", "t"}], "]"}]}], "+", 
          RowBox[{
           SuperscriptBox["\[ExponentialE]", 
            RowBox[{"2", " ", "t"}]], " ", 
           RowBox[{"dc", "[", 
            RowBox[{
             RowBox[{"-", "2"}], "+", "t"}], "]"}]}], "+", 
          RowBox[{
           SuperscriptBox["\[ExponentialE]", "t"], " ", 
           RowBox[{"dc", "[", 
            RowBox[{
             RowBox[{"-", "1"}], "+", "t"}], "]"}]}], "+", 
          RowBox[{
           SuperscriptBox["\[ExponentialE]", 
            RowBox[{"2", " ", "t"}]], " ", 
           RowBox[{"dc", "[", 
            RowBox[{
             RowBox[{"-", "1"}], "+", "t"}], "]"}]}], "+", 
          RowBox[{
           SuperscriptBox["\[ExponentialE]", 
            RowBox[{"2", " ", "t"}]], " ", 
           RowBox[{"dc", "[", "t", "]"}]}]}], ")"}]}]}], 
      "\[IndentingNewLine]", "}"}]}], "\[IndentingNewLine]", ",", 
    RowBox[{"\"\<ConfirmResults\>\"", "\[Rule]", "False"}]}], 
   "]"}]}]], "Input",
 CellChangeTimes->{{3.890188230618291*^9, 3.89018826221737*^9}, {
   3.8901960603832684`*^9, 3.890196060384165*^9}, 3.8903633949009027`*^9, {
   3.89038254616477*^9, 3.890382546165432*^9}, {3.890382638645205*^9, 
   3.89038268764703*^9}, {3.890382718668954*^9, 3.890383019692555*^9}, {
   3.890383063629991*^9, 3.890383067543963*^9}, {3.890396495869184*^9, 
   3.890396499637044*^9}, {3.890402316707736*^9, 3.8904023552940407`*^9}, 
   3.890590908857563*^9, {3.905132375508904*^9, 3.905132381918507*^9}, {
   3.905133522889653*^9, 3.9051335231154833`*^9}, {3.905133698038678*^9, 
   3.905133698266244*^9}, {3.905134620409471*^9, 3.905134621237426*^9}, 
   3.905134743991967*^9},
 CellLabel->"In[18]:=",ExpressionUUID->"d2efaf6e-daa9-4915-bfba-b61a5bdc8cfe"],

Cell[BoxData[
 RowBox[{
  RowBox[{"(*", 
   RowBox[{"v0", " ", "as", " ", "a", " ", "function", " ", "of", " ", "h"}], 
   "*)"}], "\[IndentingNewLine]", 
  RowBox[{
   RowBox[{"ResourceFunction", "[", "\"\<WriteUnitTest\>\"", "]"}], "[", 
   RowBox[{"testFileName", ",", "\[IndentingNewLine]", 
    RowBox[{"And", "@@", 
     RowBox[{"{", "\[IndentingNewLine]", 
      RowBox[{
       RowBox[{"FreeQ", "[", 
        RowBox[{
         RowBox[{"growth", "[", 
          RowBox[{"dc", ",", "t", ",", 
           RowBox[{"\"\<TimeAggregation\>\"", "->", "3"}], ",", 
           RowBox[{"\"\<numPeriods\>\"", "->", "1"}], ",", 
           RowBox[{"\"\<v0\>\"", "->", 
            RowBox[{"Function", "[", 
             RowBox[{
              RowBox[{"{", 
               RowBox[{
               "t", ",", "j", ",", "h", ",", "k", ",", "v", ",", "im"}], 
               "}"}], ",", 
              RowBox[{"If", "[", 
               RowBox[{
                RowBox[{"h", "==", "12"}], ",", "h12", ",", "hnot12"}], 
               "]"}]}], "]"}]}]}], "]"}], ",", "h12"}], "]"}], ",", 
       "\[IndentingNewLine]", 
       RowBox[{"FreeQ", "[", 
        RowBox[{
         RowBox[{"growth", "[", 
          RowBox[{"dc", ",", "t", ",", 
           RowBox[{"\"\<TimeAggregation\>\"", "->", "12"}], ",", 
           RowBox[{"\"\<numPeriods\>\"", "->", "1"}], ",", 
           RowBox[{"\"\<v0\>\"", "->", 
            RowBox[{"Function", "[", 
             RowBox[{
              RowBox[{"{", 
               RowBox[{
               "t", ",", "j", ",", "h", ",", "k", ",", "v", ",", "im"}], 
               "}"}], ",", 
              RowBox[{"If", "[", 
               RowBox[{
                RowBox[{"h", "==", "12"}], ",", "h12", ",", "hnot12"}], 
               "]"}]}], "]"}]}]}], "]"}], ",", "hnot12"}], "]"}]}], 
      "\[IndentingNewLine]", "}"}]}], "\[IndentingNewLine]", ",", 
    RowBox[{"\"\<ConfirmResults\>\"", "\[Rule]", "False"}]}], 
   "]"}]}]], "Input",
 CellChangeTimes->{{3.890188230618291*^9, 3.89018826221737*^9}, {
   3.8901960603832684`*^9, 3.890196060384165*^9}, 3.8903633949009027`*^9, {
   3.89038254616477*^9, 3.890382546165432*^9}, {3.890382638645205*^9, 
   3.89038268764703*^9}, {3.890382718668954*^9, 3.890383019692555*^9}, {
   3.890383063629991*^9, 3.890383067543963*^9}, {3.890396495869184*^9, 
   3.890396499637044*^9}, {3.890402316707736*^9, 3.8904023552940407`*^9}, {
   3.8905909091964283`*^9, 3.890590909476776*^9}, {3.890591000348248*^9, 
   3.890591030600806*^9}, {3.905133525249123*^9, 3.9051335254956703`*^9}, {
   3.905133700662964*^9, 3.905133700921669*^9}, 3.905133840102029*^9, 
   3.9051346262878637`*^9, 3.905134745678773*^9},
 CellLabel->"In[19]:=",ExpressionUUID->"f2722336-7dc0-4a63-b634-0c1270e1cbca"],

Cell[BoxData[
 RowBox[{
  RowBox[{"(*", 
   RowBox[{
    RowBox[{"for", " ", "v0", " ", "independent", " ", "of", " ", "j"}], ",", 
    " ", 
    RowBox[{
    "constant", " ", "term", " ", "in", " ", "expansion", " ", "should", " ", 
     "be", " ", "0"}]}], "*)"}], "\[IndentingNewLine]", 
  RowBox[{
   RowBox[{"ResourceFunction", "[", "\"\<WriteUnitTest\>\"", "]"}], "[", 
   RowBox[{"testFileName", ",", "\[IndentingNewLine]", 
    RowBox[{"And", "@@", 
     RowBox[{"{", "\[IndentingNewLine]", 
      RowBox[{
       RowBox[{"0", "===", 
        RowBox[{"(", 
         RowBox[{
          RowBox[{"Coefficient", "[", 
           RowBox[{
            RowBox[{
             RowBox[{"growth", "[", 
              RowBox[{"dc", ",", "t", ",", 
               RowBox[{"\"\<TimeAggregation\>\"", "->", "3"}], ",", 
               RowBox[{"\"\<numPeriods\>\"", "->", "1"}], ",", 
               RowBox[{"\"\<v0\>\"", "->", 
                RowBox[{"Function", "[", 
                 RowBox[{
                  RowBox[{"{", 
                   RowBox[{
                   "t", ",", "j", ",", "h", ",", "k", ",", "v", ",", "im"}], 
                   "}"}], ",", 
                  RowBox[{
                   RowBox[{"-", "1"}], "/", 
                   RowBox[{"(", 
                    RowBox[{"h", "+", "1"}], ")"}]}]}], "]"}]}]}], "]"}], "/.", 
             RowBox[{
              RowBox[{"dc", "[", "__", "]"}], "->", "dcX"}]}], ",", "dcX", 
            ",", "0"}], "]"}], "//", "FullSimplify"}], ")"}]}], ",", 
       "\[IndentingNewLine]", 
       RowBox[{"0", "===", 
        RowBox[{"(", 
         RowBox[{
          RowBox[{"Coefficient", "[", 
           RowBox[{
            RowBox[{
             RowBox[{"growth", "[", 
              RowBox[{"dc", ",", "t", ",", 
               RowBox[{"\"\<TimeAggregation\>\"", "->", "3"}], ",", 
               RowBox[{"\"\<numPeriods\>\"", "->", "3"}], ",", 
               RowBox[{"\"\<v0\>\"", "->", 
                RowBox[{"Function", "[", 
                 RowBox[{
                  RowBox[{"{", 
                   RowBox[{
                   "t", ",", "j", ",", "h", ",", "k", ",", "v", ",", "im"}], 
                   "}"}], ",", 
                  RowBox[{"h", "^", "2"}]}], "]"}]}]}], "]"}], "/.", 
             RowBox[{
              RowBox[{"dc", "[", "__", "]"}], "->", "dcX"}]}], ",", "dcX", 
            ",", "0"}], "]"}], "//", "FullSimplify"}], ")"}]}], ",", 
       "\[IndentingNewLine]", 
       RowBox[{"0", "===", 
        RowBox[{"(", 
         RowBox[{
          RowBox[{"Coefficient", "[", 
           RowBox[{
            RowBox[{
             RowBox[{"growth", "[", 
              RowBox[{"dc", ",", "t", ",", 
               RowBox[{"\"\<TimeAggregation\>\"", "->", "3"}], ",", 
               RowBox[{"\"\<numPeriods\>\"", "->", "1"}], ",", 
               RowBox[{"\"\<v0\>\"", "->", 
                RowBox[{"Function", "[", 
                 RowBox[{
                  RowBox[{"{", 
                   RowBox[{
                   "t", ",", "j", ",", "h", ",", "k", ",", "v", ",", "im"}], 
                   "}"}], ",", "im"}], "]"}]}]}], "]"}], "/.", 
             RowBox[{
              RowBox[{"dc", "[", "__", "]"}], "->", "dcX"}]}], ",", "dcX", 
            ",", "0"}], "]"}], "//", "FullSimplify"}], ")"}]}], ",", 
       "\[IndentingNewLine]", 
       RowBox[{"0", "===", 
        RowBox[{"(", 
         RowBox[{
          RowBox[{"Coefficient", "[", 
           RowBox[{
            RowBox[{
             RowBox[{"growth", "[", 
              RowBox[{"dc", ",", "t", ",", 
               RowBox[{"\"\<TimeAggregation\>\"", "->", "3"}], ",", 
               RowBox[{"\"\<numPeriods\>\"", "->", "3"}], ",", 
               RowBox[{"\"\<v0\>\"", "->", 
                RowBox[{"Function", "[", 
                 RowBox[{
                  RowBox[{"{", 
                   RowBox[{
                   "t", ",", "j", ",", "h", ",", "k", ",", "v", ",", "im"}], 
                   "}"}], ",", "v"}], "]"}]}]}], "]"}], "/.", 
             RowBox[{
              RowBox[{"dc", "[", "__", "]"}], "->", "dcX"}]}], ",", "dcX", 
            ",", "0"}], "]"}], "//", "FullSimplify"}], ")"}]}], ",", 
       "\[IndentingNewLine]", 
       RowBox[{"0", "===", 
        RowBox[{"(", 
         RowBox[{
          RowBox[{"Coefficient", "[", 
           RowBox[{
            RowBox[{
             RowBox[{"growth", "[", 
              RowBox[{"dd", ",", "t", ",", "i", ",", 
               RowBox[{"\"\<TimeAggregation\>\"", "->", "3"}], ",", 
               RowBox[{"\"\<numPeriods\>\"", "->", "1"}], ",", 
               RowBox[{"\"\<v0\>\"", "->", 
                RowBox[{"Function", "[", 
                 RowBox[{
                  RowBox[{"{", 
                   RowBox[{
                   "t", ",", "j", ",", "h", ",", "k", ",", "v", ",", "im"}], 
                   "}"}], ",", "im"}], "]"}]}]}], "]"}], "/.", 
             RowBox[{
              RowBox[{"dd", "[", 
               RowBox[{"__", ",", "i"}], "]"}], "->", "ddX"}]}], ",", "ddX", 
            ",", "0"}], "]"}], "//", "FullSimplify"}], ")"}]}]}], 
      "\[IndentingNewLine]", "}"}]}], "\[IndentingNewLine]", ",", 
    RowBox[{"\"\<ConfirmResults\>\"", "\[Rule]", "False"}]}], 
   "]"}]}]], "Input",
 CellChangeTimes->{{3.890384749988565*^9, 3.8903848671079073`*^9}, {
   3.890385086577386*^9, 3.890385132765119*^9}, {3.8903851882869177`*^9, 
   3.890385211185302*^9}, {3.890385645996904*^9, 3.890385670244089*^9}, {
   3.890385842455722*^9, 3.890385936794145*^9}, {3.8903859905439873`*^9, 
   3.890385999357443*^9}, {3.890392502148799*^9, 3.890392502486706*^9}, {
   3.89039650846305*^9, 3.8903965159334*^9}, 3.890402287469048*^9, {
   3.890402629564251*^9, 3.8904026351157513`*^9}, {3.890407259759863*^9, 
   3.89040726389555*^9}, {3.8905909096771193`*^9, 3.890590911247868*^9}, {
   3.890591349401698*^9, 3.890591358117527*^9}, {3.9051335280180407`*^9, 
   3.905133528246677*^9}, {3.9051337032625*^9, 3.9051337034809647`*^9}, {
   3.9051338441504517`*^9, 3.905133852704021*^9}, 3.905134628361075*^9, 
   3.905134748248033*^9},
 CellLabel->"In[20]:=",ExpressionUUID->"0fa2de49-cb7b-4808-ba31-e60067c6ab3a"],

Cell[BoxData[
 RowBox[{
  RowBox[{"(*", 
   RowBox[{
    RowBox[{"for", " ", "v0", 
     RowBox[{"(", 
      RowBox[{"t", ",", "h", ",", "j"}], ")"}], " ", "independent", " ", "of",
      " ", "j"}], ",", " ", 
    RowBox[{
    "constant", " ", "term", " ", "in", " ", "expansion", " ", "should", " ", 
     "be", " ", "0"}]}], "*)"}], "\[IndentingNewLine]", 
  RowBox[{
   RowBox[{"ResourceFunction", "[", "\"\<WriteUnitTest\>\"", "]"}], "[", 
   RowBox[{
   "testFileName", ",", "\[IndentingNewLine]", "\[IndentingNewLine]", 
    RowBox[{
     RowBox[{"arbitraryFun1", "=", 
      RowBox[{"Function", "[", 
       RowBox[{
        RowBox[{"{", 
         RowBox[{"t", ",", "j", ",", "h", ",", "k", ",", "v"}], "}"}], ",", 
        RowBox[{"Sqrt", "[", "h", "]"}]}], "]"}]}], ";", 
     "\[IndentingNewLine]", 
     RowBox[{"arbitraryFun2", "=", 
      RowBox[{"Function", "[", 
       RowBox[{
        RowBox[{"{", 
         RowBox[{"t", ",", "j", ",", "h", ",", "k", ",", "v"}], "}"}], ",", 
        RowBox[{"If", "[", 
         RowBox[{
          RowBox[{"v", "==", "dd"}], ",", 
          RowBox[{"Sqrt", "[", "h", "]"}], ",", 
          RowBox[{"Cos", "[", "h", "]"}]}], "]"}]}], "]"}]}], ";", 
     "\[IndentingNewLine]", 
     RowBox[{"arbitraryFun3", "=", 
      RowBox[{"Function", "[", 
       RowBox[{
        RowBox[{"{", 
         RowBox[{"t", ",", "j", ",", "h", ",", "k", ",", "v"}], "}"}], ",", 
        RowBox[{"-", "h"}]}], "]"}]}], ";", "\[IndentingNewLine]", 
     RowBox[{"arbitraryFun4", "=", 
      RowBox[{"Function", "[", 
       RowBox[{
        RowBox[{"{", 
         RowBox[{"t", ",", "j", ",", "h", ",", "k", ",", "v"}], "}"}], ",", 
        RowBox[{
         RowBox[{
          RowBox[{"Sqrt", "[", "h", "]"}], "t"}], " ", "-", 
         RowBox[{"k", "^", "2"}]}]}], "]"}]}], ";", "\[IndentingNewLine]", 
     RowBox[{"arbitraryFun5", "=", 
      RowBox[{"Function", "[", 
       RowBox[{
        RowBox[{"{", 
         RowBox[{"t", ",", "j", ",", "h", ",", "k", ",", "v"}], "}"}], ",", 
        RowBox[{"If", "[", 
         RowBox[{
          RowBox[{"v", "==", "dd"}], ",", 
          RowBox[{
           RowBox[{"Sqrt", "[", "h", "]"}], 
           RowBox[{"Sqrt", "[", "t", "]"}]}], ",", 
          RowBox[{
           RowBox[{"Exp", "[", "t", "]"}], 
           RowBox[{"Cos", "[", "h", "]"}]}]}], "]"}]}], "]"}]}], ";", 
     "\[IndentingNewLine]", 
     RowBox[{"arbitraryFun6", "=", 
      RowBox[{"Function", "[", 
       RowBox[{
        RowBox[{"{", 
         RowBox[{"t", ",", "j", ",", "h", ",", "k", ",", "v"}], "}"}], ",", 
        RowBox[{
         RowBox[{"-", "h"}], "*", "t", "*", "k"}]}], "]"}]}], ";", 
     "\[IndentingNewLine]", 
     RowBox[{"And", "@@", 
      RowBox[{"{", "\[IndentingNewLine]", 
       RowBox[{
        RowBox[{
         RowBox[{
          RowBox[{"0", "===", 
           RowBox[{"(", 
            RowBox[{
             RowBox[{"Coefficient", "[", 
              RowBox[{
               RowBox[{
                RowBox[{"growth", "[", 
                 RowBox[{"dc", ",", "t", ",", 
                  RowBox[{"\"\<TimeAggregation\>\"", "->", "3"}], ",", 
                  RowBox[{"\"\<numPeriods\>\"", "->", "1"}], ",", 
                  RowBox[{"\"\<v0\>\"", "->", 
                   RowBox[{"Function", "[", 
                    RowBox[{
                    RowBox[{"{", 
                    RowBox[{
                    "t", ",", "j", ",", "h", ",", "k", ",", "v", ",", "im"}], 
                    "}"}], ",", 
                    RowBox[{"F", "[", 
                    RowBox[{"h", ",", "v", ",", "im"}], "]"}]}], "]"}]}]}], 
                 "]"}], "/.", 
                RowBox[{
                 RowBox[{"dc", "[", "__", "]"}], "->", "dcX"}]}], ",", "dcX", 
               ",", "0"}], "]"}], "//", "FullSimplify"}], ")"}]}], "/.", 
          RowBox[{"F", "->", "arbitraryFun1"}]}], "//", "N"}], ",", 
        "\[IndentingNewLine]", 
        RowBox[{
         RowBox[{
          RowBox[{"0", "===", 
           RowBox[{"(", 
            RowBox[{
             RowBox[{"Coefficient", "[", 
              RowBox[{
               RowBox[{
                RowBox[{"growth", "[", 
                 RowBox[{"dc", ",", "t", ",", 
                  RowBox[{"\"\<TimeAggregation\>\"", "->", "3"}], ",", 
                  RowBox[{"\"\<numPeriods\>\"", "->", "1"}], ",", 
                  RowBox[{"\"\<v0\>\"", "->", 
                   RowBox[{"Function", "[", 
                    RowBox[{
                    RowBox[{"{", 
                    RowBox[{
                    "t", ",", "j", ",", "h", ",", "k", ",", "v", ",", "im"}], 
                    "}"}], ",", 
                    RowBox[{"F", "[", 
                    RowBox[{"h", ",", "v", ",", "im"}], "]"}]}], "]"}]}]}], 
                 "]"}], "/.", 
                RowBox[{
                 RowBox[{"dc", "[", "__", "]"}], "->", "dcX"}]}], ",", "dcX", 
               ",", "0"}], "]"}], "//", "FullSimplify"}], ")"}]}], "/.", 
          RowBox[{"F", "->", "arbitraryFun2"}]}], "//", "N"}], ",", 
        "\[IndentingNewLine]", 
        RowBox[{
         RowBox[{
          RowBox[{"0", "===", 
           RowBox[{"(", 
            RowBox[{
             RowBox[{"Coefficient", "[", 
              RowBox[{
               RowBox[{
                RowBox[{"growth", "[", 
                 RowBox[{"dc", ",", "t", ",", 
                  RowBox[{"\"\<TimeAggregation\>\"", "->", "3"}], ",", 
                  RowBox[{"\"\<numPeriods\>\"", "->", "1"}], ",", 
                  RowBox[{"\"\<v0\>\"", "->", 
                   RowBox[{"Function", "[", 
                    RowBox[{
                    RowBox[{"{", 
                    RowBox[{
                    "t", ",", "j", ",", "h", ",", "k", ",", "v", ",", "im"}], 
                    "}"}], ",", 
                    RowBox[{"F", "[", 
                    RowBox[{"h", ",", "v", ",", "im"}], "]"}]}], "]"}]}]}], 
                 "]"}], "/.", 
                RowBox[{
                 RowBox[{"dc", "[", "__", "]"}], "->", "dcX"}]}], ",", "dcX", 
               ",", "0"}], "]"}], "//", "FullSimplify"}], ")"}]}], "/.", 
          RowBox[{"F", "->", "arbitraryFun3"}]}], "//", "N"}], ",", 
        "\[IndentingNewLine]", 
        RowBox[{
         RowBox[{
          RowBox[{"0", "===", 
           RowBox[{"(", 
            RowBox[{
             RowBox[{"Coefficient", "[", 
              RowBox[{
               RowBox[{
                RowBox[{"growth", "[", 
                 RowBox[{"dc", ",", "t", ",", 
                  RowBox[{"\"\<TimeAggregation\>\"", "->", "3"}], ",", 
                  RowBox[{"\"\<numPeriods\>\"", "->", "1"}], ",", 
                  RowBox[{"\"\<v0\>\"", "->", 
                   RowBox[{"Function", "[", 
                    RowBox[{
                    RowBox[{"{", 
                    RowBox[{
                    "t", ",", "j", ",", "h", ",", "k", ",", "v", ",", "im"}], 
                    "}"}], ",", 
                    RowBox[{"F", "[", 
                    RowBox[{"h", ",", "v", ",", "im"}], "]"}]}], "]"}]}]}], 
                 "]"}], "/.", 
                RowBox[{
                 RowBox[{"dc", "[", "__", "]"}], "->", "dcX"}]}], ",", "dcX", 
               ",", "0"}], "]"}], "//", "FullSimplify"}], ")"}]}], "/.", 
          RowBox[{"F", "->", "arbitraryFun4"}]}], "//", "N"}], ",", 
        "\[IndentingNewLine]", 
        RowBox[{
         RowBox[{
          RowBox[{"0", "===", 
           RowBox[{"(", 
            RowBox[{
             RowBox[{"Coefficient", "[", 
              RowBox[{
               RowBox[{
                RowBox[{"growth", "[", 
                 RowBox[{"dc", ",", "t", ",", 
                  RowBox[{"\"\<TimeAggregation\>\"", "->", "3"}], ",", 
                  RowBox[{"\"\<numPeriods\>\"", "->", "1"}], ",", 
                  RowBox[{"\"\<v0\>\"", "->", 
                   RowBox[{"Function", "[", 
                    RowBox[{
                    RowBox[{"{", 
                    RowBox[{
                    "t", ",", "j", ",", "h", ",", "k", ",", "v", ",", "im"}], 
                    "}"}], ",", 
                    RowBox[{"F", "[", 
                    RowBox[{"h", ",", "v", ",", "im"}], "]"}]}], "]"}]}]}], 
                 "]"}], "/.", 
                RowBox[{
                 RowBox[{"dc", "[", "__", "]"}], "->", "dcX"}]}], ",", "dcX", 
               ",", "0"}], "]"}], "//", "FullSimplify"}], ")"}]}], "/.", 
          RowBox[{"F", "->", "arbitraryFun5"}]}], "//", "N"}], ",", 
        "\[IndentingNewLine]", 
        RowBox[{
         RowBox[{
          RowBox[{"0", "===", 
           RowBox[{"(", 
            RowBox[{
             RowBox[{"Coefficient", "[", 
              RowBox[{
               RowBox[{
                RowBox[{"growth", "[", 
                 RowBox[{"dc", ",", "t", ",", 
                  RowBox[{"\"\<TimeAggregation\>\"", "->", "3"}], ",", 
                  RowBox[{"\"\<numPeriods\>\"", "->", "1"}], ",", 
                  RowBox[{"\"\<v0\>\"", "->", 
                   RowBox[{"Function", "[", 
                    RowBox[{
                    RowBox[{"{", 
                    RowBox[{
                    "t", ",", "j", ",", "h", ",", "k", ",", "v", ",", "im"}], 
                    "}"}], ",", 
                    RowBox[{"F", "[", 
                    RowBox[{"h", ",", "v", ",", "im"}], "]"}]}], "]"}]}]}], 
                 "]"}], "/.", 
                RowBox[{
                 RowBox[{"dc", "[", "__", "]"}], "->", "dcX"}]}], ",", "dcX", 
               ",", "0"}], "]"}], "//", "FullSimplify"}], ")"}]}], "/.", 
          RowBox[{"F", "->", "arbitraryFun6"}]}], "//", "N"}]}], 
       "\[IndentingNewLine]", "}"}]}]}], "\[IndentingNewLine]", ",", 
    RowBox[{"\"\<ConfirmResults\>\"", "\[Rule]", "False"}]}], 
   "]"}]}]], "Input",
 CellChangeTimes->{{3.890384749988565*^9, 3.8903848671079073`*^9}, {
   3.890385086577386*^9, 3.890385132765119*^9}, {3.8903851882869177`*^9, 
   3.890385211185302*^9}, {3.890385645996904*^9, 3.890385670244089*^9}, {
   3.890385842455722*^9, 3.890385936794145*^9}, 3.890385978222056*^9, {
   3.8903861480636463`*^9, 3.890386183253318*^9}, {3.890396522542078*^9, 
   3.890396526851598*^9}, {3.8904022814019737`*^9, 3.890402284719747*^9}, {
   3.890402373224584*^9, 3.8904024058293343`*^9}, {3.890402436809697*^9, 
   3.890402505325487*^9}, {3.890402656401352*^9, 3.890402663821278*^9}, {
   3.89059091223176*^9, 3.8905909132612534`*^9}, 3.890591364980472*^9, {
   3.905133531763711*^9, 3.90513353206312*^9}, {3.905133711614859*^9, 
   3.9051337200020237`*^9}, {3.905133860291556*^9, 3.905133871355505*^9}, {
   3.905134636641831*^9, 3.9051346368404217`*^9}, 3.905134752063456*^9, 
   3.905134935730102*^9},
 CellLabel->"In[21]:=",ExpressionUUID->"70d21983-02b1-459f-b6af-f74afa8d088d"],

Cell[BoxData[
 RowBox[{
  RowBox[{"(*", 
   RowBox[{
   "dependence", " ", "on", " ", "j", " ", "implies", " ", "constant", " ", 
    "term", " ", "in", " ", "expansion", " ", "is", " ", "not", " ", 
    "necessarily", " ", "0"}], "*)"}], "\[IndentingNewLine]", 
  RowBox[{
   RowBox[{"ResourceFunction", "[", "\"\<WriteUnitTest\>\"", "]"}], "[", 
   RowBox[{"testFileName", ",", "\[IndentingNewLine]", 
    RowBox[{"And", "@@", 
     RowBox[{"{", "\[IndentingNewLine]", 
      RowBox[{"Not", "[", 
       RowBox[{
        RowBox[{"0", "===", 
         RowBox[{"Coefficient", "[", 
          RowBox[{
           RowBox[{
            RowBox[{"growth", "[", 
             RowBox[{"dc", ",", "t", ",", 
              RowBox[{"\"\<TimeAggregation\>\"", "->", "3"}], ",", 
              RowBox[{"\"\<numPeriods\>\"", "->", "3"}], ",", 
              RowBox[{"\"\<v0\>\"", "->", 
               RowBox[{"Function", "[", 
                RowBox[{
                 RowBox[{"{", 
                  RowBox[{
                  "t", ",", "j", ",", "h", ",", "k", ",", "v", ",", "im"}], 
                  "}"}], ",", "j"}], "]"}]}]}], "]"}], "/.", 
            RowBox[{
             RowBox[{"dc", "[", "__", "]"}], "->", "dcX"}]}], ",", "dcX", ",",
            "0"}], "]"}]}], "//", "N"}], "]"}], "\[IndentingNewLine]", 
      "}"}]}], "\[IndentingNewLine]", ",", 
    RowBox[{"\"\<ConfirmResults\>\"", "\[Rule]", "False"}]}], 
   "]"}]}]], "Input",
 CellChangeTimes->{{3.890384749988565*^9, 3.89038485124676*^9}, {
   3.890384994127694*^9, 3.89038503141006*^9}, {3.8903850922920303`*^9, 
   3.890385181129077*^9}, 3.890396600232943*^9, {3.890402515366212*^9, 
   3.890402515971282*^9}, 3.890590913478216*^9, {3.9051335358973503`*^9, 
   3.905133536123393*^9}, {3.905133728479306*^9, 3.905133728761042*^9}, 
   3.9051346428649893`*^9, 3.905134753911852*^9},
 CellLabel->"In[22]:=",ExpressionUUID->"70a50edd-5174-4495-a8cf-751ed24e5868"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{
  RowBox[{"(*", 
   RowBox[{"v0", " ", "as", " ", "a", " ", "function", " ", "of", " ", "j"}], 
   "*)"}], "\[IndentingNewLine]", 
  RowBox[{
   RowBox[{"ResourceFunction", "[", "\"\<WriteUnitTest\>\"", "]"}], "[", 
   RowBox[{"testFileName", ",", "\[IndentingNewLine]", 
    RowBox[{"And", "@@", 
     RowBox[{"{", "\[IndentingNewLine]", 
      RowBox[{
       RowBox[{"growth", "[", 
        RowBox[{"dc", ",", "t", ",", 
         RowBox[{"\"\<TimeAggregation\>\"", "->", "3"}], ",", 
         RowBox[{"\"\<numPeriods\>\"", "->", "1"}], ",", 
         RowBox[{"\"\<v0\>\"", "->", 
          RowBox[{"Function", "[", 
           RowBox[{
            RowBox[{"{", 
             RowBox[{"t", ",", "j"}], "}"}], ",", "j"}], "]"}]}]}], "]"}], "==", 
       RowBox[{
        FractionBox[
         RowBox[{
          RowBox[{"-", "7"}], "-", 
          RowBox[{"3", " ", 
           SuperscriptBox["\[ExponentialE]", "4"]}], "+", 
          RowBox[{"dc", "[", 
           RowBox[{
            RowBox[{"-", "4"}], "+", "t"}], "]"}], "+", 
          RowBox[{"dc", "[", 
           RowBox[{
            RowBox[{"-", "3"}], "+", "t"}], "]"}], "+", 
          RowBox[{
           SuperscriptBox["\[ExponentialE]", "4"], " ", 
           RowBox[{"dc", "[", 
            RowBox[{
             RowBox[{"-", "3"}], "+", "t"}], "]"}]}]}], 
         RowBox[{"1", "+", 
          SuperscriptBox["\[ExponentialE]", "4"], "+", 
          SuperscriptBox["\[ExponentialE]", "7"]}]], "+", 
        RowBox[{"dc", "[", 
         RowBox[{
          RowBox[{"-", "2"}], "+", "t"}], "]"}], "+", 
        RowBox[{"dc", "[", 
         RowBox[{
          RowBox[{"-", "1"}], "+", "t"}], "]"}], "+", 
        RowBox[{"dc", "[", "t", "]"}], "+", 
        FractionBox[
         RowBox[{"1", "-", 
          RowBox[{"dc", "[", 
           RowBox[{
            RowBox[{"-", "1"}], "+", "t"}], "]"}], "-", 
          RowBox[{"dc", "[", "t", "]"}], "-", 
          RowBox[{"\[ExponentialE]", " ", 
           RowBox[{"dc", "[", "t", "]"}]}]}], 
         RowBox[{"1", "+", 
          RowBox[{"2", " ", "\[ExponentialE]"}]}]], "-", 
        RowBox[{"Log", "[", 
         RowBox[{"1", "+", 
          FractionBox["1", 
           SuperscriptBox["\[ExponentialE]", "7"]], "+", 
          FractionBox["1", 
           SuperscriptBox["\[ExponentialE]", "3"]]}], "]"}], "+", 
        RowBox[{"Log", "[", 
         RowBox[{"2", "+", 
          FractionBox["1", "\[ExponentialE]"]}], "]"}]}]}], 
      "\[IndentingNewLine]", "}"}]}], "\[IndentingNewLine]", ",", 
    RowBox[{"\"\<ConfirmResults\>\"", "\[Rule]", "False"}]}], 
   "]"}]}]], "Input",
 CellGroupingRules->{"GroupTogetherGrouping", 10000.},
 CellChangeTimes->{{3.890188230618291*^9, 3.89018826221737*^9}, {
   3.8901960603832684`*^9, 3.890196060384165*^9}, 3.8903633949009027`*^9, {
   3.89038254616477*^9, 3.890382546165432*^9}, {3.890382638645205*^9, 
   3.89038268764703*^9}, {3.890382718668954*^9, 3.890383019692555*^9}, {
   3.890383053934743*^9, 3.8903830569041767`*^9}, {3.890383090604886*^9, 
   3.8903830994737673`*^9}, {3.890396605286977*^9, 3.8903966193629932`*^9}, {
   3.890396692666997*^9, 3.890396707758502*^9}, 3.890396747842326*^9, {
   3.8903967874492273`*^9, 3.890396787615608*^9}, 3.89059091373112*^9, {
   3.905132396038013*^9, 3.905132396806686*^9}, {3.905133538000011*^9, 
   3.905133538259054*^9}, {3.905133730773085*^9, 3.905133731047802*^9}, 
   3.9051346441919928`*^9, 3.90513475816538*^9},
 CellLabel->"In[23]:=",ExpressionUUID->"0ff8e355-ff5e-42e5-a3dd-1b2bf9893cc3"],

Cell[BoxData[
 RowBox[{
  RowBox[{"(*", 
   RowBox[{"v0", " ", "as", " ", "a", " ", "function", " ", "of", " ", "v"}], 
   "*)"}], "\[IndentingNewLine]", 
  RowBox[{
   RowBox[{
    RowBox[{"ResourceFunction", "[", "\"\<WriteUnitTest\>\"", "]"}], "[", 
    RowBox[{"testFileName", ",", "\[IndentingNewLine]", 
     RowBox[{"And", "@@", 
      RowBox[{"{", "\[IndentingNewLine]", 
       RowBox[{
        RowBox[{"Not", "@", 
         RowBox[{"FreeQ", "[", 
          RowBox[{
           RowBox[{"growth", "[", 
            RowBox[{"dc", ",", "t", ",", 
             RowBox[{"\"\<TimeAggregation\>\"", "->", "3"}], ",", 
             RowBox[{"\"\<numPeriods\>\"", "->", "1"}], ",", 
             RowBox[{"\"\<v0\>\"", "->", 
              RowBox[{"Function", "[", 
               RowBox[{
                RowBox[{"{", 
                 RowBox[{
                 "t", ",", "j", ",", "h", ",", "k", ",", "v", ",", "im"}], 
                 "}"}], ",", 
                RowBox[{"If", "[", 
                 RowBox[{
                  RowBox[{"v", "===", "dc"}], ",", "Edc", ",", "0"}], "]"}]}],
                "]"}]}]}], "]"}], ",", "Edc"}], "]"}]}], ",", 
        "\[IndentingNewLine]", 
        RowBox[{"FreeQ", "[", 
         RowBox[{
          RowBox[{"growth", "[", 
           RowBox[{"pi", ",", "t", ",", 
            RowBox[{"\"\<TimeAggregation\>\"", "->", "3"}], ",", 
            RowBox[{"\"\<numPeriods\>\"", "->", "1"}], ",", 
            RowBox[{"\"\<v0\>\"", "->", 
             RowBox[{"Function", "[", 
              RowBox[{
               RowBox[{"{", 
                RowBox[{
                "t", ",", "j", ",", "h", ",", "k", ",", "v", ",", "im"}], 
                "}"}], ",", 
               RowBox[{"If", "[", 
                RowBox[{
                 RowBox[{"v", "===", "dc"}], ",", "Edc", ",", "0"}], "]"}]}], 
              "]"}]}]}], "]"}], ",", "Edc"}], "]"}], ",", 
        "\[IndentingNewLine]", 
        RowBox[{"Not", "@", 
         RowBox[{"FreeQ", "[", 
          RowBox[{
           RowBox[{"growth", "[", 
            RowBox[{"dd", ",", "t", ",", "i", ",", 
             RowBox[{"\"\<TimeAggregation\>\"", "->", "12"}], ",", 
             RowBox[{"\"\<numPeriods\>\"", "->", "1"}], ",", 
             RowBox[{"\"\<v0\>\"", "->", 
              RowBox[{"Function", "[", 
               RowBox[{
                RowBox[{"{", 
                 RowBox[{
                 "t", ",", "j", ",", "h", ",", "k", ",", "v", ",", "im"}], 
                 "}"}], ",", 
                RowBox[{"If", "[", 
                 RowBox[{
                  RowBox[{"v", "===", "dd"}], ",", "Edd", ",", "0"}], "]"}]}],
                "]"}]}]}], "]"}], ",", "Edd"}], "]"}]}], ",", 
        "\[IndentingNewLine]", 
        RowBox[{"FreeQ", "[", 
         RowBox[{
          RowBox[{"growth", "[", 
           RowBox[{"dc", ",", "t", ",", 
            RowBox[{"\"\<TimeAggregation\>\"", "->", "12"}], ",", 
            RowBox[{"\"\<numPeriods\>\"", "->", "1"}], ",", 
            RowBox[{"\"\<v0\>\"", "->", 
             RowBox[{"Function", "[", 
              RowBox[{
               RowBox[{"{", 
                RowBox[{
                "t", ",", "j", ",", "h", ",", "k", ",", "v", ",", "im"}], 
                "}"}], ",", 
               RowBox[{"If", "[", 
                RowBox[{
                 RowBox[{"v", "===", "dd"}], ",", "Edd", ",", "0"}], "]"}]}], 
              "]"}]}]}], "]"}], ",", "Edd"}], "]"}]}], "\[IndentingNewLine]", 
       "}"}]}], "\[IndentingNewLine]", ",", 
     RowBox[{"\"\<ConfirmResults\>\"", "\[Rule]", "False"}]}], "]"}], 
   "\[IndentingNewLine]", 
   RowBox[{"(*", 
    RowBox[{
    "v0", " ", "as", " ", "a", " ", "function", " ", "of", " ", "im"}], 
    "*)"}]}]}]], "Input",
 CellGroupingRules->{"GroupTogetherGrouping", 10000.},
 CellChangeTimes->{{3.890188230618291*^9, 3.89018826221737*^9}, {
   3.8901960603832684`*^9, 3.890196060384165*^9}, 3.8903633949009027`*^9, {
   3.89038254616477*^9, 3.890382546165432*^9}, {3.890382638645205*^9, 
   3.89038268764703*^9}, {3.890382718668954*^9, 3.890383019692555*^9}, {
   3.890383053934743*^9, 3.8903830569041767`*^9}, 3.890383090604886*^9, {
   3.890396606235301*^9, 3.890396607738501*^9}, {3.8905909142008133`*^9, 
   3.890590914880876*^9}, {3.89059141138151*^9, 3.890591470495411*^9}, {
   3.9051335405082083`*^9, 3.905133540756462*^9}, {3.905133733159277*^9, 
   3.905133733427733*^9}, {3.905133878581242*^9, 3.905133880046126*^9}, 
   3.905134646446309*^9, 3.905134760287264*^9, 3.905134930032666*^9},
 CellLabel->"In[24]:=",ExpressionUUID->"7688961b-1061-4156-a522-f82bc0ad236a"],

Cell[BoxData[
 RowBox[{
  RowBox[{"(*", 
   RowBox[{
   "v0", " ", "given", " ", "by", " ", "unconditional", " ", "moments"}], 
   "*)"}], "\[IndentingNewLine]", 
  RowBox[{
   RowBox[{"ResourceFunction", "[", "\"\<WriteUnitTest\>\"", "]"}], "[", 
   RowBox[{"testFileName", ",", "\[IndentingNewLine]", 
    RowBox[{"And", "@@", 
     RowBox[{"{", "\[IndentingNewLine]", 
      RowBox[{
       RowBox[{"(", 
        RowBox[{
         RowBox[{"growth", "[", 
          RowBox[{"dc", ",", "t", ",", 
           RowBox[{"\"\<TimeAggregation\>\"", "->", "3"}], ",", 
           RowBox[{"\"\<numPeriods\>\"", "->", "1"}], ",", 
           RowBox[{"\"\<v0\>\"", "->", 
            RowBox[{"Function", "[", 
             RowBox[{
              RowBox[{"{", 
               RowBox[{
               "t", ",", "j", ",", "h", ",", "k", ",", "v", ",", "im"}], 
               "}"}], ",", 
              RowBox[{"Evaluate", "@", 
               RowBox[{"uncondE", "[", 
                RowBox[{"dc", "[", "t", "]"}], "]"}]}]}], "]"}]}]}], "]"}], "/.", 
         RowBox[{
          RowBox[{"uncondE", "[", 
           RowBox[{"dc", "[", "t", "]"}], "]"}], "->", "0"}]}], ")"}], "==", 
       RowBox[{"(", 
        RowBox[{"growth", "[", 
         RowBox[{"dc", ",", "t", ",", 
          RowBox[{"\"\<TimeAggregation\>\"", "->", "3"}], ",", 
          RowBox[{"\"\<numPeriods\>\"", "->", "1"}]}], "]"}], ")"}]}], 
      "\[IndentingNewLine]", "}"}]}], "\[IndentingNewLine]", ",", 
    RowBox[{"\"\<ConfirmResults\>\"", "\[Rule]", "False"}]}], 
   "]"}]}]], "Input",
 CellGroupingRules->{"GroupTogetherGrouping", 10000.},
 CellChangeTimes->{{3.890188230618291*^9, 3.89018826221737*^9}, {
   3.8901960603832684`*^9, 3.890196060384165*^9}, 3.8903633949009027`*^9, {
   3.89038254616477*^9, 3.890382546165432*^9}, {3.890382638645205*^9, 
   3.89038268764703*^9}, {3.890382718668954*^9, 3.890382961460165*^9}, {
   3.890396608520708*^9, 3.890396609023325*^9}, {3.890590915063204*^9, 
   3.890590915479714*^9}, {3.8905914964638453`*^9, 3.8905914966703653`*^9}, {
   3.9051335435378103`*^9, 3.905133543922841*^9}, {3.905133736006527*^9, 
   3.905133736288653*^9}, 3.9051346477024593`*^9, 3.9051347640963573`*^9},
 CellLabel->"In[25]:=",ExpressionUUID->"7802887a-aa09-4e15-81e4-a073200a241f"],

Cell[BoxData[
 RowBox[{
  RowBox[{"(*", 
   RowBox[{
    RowBox[{
     RowBox[{"v0", 
      RowBox[{"(", 
       RowBox[{"t", ",", "i"}], ")"}]}], "=", " ", 
     RowBox[{
      RowBox[{"v0", 
       RowBox[{"(", 
        RowBox[{"t", ",", 
         RowBox[{"kh", "+", "i"}]}], ")"}], " ", "for", " ", "i"}], "=", 
      "0"}]}], ",", "1", ",", "...", ",", 
    RowBox[{"h", "-", "2"}], ",", " ", 
    RowBox[{
    "constant", " ", "term", " ", "in", " ", "expansion", " ", "should", " ", 
     "be", " ", "0"}]}], "*)"}], "\[IndentingNewLine]", 
  RowBox[{
   RowBox[{"ResourceFunction", "[", "\"\<WriteUnitTest\>\"", "]"}], "[", 
   RowBox[{"testFileName", ",", "\[IndentingNewLine]", 
    RowBox[{
     RowBox[{"h", "=", "1"}], ";", 
     RowBox[{"k", "=", "1"}], ";", "\[IndentingNewLine]", 
     RowBox[{"And", "@@", 
      RowBox[{"{", "\[IndentingNewLine]", 
       RowBox[{
        RowBox[{"0", "===", 
         RowBox[{"Coefficient", "[", 
          RowBox[{
           RowBox[{
            RowBox[{"growth", "[", 
             RowBox[{"dc", ",", "t", ",", 
              RowBox[{"\"\<TimeAggregation\>\"", "->", "h"}], ",", 
              RowBox[{"\"\<numPeriods\>\"", "->", "k"}], ",", 
              RowBox[{"\"\<v0\>\"", "->", 
               RowBox[{"Function", "[", 
                RowBox[{
                 RowBox[{"{", 
                  RowBox[{
                  "t", ",", "j", ",", "h", ",", "k", ",", "v", ",", "im"}], 
                  "}"}], ",", 
                 RowBox[{"F", "[", "t", "]"}]}], "]"}]}]}], "]"}], "/.", 
            RowBox[{
             RowBox[{"dc", "[", "__", "]"}], "->", "dcX"}]}], ",", "dcX", ",",
            "0"}], "]"}]}], "//", "Simplify"}], "\[IndentingNewLine]", 
       "}"}]}]}], "\[IndentingNewLine]", ",", 
    RowBox[{"\"\<ConfirmResults\>\"", "\[Rule]", "False"}]}], 
   "]"}]}]], "Input",
 CellGroupingRules->{"GroupTogetherGrouping", 10000.},
 CellChangeTimes->{{3.890402894534086*^9, 3.890403056502503*^9}, {
   3.890403106126875*^9, 3.890403163304315*^9}, {3.890403209187562*^9, 
   3.890403247505231*^9}, {3.890403378719262*^9, 3.8904034073321753`*^9}, {
   3.890403458564847*^9, 3.89040346182211*^9}, {3.890403497753498*^9, 
   3.8904035198822823`*^9}, {3.890403605784066*^9, 3.890403658758933*^9}, {
   3.890403710893354*^9, 3.890403713940164*^9}, 3.890403910953129*^9, {
   3.890404525747285*^9, 3.890404527300988*^9}, {3.8905909156814938`*^9, 
   3.890590916364067*^9}, {3.89059151163885*^9, 3.890591520161364*^9}, {
   3.905133547042287*^9, 3.905133568021709*^9}, {3.9051337386064653`*^9, 
   3.905133738849175*^9}, 3.905134650095921*^9, 3.905134766126461*^9},
 CellLabel->"In[26]:=",ExpressionUUID->"246e94a5-ddc4-4b7c-841b-d19628c8534f"],

Cell[BoxData[
 RowBox[{
  RowBox[{"ResourceFunction", "[", "\"\<WriteUnitTest\>\"", "]"}], "[", 
  RowBox[{"testFileName", ",", "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{"h", "=", "2"}], ";", 
    RowBox[{"k", "=", "1"}], ";", "\[IndentingNewLine]", 
    RowBox[{"rulej", "=", 
     RowBox[{"Table", "[", 
      RowBox[{
       RowBox[{
        RowBox[{"F", "[", "i", "]"}], "->", 
        RowBox[{"F", "[", 
         RowBox[{
          RowBox[{"h", "*", "k"}], "+", "i"}], "]"}]}], ",", 
       RowBox[{"{", 
        RowBox[{"i", ",", "0", ",", 
         RowBox[{"h", "-", "2"}]}], "}"}]}], "]"}]}], ";", 
    "\[IndentingNewLine]", 
    RowBox[{"And", "@@", 
     RowBox[{"{", "\[IndentingNewLine]", 
      RowBox[{
       RowBox[{"0", "===", 
        RowBox[{"Coefficient", "[", 
         RowBox[{
          RowBox[{
           RowBox[{
            RowBox[{"growth", "[", 
             RowBox[{"dc", ",", "t", ",", 
              RowBox[{"\"\<TimeAggregation\>\"", "->", "h"}], ",", 
              RowBox[{"\"\<numPeriods\>\"", "->", "k"}], ",", 
              RowBox[{"\"\<v0\>\"", "->", 
               RowBox[{"Function", "[", 
                RowBox[{
                 RowBox[{"{", 
                  RowBox[{
                  "t", ",", "j", ",", "h", ",", "k", ",", "v", ",", "im"}], 
                  "}"}], ",", 
                 RowBox[{"F", "[", "j", "]"}]}], "]"}]}]}], "]"}], "/.", 
            "rulej"}], "/.", 
           RowBox[{
            RowBox[{"dc", "[", "__", "]"}], "->", "dcX"}]}], ",", "dcX", ",", 
          "0"}], "]"}]}], "//", "FullSimplify"}], "\[IndentingNewLine]", 
      "}"}]}]}], "\[IndentingNewLine]", ",", 
   RowBox[{"\"\<ConfirmResults\>\"", "\[Rule]", "False"}]}], "]"}]], "Input",
 CellGroupingRules->{"GroupTogetherGrouping", 10000.},
 CellChangeTimes->{{3.890402894534086*^9, 3.890403056502503*^9}, {
   3.890403106126875*^9, 3.890403163304315*^9}, {3.890403209187562*^9, 
   3.890403247505231*^9}, {3.890403378719262*^9, 3.8904034073321753`*^9}, {
   3.890403458564847*^9, 3.89040346182211*^9}, {3.890403497753498*^9, 
   3.8904035198822823`*^9}, {3.890403605784066*^9, 3.890403658758933*^9}, {
   3.890403710893354*^9, 3.890403713940164*^9}, 3.890403910953129*^9, {
   3.890404525747285*^9, 3.890404527300988*^9}, {3.8905909156814938`*^9, 
   3.890590916364067*^9}, {3.89059151163885*^9, 3.890591520161364*^9}, {
   3.905133547042287*^9, 3.905133581723422*^9}, {3.905133741006398*^9, 
   3.9051337412281523`*^9}, {3.9051338967521563`*^9, 
   3.9051339002003317`*^9}, {3.905134652064742*^9, 3.905134654309443*^9}, 
   3.905134770319025*^9},
 CellLabel->"In[27]:=",ExpressionUUID->"a2f692df-aeba-4a29-bb21-21cf090ba8c4"],

Cell[BoxData[
 RowBox[{
  RowBox[{"ResourceFunction", "[", "\"\<WriteUnitTest\>\"", "]"}], "[", 
  RowBox[{"testFileName", ",", "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{"h", "=", "3"}], ";", 
    RowBox[{"k", "=", "1"}], ";", "\[IndentingNewLine]", 
    RowBox[{"rulej", "=", 
     RowBox[{"Table", "[", 
      RowBox[{
       RowBox[{
        RowBox[{"F", "[", "i", "]"}], "->", 
        RowBox[{"F", "[", 
         RowBox[{
          RowBox[{"h", "*", "k"}], "+", "i"}], "]"}]}], ",", 
       RowBox[{"{", 
        RowBox[{"i", ",", "0", ",", 
         RowBox[{"h", "-", "2"}]}], "}"}]}], "]"}]}], ";", 
    "\[IndentingNewLine]", 
    RowBox[{"And", "@@", 
     RowBox[{"{", "\[IndentingNewLine]", 
      RowBox[{
       RowBox[{"0", "===", 
        RowBox[{"Coefficient", "[", 
         RowBox[{
          RowBox[{
           RowBox[{
            RowBox[{"growth", "[", 
             RowBox[{"dc", ",", "t", ",", 
              RowBox[{"\"\<TimeAggregation\>\"", "->", "h"}], ",", 
              RowBox[{"\"\<numPeriods\>\"", "->", "k"}], ",", 
              RowBox[{"\"\<v0\>\"", "->", 
               RowBox[{"Function", "[", 
                RowBox[{
                 RowBox[{"{", 
                  RowBox[{
                  "t", ",", "j", ",", "h", ",", "k", ",", "v", ",", "im"}], 
                  "}"}], ",", 
                 RowBox[{"F", "[", "j", "]"}]}], "]"}]}]}], "]"}], "/.", 
            "rulej"}], "/.", 
           RowBox[{
            RowBox[{"dc", "[", "__", "]"}], "->", "dcX"}]}], ",", "dcX", ",", 
          "0"}], "]"}]}], "//", "FullSimplify"}], "\[IndentingNewLine]", 
      "}"}]}]}], "\[IndentingNewLine]", ",", 
   RowBox[{"\"\<ConfirmResults\>\"", "\[Rule]", "False"}]}], "]"}]], "Input",
 CellGroupingRules->{"GroupTogetherGrouping", 10000.},
 CellChangeTimes->{{3.890402894534086*^9, 3.890403056502503*^9}, {
   3.890403106126875*^9, 3.890403163304315*^9}, {3.890403209187562*^9, 
   3.890403247505231*^9}, {3.890403378719262*^9, 3.8904034073321753`*^9}, {
   3.890403458564847*^9, 3.89040346182211*^9}, {3.890403497753498*^9, 
   3.8904035198822823`*^9}, {3.890403605784066*^9, 3.890403658758933*^9}, {
   3.890403710893354*^9, 3.890403713940164*^9}, 3.890403910953129*^9, {
   3.890404525747285*^9, 3.890404527300988*^9}, {3.8905909156814938`*^9, 
   3.890590916364067*^9}, {3.89059151163885*^9, 3.890591520161364*^9}, {
   3.905133547042287*^9, 3.905133583961022*^9}, {3.905133743142974*^9, 
   3.9051337433615828`*^9}, {3.905133907161641*^9, 3.905133909483446*^9}, 
   3.9051346571060553`*^9, 3.905134772303542*^9},
 CellLabel->"In[28]:=",ExpressionUUID->"4c14dcfe-23d7-472d-a807-a03a788455f5"],

Cell[BoxData[
 RowBox[{
  RowBox[{"ResourceFunction", "[", "\"\<WriteUnitTest\>\"", "]"}], "[", 
  RowBox[{"testFileName", ",", "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{"h", "=", "4"}], ";", 
    RowBox[{"k", "=", "1"}], ";", "\[IndentingNewLine]", 
    RowBox[{"rulej", "=", 
     RowBox[{"Table", "[", 
      RowBox[{
       RowBox[{
        RowBox[{"F", "[", "i", "]"}], "->", 
        RowBox[{"F", "[", 
         RowBox[{
          RowBox[{"h", "*", "k"}], "+", "i"}], "]"}]}], ",", 
       RowBox[{"{", 
        RowBox[{"i", ",", "0", ",", 
         RowBox[{"h", "-", "2"}]}], "}"}]}], "]"}]}], ";", 
    "\[IndentingNewLine]", 
    RowBox[{"And", "@@", 
     RowBox[{"{", "\[IndentingNewLine]", 
      RowBox[{
       RowBox[{"0", "===", 
        RowBox[{"Coefficient", "[", 
         RowBox[{
          RowBox[{
           RowBox[{
            RowBox[{"(", 
             RowBox[{"growth", "[", 
              RowBox[{"dc", ",", "t", ",", 
               RowBox[{"\"\<TimeAggregation\>\"", "->", "h"}], ",", 
               RowBox[{"\"\<numPeriods\>\"", "->", "k"}], ",", 
               RowBox[{"\"\<v0\>\"", "->", 
                RowBox[{"Function", "[", 
                 RowBox[{
                  RowBox[{"{", 
                   RowBox[{
                   "t", ",", "j", ",", "h", ",", "k", ",", "v", ",", "im"}], 
                   "}"}], ",", 
                  RowBox[{"F", "[", "j", "]"}]}], "]"}]}]}], "]"}], ")"}], "/.",
             "rulej"}], "/.", 
           RowBox[{
            RowBox[{"dc", "[", "__", "]"}], "->", "dcX"}]}], ",", "dcX", ",", 
          "0"}], "]"}]}], "//", "FullSimplify"}], "\[IndentingNewLine]", 
      "}"}]}]}], "\[IndentingNewLine]", ",", 
   RowBox[{"\"\<ConfirmResults\>\"", "\[Rule]", "False"}]}], "]"}]], "Input",
 CellGroupingRules->{"GroupTogetherGrouping", 10000.},
 CellChangeTimes->{{3.890402894534086*^9, 3.890403056502503*^9}, {
   3.890403106126875*^9, 3.890403163304315*^9}, {3.890403209187562*^9, 
   3.890403247505231*^9}, {3.890403378719262*^9, 3.8904034073321753`*^9}, {
   3.890403458564847*^9, 3.89040346182211*^9}, {3.890403497753498*^9, 
   3.8904035198822823`*^9}, {3.890403605784066*^9, 3.890403658758933*^9}, {
   3.890403710893354*^9, 3.890403713940164*^9}, 3.890403910953129*^9, {
   3.890404525747285*^9, 3.890404527300988*^9}, {3.8905909156814938`*^9, 
   3.890590916364067*^9}, {3.89059151163885*^9, 3.890591520161364*^9}, {
   3.905133547042287*^9, 3.905133586110395*^9}, {3.905133744718692*^9, 
   3.9051337449693747`*^9}, {3.905133913564341*^9, 3.9051339168687267`*^9}, 
   3.905134658614869*^9, 3.905134775070826*^9},
 CellLabel->"In[29]:=",ExpressionUUID->"a9bc070c-0929-41a9-827a-24bdc555940f"],

Cell[BoxData[
 RowBox[{
  RowBox[{"ResourceFunction", "[", "\"\<WriteUnitTest\>\"", "]"}], "[", 
  RowBox[{"testFileName", ",", "\[IndentingNewLine]", 
   RowBox[{"And", "@@", 
    RowBox[{"{", "\[IndentingNewLine]", 
     RowBox[{
      RowBox[{
       RowBox[{"Cases", "[", 
        RowBox[{
         RowBox[{"Expand", "@", 
          RowBox[{"growth", "[", 
           RowBox[{"dc", ",", "t", ",", 
            RowBox[{"\"\<TimeAggregation\>\"", "->", "3"}], ",", 
            RowBox[{"\"\<numPeriods\>\"", "->", "1"}], ",", 
            RowBox[{"\"\<Order\>\"", "->", "0"}]}], "]"}]}], ",", 
         RowBox[{
          RowBox[{"coef_.", " ", 
           SuperscriptBox[
            RowBox[{"dc", "[", "__", "]"}], "p_."]}], ":>", "p"}]}], "]"}], "===", 
       RowBox[{"{", "}"}]}], ",", "\[IndentingNewLine]", 
      RowBox[{
       RowBox[{"Max", "@", 
        RowBox[{"Cases", "[", 
         RowBox[{
          RowBox[{"Expand", "@", 
           RowBox[{"growth", "[", 
            RowBox[{"dc", ",", "t", ",", 
             RowBox[{"\"\<TimeAggregation\>\"", "->", "3"}], ",", 
             RowBox[{"\"\<numPeriods\>\"", "->", "1"}], ",", 
             RowBox[{"\"\<Order\>\"", "->", "1"}]}], "]"}]}], ",", 
          RowBox[{
           RowBox[{"coef_.", " ", 
            SuperscriptBox[
             RowBox[{"dc", "[", "__", "]"}], "p_."]}], ":>", "p"}]}], "]"}]}],
        "===", "1"}], ",", "\[IndentingNewLine]", 
      RowBox[{
       RowBox[{"Max", "@", 
        RowBox[{"Cases", "[", 
         RowBox[{
          RowBox[{"Expand", "@", 
           RowBox[{"growth", "[", 
            RowBox[{"dc", ",", "t", ",", 
             RowBox[{"\"\<TimeAggregation\>\"", "->", "3"}], ",", 
             RowBox[{"\"\<numPeriods\>\"", "->", "1"}], ",", 
             RowBox[{"\"\<Order\>\"", "->", "2"}]}], "]"}]}], ",", 
          RowBox[{
           RowBox[{"coef_.", " ", 
            SuperscriptBox[
             RowBox[{"dc", "[", "__", "]"}], "p_."]}], ":>", "p"}]}], "]"}]}],
        "===", "2"}], ",", "\[IndentingNewLine]", 
      RowBox[{
       RowBox[{"Max", "@", 
        RowBox[{"Cases", "[", 
         RowBox[{
          RowBox[{"Expand", "@", 
           RowBox[{"growth", "[", 
            RowBox[{"dc", ",", "t", ",", 
             RowBox[{"\"\<TimeAggregation\>\"", "->", "3"}], ",", 
             RowBox[{"\"\<numPeriods\>\"", "->", "1"}], ",", 
             RowBox[{"\"\<Order\>\"", "->", "3"}]}], "]"}]}], ",", 
          RowBox[{
           RowBox[{"coef_.", " ", 
            SuperscriptBox[
             RowBox[{"dc", "[", "__", "]"}], "p_."]}], ":>", "p"}]}], "]"}]}],
        "===", "3"}]}], "\[IndentingNewLine]", "}"}]}], "\[IndentingNewLine]",
    ",", 
   RowBox[{"\"\<ConfirmResults\>\"", "\[Rule]", "False"}]}], "]"}]], "Input",
 CellGroupingRules->{"GroupTogetherGrouping", 10000.},
 CellChangeTimes->{{3.8901882726262293`*^9, 3.890188293345408*^9}, {
   3.890196060398212*^9, 3.890196060400828*^9}, 3.890363394901119*^9, {
   3.8905909165812387`*^9, 3.8905909174315653`*^9}, {3.890591533014565*^9, 
   3.8905916929688272`*^9}, {3.905132467247383*^9, 3.905132467248948*^9}, {
   3.905133589108143*^9, 3.905133589301656*^9}, {3.905133747446377*^9, 
   3.905133747731835*^9}, {3.9051339341500053`*^9, 3.905133935386661*^9}, 
   3.905134660439055*^9, 3.905134776326563*^9},
 CellLabel->"In[30]:=",ExpressionUUID->"a688bd48-8847-4980-ac41-d0d8f9c7ef38"],

Cell[BoxData[
 RowBox[{
  RowBox[{"ResourceFunction", "[", "\"\<WriteUnitTest\>\"", "]"}], "[", 
  RowBox[{"testFileName", ",", "\[IndentingNewLine]", 
   RowBox[{"And", "@@", 
    RowBox[{"{", "\[IndentingNewLine]", 
     RowBox[{
      RowBox[{
       RowBox[{"Cases", "[", 
        RowBox[{
         RowBox[{"Expand", "@", 
          RowBox[{"growth", "[", 
           RowBox[{"dd", ",", "t", ",", "i", ",", 
            RowBox[{"\"\<TimeAggregation\>\"", "->", "3"}], ",", 
            RowBox[{"\"\<numPeriods\>\"", "->", "1"}], ",", 
            RowBox[{"\"\<Order\>\"", "->", "0"}]}], "]"}]}], ",", 
         RowBox[{
          RowBox[{"coef_.", " ", 
           SuperscriptBox[
            RowBox[{"dd", "[", 
             RowBox[{"__", ",", "i"}], "]"}], "p_."]}], ":>", "p"}]}], "]"}], 
       "===", 
       RowBox[{"{", "}"}]}], ",", "\[IndentingNewLine]", 
      RowBox[{
       RowBox[{"Max", "@", 
        RowBox[{"Cases", "[", 
         RowBox[{
          RowBox[{"Expand", "@", 
           RowBox[{"growth", "[", 
            RowBox[{"dd", ",", "t", ",", "i", ",", 
             RowBox[{"\"\<TimeAggregation\>\"", "->", "3"}], ",", 
             RowBox[{"\"\<numPeriods\>\"", "->", "1"}], ",", 
             RowBox[{"\"\<Order\>\"", "->", "1"}]}], "]"}]}], ",", 
          RowBox[{
           RowBox[{"coef_.", " ", 
            SuperscriptBox[
             RowBox[{"dd", "[", 
              RowBox[{"__", ",", "i"}], "]"}], "p_."]}], ":>", "p"}]}], 
         "]"}]}], "===", "1"}], ",", "\[IndentingNewLine]", 
      RowBox[{
       RowBox[{"Max", "@", 
        RowBox[{"Cases", "[", 
         RowBox[{
          RowBox[{"Expand", "@", 
           RowBox[{"growth", "[", 
            RowBox[{"dd", ",", "t", ",", "i", ",", 
             RowBox[{"\"\<TimeAggregation\>\"", "->", "3"}], ",", 
             RowBox[{"\"\<numPeriods\>\"", "->", "1"}], ",", 
             RowBox[{"\"\<Order\>\"", "->", "2"}]}], "]"}]}], ",", 
          RowBox[{
           RowBox[{"coef_.", " ", 
            SuperscriptBox[
             RowBox[{"dd", "[", 
              RowBox[{"__", ",", "i"}], "]"}], "p_."]}], ":>", "p"}]}], 
         "]"}]}], "===", "2"}], ",", "\[IndentingNewLine]", 
      RowBox[{
       RowBox[{"Max", "@", 
        RowBox[{"Cases", "[", 
         RowBox[{
          RowBox[{"Expand", "@", 
           RowBox[{"growth", "[", 
            RowBox[{"dd", ",", "t", ",", "i", ",", 
             RowBox[{"\"\<TimeAggregation\>\"", "->", "3"}], ",", 
             RowBox[{"\"\<numPeriods\>\"", "->", "1"}], ",", 
             RowBox[{"\"\<Order\>\"", "->", "3"}]}], "]"}]}], ",", 
          RowBox[{
           RowBox[{"coef_.", " ", 
            SuperscriptBox[
             RowBox[{"dd", "[", 
              RowBox[{"__", ",", "i"}], "]"}], "p_."]}], ":>", "p"}]}], 
         "]"}]}], "===", "3"}]}], "\[IndentingNewLine]", "}"}]}], 
   "\[IndentingNewLine]", ",", 
   RowBox[{"\"\<ConfirmResults\>\"", "\[Rule]", "False"}]}], "]"}]], "Input",
 CellGroupingRules->{"GroupTogetherGrouping", 10000.},
 CellChangeTimes->{{3.8901883116558*^9, 3.8901883252736263`*^9}, {
   3.890196060415234*^9, 3.890196060417364*^9}, 3.8903633949014187`*^9, {
   3.8905909176312428`*^9, 3.890590918316225*^9}, {3.890591699812582*^9, 
   3.890591736901132*^9}, {3.905132467253483*^9, 3.905132467254978*^9}, {
   3.905133591814699*^9, 3.9051335920151463`*^9}, {3.905133750006571*^9, 
   3.905133750248026*^9}, {3.9051339377340393`*^9, 3.9051339391968117`*^9}, 
   3.905134662430475*^9, 3.905134778054385*^9, 3.905134916962174*^9},
 CellLabel->"In[31]:=",ExpressionUUID->"7a68d55a-0249-4a31-8b63-defa34ad0ac4"],

Cell[BoxData[
 RowBox[{
  RowBox[{"ResourceFunction", "[", "\"\<WriteUnitTest\>\"", "]"}], "[", 
  RowBox[{"testFileName", ",", "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{
    "f", "=", "FernandoDuarte`LongRunRisk`Tools`TimeAggregation`Private`f"}], 
    ";", "\[IndentingNewLine]", 
    RowBox[{
    "g", "=", "FernandoDuarte`LongRunRisk`Tools`TimeAggregation`Private`g"}], 
    ";", "\[IndentingNewLine]", 
    RowBox[{
    "s", "=", "FernandoDuarte`LongRunRisk`Tools`TimeAggregation`Private`s"}], 
    ";", "\[IndentingNewLine]", 
    RowBox[{
    "timeSeriesVector", "=", 
     "FernandoDuarte`LongRunRisk`Tools`TimeAggregation`Private`\
timeSeriesVector"}], ";", "\[IndentingNewLine]", 
    RowBox[{
    "gt", "=", 
     "FernandoDuarte`LongRunRisk`Tools`TimeAggregation`Private`gt"}], ";"}], 
   "\[IndentingNewLine]", ",", 
   RowBox[{"\"\<ConfirmResults\>\"", "\[Rule]", "False"}]}], "]"}]], "Input",
 CellGroupingRules->{"GroupTogetherGrouping", 10000.},
 CellChangeTimes->{{3.890324214710425*^9, 3.890324291626787*^9}, {
   3.890557726208962*^9, 3.8905577330232363`*^9}, {3.890590899317346*^9, 
   3.890590899457222*^9}, {3.905132536173502*^9, 3.905132555573162*^9}, 
   3.905134663711357*^9, 3.9051347815915194`*^9, {3.905134897457293*^9, 
   3.905134913313259*^9}},
 CellLabel->"In[32]:=",ExpressionUUID->"2a049c0f-3308-4fbc-b2b2-b9aa08c2aec7"],

Cell[BoxData[
 RowBox[{
  RowBox[{"(*", 
   RowBox[{"tests", " ", "gt"}], "*)"}], "\[IndentingNewLine]", 
  RowBox[{
   RowBox[{"ResourceFunction", "[", "\"\<WriteUnitTest\>\"", "]"}], "[", 
   RowBox[{
   "testFileName", ",", "\[IndentingNewLine]", "\[IndentingNewLine]", 
    RowBox[{
     RowBox[{"h", "=", "3"}], ";", 
     RowBox[{"k", "=", "2"}], ";", "\[IndentingNewLine]", 
     RowBox[{"And", "@@", 
      RowBox[{"{", "\[IndentingNewLine]", 
       RowBox[{
        RowBox[{
         RowBox[{"gt", "[", 
          RowBox[{"dc", ",", "t"}], "]"}], "==", 
         RowBox[{"dc", "[", "t", "]"}]}], ",", "\[IndentingNewLine]", 
        RowBox[{
         RowBox[{"gt", "[", 
          RowBox[{"dc", ",", "t", ",", 
           RowBox[{"{", 
            RowBox[{
             RowBox[{"\"\<TimeAggregation\>\"", "->", "3"}], ",", 
             RowBox[{"\"\<numPeriods\>\"", "->", "k"}]}], "}"}]}], "]"}], "==", 
         RowBox[{
          RowBox[{"dc", "[", 
           RowBox[{
            RowBox[{"-", "5"}], "+", "t"}], "]"}], "+", 
          RowBox[{"dc", "[", 
           RowBox[{
            RowBox[{"-", "4"}], "+", "t"}], "]"}], "+", 
          RowBox[{"dc", "[", 
           RowBox[{
            RowBox[{"-", "3"}], "+", "t"}], "]"}], "+", 
          RowBox[{"dc", "[", 
           RowBox[{
            RowBox[{"-", "2"}], "+", "t"}], "]"}], "+", 
          RowBox[{"dc", "[", 
           RowBox[{
            RowBox[{"-", "1"}], "+", "t"}], "]"}], "+", 
          RowBox[{"dc", "[", "t", "]"}], "-", 
          RowBox[{"Log", "[", 
           RowBox[{"1", "+", 
            SuperscriptBox["\[ExponentialE]", 
             RowBox[{
              RowBox[{"-", 
               RowBox[{"dc", "[", 
                RowBox[{
                 RowBox[{"-", "7"}], "+", "t"}], "]"}]}], "-", 
              RowBox[{"dc", "[", 
               RowBox[{
                RowBox[{"-", "6"}], "+", "t"}], "]"}]}]], "+", 
            SuperscriptBox["\[ExponentialE]", 
             RowBox[{"-", 
              RowBox[{"dc", "[", 
               RowBox[{
                RowBox[{"-", "6"}], "+", "t"}], "]"}]}]]}], "]"}], "+", 
          RowBox[{"Log", "[", 
           RowBox[{"1", "+", 
            SuperscriptBox["\[ExponentialE]", 
             RowBox[{
              RowBox[{"-", 
               RowBox[{"dc", "[", 
                RowBox[{
                 RowBox[{"-", "1"}], "+", "t"}], "]"}]}], "-", 
              RowBox[{"dc", "[", "t", "]"}]}]], "+", 
            SuperscriptBox["\[ExponentialE]", 
             RowBox[{"-", 
              RowBox[{"dc", "[", "t", "]"}]}]]}], "]"}]}]}], ",", 
        "\[IndentingNewLine]", 
        RowBox[{
         RowBox[{"gt", "[", 
          RowBox[{"dc", ",", "t", ",", 
           RowBox[{"\"\<TimeAggregation\>\"", "->", "3"}], ",", 
           RowBox[{"\"\<numPeriods\>\"", "->", "k"}]}], "]"}], "==", 
         RowBox[{
          RowBox[{"dc", "[", 
           RowBox[{
            RowBox[{"-", "5"}], "+", "t"}], "]"}], "+", 
          RowBox[{"dc", "[", 
           RowBox[{
            RowBox[{"-", "4"}], "+", "t"}], "]"}], "+", 
          RowBox[{"dc", "[", 
           RowBox[{
            RowBox[{"-", "3"}], "+", "t"}], "]"}], "+", 
          RowBox[{"dc", "[", 
           RowBox[{
            RowBox[{"-", "2"}], "+", "t"}], "]"}], "+", 
          RowBox[{"dc", "[", 
           RowBox[{
            RowBox[{"-", "1"}], "+", "t"}], "]"}], "+", 
          RowBox[{"dc", "[", "t", "]"}], "-", 
          RowBox[{"Log", "[", 
           RowBox[{"1", "+", 
            SuperscriptBox["\[ExponentialE]", 
             RowBox[{
              RowBox[{"-", 
               RowBox[{"dc", "[", 
                RowBox[{
                 RowBox[{"-", "7"}], "+", "t"}], "]"}]}], "-", 
              RowBox[{"dc", "[", 
               RowBox[{
                RowBox[{"-", "6"}], "+", "t"}], "]"}]}]], "+", 
            SuperscriptBox["\[ExponentialE]", 
             RowBox[{"-", 
              RowBox[{"dc", "[", 
               RowBox[{
                RowBox[{"-", "6"}], "+", "t"}], "]"}]}]]}], "]"}], "+", 
          RowBox[{"Log", "[", 
           RowBox[{"1", "+", 
            SuperscriptBox["\[ExponentialE]", 
             RowBox[{
              RowBox[{"-", 
               RowBox[{"dc", "[", 
                RowBox[{
                 RowBox[{"-", "1"}], "+", "t"}], "]"}]}], "-", 
              RowBox[{"dc", "[", "t", "]"}]}]], "+", 
            SuperscriptBox["\[ExponentialE]", 
             RowBox[{"-", 
              RowBox[{"dc", "[", "t", "]"}]}]]}], "]"}]}]}], ",", 
        "\[IndentingNewLine]", "\[IndentingNewLine]", 
        RowBox[{
         RowBox[{"gt", "[", 
          RowBox[{"dd", ",", "t", ",", "i", ",", 
           RowBox[{"{", 
            RowBox[{
             RowBox[{"\"\<TimeAggregation\>\"", "->", "3"}], ",", 
             RowBox[{"\"\<numPeriods\>\"", "->", "k"}]}], "}"}]}], "]"}], "==", 
         RowBox[{
          RowBox[{"dd", "[", 
           RowBox[{
            RowBox[{
             RowBox[{"-", "5"}], "+", "t"}], ",", "i"}], "]"}], "+", 
          RowBox[{"dd", "[", 
           RowBox[{
            RowBox[{
             RowBox[{"-", "4"}], "+", "t"}], ",", "i"}], "]"}], "+", 
          RowBox[{"dd", "[", 
           RowBox[{
            RowBox[{
             RowBox[{"-", "3"}], "+", "t"}], ",", "i"}], "]"}], "+", 
          RowBox[{"dd", "[", 
           RowBox[{
            RowBox[{
             RowBox[{"-", "2"}], "+", "t"}], ",", "i"}], "]"}], "+", 
          RowBox[{"dd", "[", 
           RowBox[{
            RowBox[{
             RowBox[{"-", "1"}], "+", "t"}], ",", "i"}], "]"}], "+", 
          RowBox[{"dd", "[", 
           RowBox[{"t", ",", "i"}], "]"}], "-", 
          RowBox[{"Log", "[", 
           RowBox[{"1", "+", 
            SuperscriptBox["\[ExponentialE]", 
             RowBox[{
              RowBox[{"-", 
               RowBox[{"dd", "[", 
                RowBox[{
                 RowBox[{
                  RowBox[{"-", "7"}], "+", "t"}], ",", "i"}], "]"}]}], "-", 
              RowBox[{"dd", "[", 
               RowBox[{
                RowBox[{
                 RowBox[{"-", "6"}], "+", "t"}], ",", "i"}], "]"}]}]], "+", 
            SuperscriptBox["\[ExponentialE]", 
             RowBox[{"-", 
              RowBox[{"dd", "[", 
               RowBox[{
                RowBox[{
                 RowBox[{"-", "6"}], "+", "t"}], ",", "i"}], "]"}]}]]}], 
           "]"}], "+", 
          RowBox[{"Log", "[", 
           RowBox[{"1", "+", 
            SuperscriptBox["\[ExponentialE]", 
             RowBox[{
              RowBox[{"-", 
               RowBox[{"dd", "[", 
                RowBox[{
                 RowBox[{
                  RowBox[{"-", "1"}], "+", "t"}], ",", "i"}], "]"}]}], "-", 
              RowBox[{"dd", "[", 
               RowBox[{"t", ",", "i"}], "]"}]}]], "+", 
            SuperscriptBox["\[ExponentialE]", 
             RowBox[{"-", 
              RowBox[{"dd", "[", 
               RowBox[{"t", ",", "i"}], "]"}]}]]}], "]"}]}]}], ",", 
        "\[IndentingNewLine]", 
        RowBox[{
         RowBox[{"gt", "[", 
          RowBox[{"dd", ",", "t", ",", "i", ",", 
           RowBox[{"\"\<TimeAggregation\>\"", "->", "3"}], ",", 
           RowBox[{"\"\<numPeriods\>\"", "->", "k"}]}], "]"}], "==", 
         RowBox[{
          RowBox[{"dd", "[", 
           RowBox[{
            RowBox[{
             RowBox[{"-", "5"}], "+", "t"}], ",", "i"}], "]"}], "+", 
          RowBox[{"dd", "[", 
           RowBox[{
            RowBox[{
             RowBox[{"-", "4"}], "+", "t"}], ",", "i"}], "]"}], "+", 
          RowBox[{"dd", "[", 
           RowBox[{
            RowBox[{
             RowBox[{"-", "3"}], "+", "t"}], ",", "i"}], "]"}], "+", 
          RowBox[{"dd", "[", 
           RowBox[{
            RowBox[{
             RowBox[{"-", "2"}], "+", "t"}], ",", "i"}], "]"}], "+", 
          RowBox[{"dd", "[", 
           RowBox[{
            RowBox[{
             RowBox[{"-", "1"}], "+", "t"}], ",", "i"}], "]"}], "+", 
          RowBox[{"dd", "[", 
           RowBox[{"t", ",", "i"}], "]"}], "-", 
          RowBox[{"Log", "[", 
           RowBox[{"1", "+", 
            SuperscriptBox["\[ExponentialE]", 
             RowBox[{
              RowBox[{"-", 
               RowBox[{"dd", "[", 
                RowBox[{
                 RowBox[{
                  RowBox[{"-", "7"}], "+", "t"}], ",", "i"}], "]"}]}], "-", 
              RowBox[{"dd", "[", 
               RowBox[{
                RowBox[{
                 RowBox[{"-", "6"}], "+", "t"}], ",", "i"}], "]"}]}]], "+", 
            SuperscriptBox["\[ExponentialE]", 
             RowBox[{"-", 
              RowBox[{"dd", "[", 
               RowBox[{
                RowBox[{
                 RowBox[{"-", "6"}], "+", "t"}], ",", "i"}], "]"}]}]]}], 
           "]"}], "+", 
          RowBox[{"Log", "[", 
           RowBox[{"1", "+", 
            SuperscriptBox["\[ExponentialE]", 
             RowBox[{
              RowBox[{"-", 
               RowBox[{"dd", "[", 
                RowBox[{
                 RowBox[{
                  RowBox[{"-", "1"}], "+", "t"}], ",", "i"}], "]"}]}], "-", 
              RowBox[{"dd", "[", 
               RowBox[{"t", ",", "i"}], "]"}]}]], "+", 
            SuperscriptBox["\[ExponentialE]", 
             RowBox[{"-", 
              RowBox[{"dd", "[", 
               RowBox[{"t", ",", "i"}], "]"}]}]]}], "]"}]}]}], ",", 
        "\[IndentingNewLine]", "\[IndentingNewLine]", 
        RowBox[{
         RowBox[{"gt", "[", 
          RowBox[{"dd", ",", "t", ",", "1", ",", 
           RowBox[{"{", 
            RowBox[{
             RowBox[{"\"\<TimeAggregation\>\"", "->", "3"}], ",", 
             RowBox[{"\"\<numPeriods\>\"", "->", "k"}]}], "}"}]}], "]"}], "==", 
         RowBox[{
          RowBox[{"dd", "[", 
           RowBox[{
            RowBox[{
             RowBox[{"-", "5"}], "+", "t"}], ",", "1"}], "]"}], "+", 
          RowBox[{"dd", "[", 
           RowBox[{
            RowBox[{
             RowBox[{"-", "4"}], "+", "t"}], ",", "1"}], "]"}], "+", 
          RowBox[{"dd", "[", 
           RowBox[{
            RowBox[{
             RowBox[{"-", "3"}], "+", "t"}], ",", "1"}], "]"}], "+", 
          RowBox[{"dd", "[", 
           RowBox[{
            RowBox[{
             RowBox[{"-", "2"}], "+", "t"}], ",", "1"}], "]"}], "+", 
          RowBox[{"dd", "[", 
           RowBox[{
            RowBox[{
             RowBox[{"-", "1"}], "+", "t"}], ",", "1"}], "]"}], "+", 
          RowBox[{"dd", "[", 
           RowBox[{"t", ",", "1"}], "]"}], "-", 
          RowBox[{"Log", "[", 
           RowBox[{"1", "+", 
            SuperscriptBox["\[ExponentialE]", 
             RowBox[{
              RowBox[{"-", 
               RowBox[{"dd", "[", 
                RowBox[{
                 RowBox[{
                  RowBox[{"-", "7"}], "+", "t"}], ",", "1"}], "]"}]}], "-", 
              RowBox[{"dd", "[", 
               RowBox[{
                RowBox[{
                 RowBox[{"-", "6"}], "+", "t"}], ",", "1"}], "]"}]}]], "+", 
            SuperscriptBox["\[ExponentialE]", 
             RowBox[{"-", 
              RowBox[{"dd", "[", 
               RowBox[{
                RowBox[{
                 RowBox[{"-", "6"}], "+", "t"}], ",", "1"}], "]"}]}]]}], 
           "]"}], "+", 
          RowBox[{"Log", "[", 
           RowBox[{"1", "+", 
            SuperscriptBox["\[ExponentialE]", 
             RowBox[{
              RowBox[{"-", 
               RowBox[{"dd", "[", 
                RowBox[{
                 RowBox[{
                  RowBox[{"-", "1"}], "+", "t"}], ",", "1"}], "]"}]}], "-", 
              RowBox[{"dd", "[", 
               RowBox[{"t", ",", "1"}], "]"}]}]], "+", 
            SuperscriptBox["\[ExponentialE]", 
             RowBox[{"-", 
              RowBox[{"dd", "[", 
               RowBox[{"t", ",", "1"}], "]"}]}]]}], "]"}]}]}], ",", 
        "\[IndentingNewLine]", 
        RowBox[{
         RowBox[{"gt", "[", 
          RowBox[{"dd", ",", "t", ",", "2", ",", 
           RowBox[{"\"\<TimeAggregation\>\"", "->", "3"}], ",", 
           RowBox[{"\"\<numPeriods\>\"", "->", "k"}]}], "]"}], "==", 
         RowBox[{
          RowBox[{"dd", "[", 
           RowBox[{
            RowBox[{
             RowBox[{"-", "5"}], "+", "t"}], ",", "2"}], "]"}], "+", 
          RowBox[{"dd", "[", 
           RowBox[{
            RowBox[{
             RowBox[{"-", "4"}], "+", "t"}], ",", "2"}], "]"}], "+", 
          RowBox[{"dd", "[", 
           RowBox[{
            RowBox[{
             RowBox[{"-", "3"}], "+", "t"}], ",", "2"}], "]"}], "+", 
          RowBox[{"dd", "[", 
           RowBox[{
            RowBox[{
             RowBox[{"-", "2"}], "+", "t"}], ",", "2"}], "]"}], "+", 
          RowBox[{"dd", "[", 
           RowBox[{
            RowBox[{
             RowBox[{"-", "1"}], "+", "t"}], ",", "2"}], "]"}], "+", 
          RowBox[{"dd", "[", 
           RowBox[{"t", ",", "2"}], "]"}], "-", 
          RowBox[{"Log", "[", 
           RowBox[{"1", "+", 
            SuperscriptBox["\[ExponentialE]", 
             RowBox[{
              RowBox[{"-", 
               RowBox[{"dd", "[", 
                RowBox[{
                 RowBox[{
                  RowBox[{"-", "7"}], "+", "t"}], ",", "2"}], "]"}]}], "-", 
              RowBox[{"dd", "[", 
               RowBox[{
                RowBox[{
                 RowBox[{"-", "6"}], "+", "t"}], ",", "2"}], "]"}]}]], "+", 
            SuperscriptBox["\[ExponentialE]", 
             RowBox[{"-", 
              RowBox[{"dd", "[", 
               RowBox[{
                RowBox[{
                 RowBox[{"-", "6"}], "+", "t"}], ",", "2"}], "]"}]}]]}], 
           "]"}], "+", 
          RowBox[{"Log", "[", 
           RowBox[{"1", "+", 
            SuperscriptBox["\[ExponentialE]", 
             RowBox[{
              RowBox[{"-", 
               RowBox[{"dd", "[", 
                RowBox[{
                 RowBox[{
                  RowBox[{"-", "1"}], "+", "t"}], ",", "2"}], "]"}]}], "-", 
              RowBox[{"dd", "[", 
               RowBox[{"t", ",", "2"}], "]"}]}]], "+", 
            SuperscriptBox["\[ExponentialE]", 
             RowBox[{"-", 
              RowBox[{"dd", "[", 
               RowBox[{"t", ",", "2"}], "]"}]}]]}], "]"}]}]}]}], 
       "\[IndentingNewLine]", "}"}]}]}], "\[IndentingNewLine]", ",", 
    RowBox[{"\"\<ConfirmResults\>\"", "\[Rule]", "False"}]}], 
   "]"}]}]], "Input",
 CellGroupingRules->{"GroupTogetherGrouping", 10000.},
 CellChangeTimes->{{3.890180790288171*^9, 3.89018090596798*^9}, {
   3.890195412403283*^9, 3.890195414110985*^9}, {3.890195786875156*^9, 
   3.890195808972714*^9}, {3.89019606045087*^9, 3.890196060454335*^9}, 
   3.8903633949018908`*^9, {3.9051332233317833`*^9, 3.90513325960448*^9}, {
   3.905133596330532*^9, 3.905133596564281*^9}, {3.905133756758236*^9, 
   3.905133757029606*^9}, {3.905133945499896*^9, 3.905133954636455*^9}, {
   3.905134678985759*^9, 3.9051346812278757`*^9}, 3.9051347845591927`*^9},
 CellLabel->"In[33]:=",ExpressionUUID->"b33cb6ba-09ed-4e90-b73a-1464c8707383"],

Cell[BoxData[
 RowBox[{
  RowBox[{"ResourceFunction", "[", "\"\<WriteUnitTest\>\"", "]"}], "[", 
  RowBox[{"testFileName", ",", "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{"h", "=", "3"}], ";", 
    RowBox[{"k", "=", "2"}], ";", "\[IndentingNewLine]", 
    RowBox[{"And", "@@", 
     RowBox[{"{", "\[IndentingNewLine]", 
      RowBox[{
       RowBox[{
        RowBox[{"gt", "[", 
         RowBox[{"dc", ",", "t"}], "]"}], "==", 
        RowBox[{"dc", "[", "t", "]"}]}], ",", "\[IndentingNewLine]", 
       RowBox[{
        RowBox[{"gt", "[", 
         RowBox[{"dc", ",", "t", ",", 
          RowBox[{"\"\<flowVariable\>\"", "->", "False"}]}], "]"}], "==", 
        RowBox[{"dc", "[", "t", "]"}]}], ",", "\[IndentingNewLine]", 
       RowBox[{
        RowBox[{"gt", "[", 
         RowBox[{"dc", ",", "t", ",", 
          RowBox[{"\"\<TimeAggregation\>\"", "->", "3"}], ",", 
          RowBox[{"\"\<flowVariable\>\"", "->", "False"}]}], "]"}], "==", 
        RowBox[{
         RowBox[{"dc", "[", 
          RowBox[{
           RowBox[{"-", "2"}], "+", "t"}], "]"}], "+", 
         RowBox[{"dc", "[", 
          RowBox[{
           RowBox[{"-", "1"}], "+", "t"}], "]"}], "+", 
         RowBox[{"dc", "[", "t", "]"}]}]}], ",", "\[IndentingNewLine]", 
       "\[IndentingNewLine]", 
       RowBox[{
        RowBox[{"gt", "[", 
         RowBox[{"dd", ",", "t", ",", "i", ",", 
          RowBox[{"{", 
           RowBox[{"\"\<numPeriods\>\"", "->", "k"}], "}"}], ",", 
          RowBox[{"\"\<flowVariable\>\"", "->", "False"}]}], "]"}], "==", 
        RowBox[{
         RowBox[{"dd", "[", 
          RowBox[{
           RowBox[{
            RowBox[{"-", "1"}], "+", "t"}], ",", "i"}], "]"}], "+", 
         RowBox[{"dd", "[", 
          RowBox[{"t", ",", "i"}], "]"}]}]}], ",", "\[IndentingNewLine]", 
       RowBox[{
        RowBox[{"gt", "[", 
         RowBox[{"dd", ",", "t", ",", "i", ",", 
          RowBox[{"\"\<flowVariable\>\"", "->", "False"}]}], "]"}], "==", 
        RowBox[{"dd", "[", 
         RowBox[{"t", ",", "i"}], "]"}]}], ",", "\[IndentingNewLine]", 
       "\[IndentingNewLine]", 
       RowBox[{
        RowBox[{"gt", "[", 
         RowBox[{"dd", ",", "t", ",", "1", ",", 
          RowBox[{"{", 
           RowBox[{"\"\<TimeAggregation\>\"", "->", "3"}], "}"}], ",", 
          RowBox[{"\"\<flowVariable\>\"", "->", "False"}]}], "]"}], "==", 
        RowBox[{
         RowBox[{"dd", "[", 
          RowBox[{
           RowBox[{
            RowBox[{"-", "2"}], "+", "t"}], ",", "1"}], "]"}], "+", 
         RowBox[{"dd", "[", 
          RowBox[{
           RowBox[{
            RowBox[{"-", "1"}], "+", "t"}], ",", "1"}], "]"}], "+", 
         RowBox[{"dd", "[", 
          RowBox[{"t", ",", "1"}], "]"}]}]}], ",", "\[IndentingNewLine]", 
       RowBox[{
        RowBox[{"gt", "[", 
         RowBox[{"dd", ",", "t", ",", "2", ",", 
          RowBox[{"\"\<flowVariable\>\"", "->", "False"}]}], "]"}], "==", 
        RowBox[{"dd", "[", 
         RowBox[{"t", ",", "2"}], "]"}]}]}], "\[IndentingNewLine]", "}"}]}]}],
    "\[IndentingNewLine]", ",", 
   RowBox[{"\"\<ConfirmResults\>\"", "\[Rule]", "False"}]}], "]"}]], "Input",
 CellGroupingRules->{"GroupTogetherGrouping", 10000.},
 CellChangeTimes->{{3.890197273875286*^9, 3.890197294899378*^9}, 
   3.890363394902141*^9, {3.905133153189486*^9, 3.905133178916025*^9}, {
   3.90513321252802*^9, 3.905133212988543*^9}, {3.9051336023048573`*^9, 
   3.9051336024675837`*^9}, {3.90513376046955*^9, 3.905133760692553*^9}, {
   3.90513396234122*^9, 3.905133969820135*^9}, 3.905134672848621*^9, 
   3.9051347867754097`*^9, 3.905134886696725*^9},
 CellLabel->"In[34]:=",ExpressionUUID->"96b96ed2-83d4-40b9-a136-1aceb6ceb4aa"],

Cell[BoxData[
 RowBox[{
  RowBox[{"ResourceFunction", "[", "\"\<WriteUnitTest\>\"", "]"}], "[", 
  RowBox[{"testFileName", ",", "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{"h", "=", "3"}], ";", 
    RowBox[{"k", "=", "2"}], ";", "\[IndentingNewLine]", 
    RowBox[{"And", "@@", 
     RowBox[{"{", "\[IndentingNewLine]", 
      RowBox[{
       RowBox[{
        RowBox[{"gt", "[", 
         RowBox[{"dc", ",", "t"}], "]"}], "==", 
        RowBox[{"dc", "[", "t", "]"}]}], ",", "\[IndentingNewLine]", 
       RowBox[{
        RowBox[{"gt", "[", 
         RowBox[{"dc", ",", "t", ",", 
          RowBox[{"{", 
           RowBox[{
            RowBox[{"\"\<TimeAggregation\>\"", "->", "h"}], ",", 
            RowBox[{"\"\<numPeriods\>\"", "->", "k"}]}], "}"}], ",", 
          RowBox[{"\"\<flowVariable\>\"", "->", "False"}]}], "]"}], "==", 
        RowBox[{
         RowBox[{"dc", "[", 
          RowBox[{
           RowBox[{"-", "5"}], "+", "t"}], "]"}], "+", 
         RowBox[{"dc", "[", 
          RowBox[{
           RowBox[{"-", "4"}], "+", "t"}], "]"}], "+", 
         RowBox[{"dc", "[", 
          RowBox[{
           RowBox[{"-", "3"}], "+", "t"}], "]"}], "+", 
         RowBox[{"dc", "[", 
          RowBox[{
           RowBox[{"-", "2"}], "+", "t"}], "]"}], "+", 
         RowBox[{"dc", "[", 
          RowBox[{
           RowBox[{"-", "1"}], "+", "t"}], "]"}], "+", 
         RowBox[{"dc", "[", "t", "]"}]}]}], ",", "\[IndentingNewLine]", 
       RowBox[{
        RowBox[{"gt", "[", 
         RowBox[{"dc", ",", "t", ",", 
          RowBox[{"\"\<TimeAggregation\>\"", "->", "h"}], ",", 
          RowBox[{"\"\<numPeriods\>\"", "->", "k"}], ",", 
          RowBox[{"\"\<flowVariable\>\"", "->", "False"}]}], "]"}], "==", 
        RowBox[{
         RowBox[{"dc", "[", 
          RowBox[{
           RowBox[{"-", "5"}], "+", "t"}], "]"}], "+", 
         RowBox[{"dc", "[", 
          RowBox[{
           RowBox[{"-", "4"}], "+", "t"}], "]"}], "+", 
         RowBox[{"dc", "[", 
          RowBox[{
           RowBox[{"-", "3"}], "+", "t"}], "]"}], "+", 
         RowBox[{"dc", "[", 
          RowBox[{
           RowBox[{"-", "2"}], "+", "t"}], "]"}], "+", 
         RowBox[{"dc", "[", 
          RowBox[{
           RowBox[{"-", "1"}], "+", "t"}], "]"}], "+", 
         RowBox[{"dc", "[", "t", "]"}]}]}], ",", "\[IndentingNewLine]", 
       "\[IndentingNewLine]", 
       RowBox[{
        RowBox[{"gt", "[", 
         RowBox[{"dd", ",", "t", ",", "i", ",", 
          RowBox[{"{", 
           RowBox[{
            RowBox[{"\"\<TimeAggregation\>\"", "->", "h"}], ",", 
            RowBox[{"\"\<numPeriods\>\"", "->", "k"}]}], "}"}], ",", 
          RowBox[{"\"\<flowVariable\>\"", "->", "False"}]}], "]"}], "==", 
        RowBox[{
         RowBox[{"dd", "[", 
          RowBox[{
           RowBox[{
            RowBox[{"-", "5"}], "+", "t"}], ",", "i"}], "]"}], "+", 
         RowBox[{"dd", "[", 
          RowBox[{
           RowBox[{
            RowBox[{"-", "4"}], "+", "t"}], ",", "i"}], "]"}], "+", 
         RowBox[{"dd", "[", 
          RowBox[{
           RowBox[{
            RowBox[{"-", "3"}], "+", "t"}], ",", "i"}], "]"}], "+", 
         RowBox[{"dd", "[", 
          RowBox[{
           RowBox[{
            RowBox[{"-", "2"}], "+", "t"}], ",", "i"}], "]"}], "+", 
         RowBox[{"dd", "[", 
          RowBox[{
           RowBox[{
            RowBox[{"-", "1"}], "+", "t"}], ",", "i"}], "]"}], "+", 
         RowBox[{"dd", "[", 
          RowBox[{"t", ",", "i"}], "]"}]}]}], ",", "\[IndentingNewLine]", 
       RowBox[{
        RowBox[{"gt", "[", 
         RowBox[{"dd", ",", "t", ",", "i", ",", 
          RowBox[{"\"\<TimeAggregation\>\"", "->", "h"}], ",", 
          RowBox[{"\"\<numPeriods\>\"", "->", "k"}], ",", 
          RowBox[{"\"\<flowVariable\>\"", "->", "False"}]}], "]"}], "==", 
        RowBox[{
         RowBox[{"dd", "[", 
          RowBox[{
           RowBox[{
            RowBox[{"-", "5"}], "+", "t"}], ",", "i"}], "]"}], "+", 
         RowBox[{"dd", "[", 
          RowBox[{
           RowBox[{
            RowBox[{"-", "4"}], "+", "t"}], ",", "i"}], "]"}], "+", 
         RowBox[{"dd", "[", 
          RowBox[{
           RowBox[{
            RowBox[{"-", "3"}], "+", "t"}], ",", "i"}], "]"}], "+", 
         RowBox[{"dd", "[", 
          RowBox[{
           RowBox[{
            RowBox[{"-", "2"}], "+", "t"}], ",", "i"}], "]"}], "+", 
         RowBox[{"dd", "[", 
          RowBox[{
           RowBox[{
            RowBox[{"-", "1"}], "+", "t"}], ",", "i"}], "]"}], "+", 
         RowBox[{"dd", "[", 
          RowBox[{"t", ",", "i"}], "]"}]}]}], ",", "\[IndentingNewLine]", 
       "\[IndentingNewLine]", 
       RowBox[{
        RowBox[{"gt", "[", 
         RowBox[{"dd", ",", "t", ",", "1", ",", 
          RowBox[{"{", 
           RowBox[{
            RowBox[{"\"\<TimeAggregation\>\"", "->", "h"}], ",", 
            RowBox[{"\"\<numPeriods\>\"", "->", "k"}]}], "}"}], ",", 
          RowBox[{"\"\<flowVariable\>\"", "->", "False"}]}], "]"}], "==", 
        RowBox[{
         RowBox[{"dd", "[", 
          RowBox[{
           RowBox[{
            RowBox[{"-", "5"}], "+", "t"}], ",", "1"}], "]"}], "+", 
         RowBox[{"dd", "[", 
          RowBox[{
           RowBox[{
            RowBox[{"-", "4"}], "+", "t"}], ",", "1"}], "]"}], "+", 
         RowBox[{"dd", "[", 
          RowBox[{
           RowBox[{
            RowBox[{"-", "3"}], "+", "t"}], ",", "1"}], "]"}], "+", 
         RowBox[{"dd", "[", 
          RowBox[{
           RowBox[{
            RowBox[{"-", "2"}], "+", "t"}], ",", "1"}], "]"}], "+", 
         RowBox[{"dd", "[", 
          RowBox[{
           RowBox[{
            RowBox[{"-", "1"}], "+", "t"}], ",", "1"}], "]"}], "+", 
         RowBox[{"dd", "[", 
          RowBox[{"t", ",", "1"}], "]"}]}]}], ",", "\[IndentingNewLine]", 
       RowBox[{
        RowBox[{"gt", "[", 
         RowBox[{"dd", ",", "t", ",", "2", ",", 
          RowBox[{"\"\<TimeAggregation\>\"", "->", "h"}], ",", 
          RowBox[{"\"\<numPeriods\>\"", "->", "k"}], ",", 
          RowBox[{"\"\<flowVariable\>\"", "->", "False"}]}], "]"}], "==", 
        RowBox[{
         RowBox[{"dd", "[", 
          RowBox[{
           RowBox[{
            RowBox[{"-", "5"}], "+", "t"}], ",", "2"}], "]"}], "+", 
         RowBox[{"dd", "[", 
          RowBox[{
           RowBox[{
            RowBox[{"-", "4"}], "+", "t"}], ",", "2"}], "]"}], "+", 
         RowBox[{"dd", "[", 
          RowBox[{
           RowBox[{
            RowBox[{"-", "3"}], "+", "t"}], ",", "2"}], "]"}], "+", 
         RowBox[{"dd", "[", 
          RowBox[{
           RowBox[{
            RowBox[{"-", "2"}], "+", "t"}], ",", "2"}], "]"}], "+", 
         RowBox[{"dd", "[", 
          RowBox[{
           RowBox[{
            RowBox[{"-", "1"}], "+", "t"}], ",", "2"}], "]"}], "+", 
         RowBox[{"dd", "[", 
          RowBox[{"t", ",", "2"}], "]"}]}]}]}], "\[IndentingNewLine]", 
      "}"}]}]}], "\[IndentingNewLine]", ",", 
   RowBox[{"\"\<ConfirmResults\>\"", "\[Rule]", "False"}]}], "]"}]], "Input",
 CellGroupingRules->{"GroupTogetherGrouping", 10000.},
 CellChangeTimes->{{3.8901972418340797`*^9, 3.890197267323588*^9}, 
   3.890363394902462*^9, {3.905133045526786*^9, 3.90513314489176*^9}, {
   3.9051336098492947`*^9, 3.905133614733652*^9}, {3.905133763085433*^9, 
   3.905133763288706*^9}, {3.9051339727076263`*^9, 3.905133977340766*^9}, {
   3.905134225658861*^9, 3.905134236417222*^9}, {3.905134311221683*^9, 
   3.9051343407336597`*^9}, 3.905134686152246*^9, 3.905134788886636*^9},
 CellLabel->"In[35]:=",ExpressionUUID->"1b9f0bd5-59e6-4be5-bea4-ddda117620dc"],

Cell[BoxData[
 RowBox[{
  RowBox[{"(*", 
   RowBox[{"tests", " ", 
    RowBox[{"g", "[", "timeSeriesVector", "]"}]}], "*)"}], 
  "\[IndentingNewLine]", 
  RowBox[{
   RowBox[{"ResourceFunction", "[", "\"\<WriteUnitTest\>\"", "]"}], "[", 
   RowBox[{"testFileName", ",", "\[IndentingNewLine]", 
    RowBox[{
     RowBox[{"h", "=", "3"}], ";", 
     RowBox[{"k", "=", "1"}], ";", "\[IndentingNewLine]", 
     RowBox[{"And", "@@", 
      RowBox[{"{", "\[IndentingNewLine]", 
       RowBox[{
        RowBox[{
         RowBox[{"g", "[", 
          RowBox[{
           RowBox[{"timeSeriesVector", "[", 
            RowBox[{"dc", ",", "t", ",", 
             RowBox[{"\"\<TimeAggregation\>\"", "->", "h"}]}], "]"}], ",", 
           "h"}], "]"}], "==", 
         RowBox[{
          RowBox[{"dc", "[", 
           RowBox[{
            RowBox[{"-", "2"}], "+", "t"}], "]"}], "+", 
          RowBox[{"dc", "[", 
           RowBox[{
            RowBox[{"-", "1"}], "+", "t"}], "]"}], "+", 
          RowBox[{"dc", "[", "t", "]"}], "-", 
          RowBox[{"Log", "[", 
           RowBox[{"1", "+", 
            SuperscriptBox["\[ExponentialE]", 
             RowBox[{
              RowBox[{"-", 
               RowBox[{"dc", "[", 
                RowBox[{
                 RowBox[{"-", "4"}], "+", "t"}], "]"}]}], "-", 
              RowBox[{"dc", "[", 
               RowBox[{
                RowBox[{"-", "3"}], "+", "t"}], "]"}]}]], "+", 
            SuperscriptBox["\[ExponentialE]", 
             RowBox[{"-", 
              RowBox[{"dc", "[", 
               RowBox[{
                RowBox[{"-", "3"}], "+", "t"}], "]"}]}]]}], "]"}], "+", 
          RowBox[{"Log", "[", 
           RowBox[{"1", "+", 
            SuperscriptBox["\[ExponentialE]", 
             RowBox[{
              RowBox[{"-", 
               RowBox[{"dc", "[", 
                RowBox[{
                 RowBox[{"-", "1"}], "+", "t"}], "]"}]}], "-", 
              RowBox[{"dc", "[", "t", "]"}]}]], "+", 
            SuperscriptBox["\[ExponentialE]", 
             RowBox[{"-", 
              RowBox[{"dc", "[", "t", "]"}]}]]}], "]"}]}]}], ",", 
        "\[IndentingNewLine]", 
        RowBox[{
         RowBox[{"g", "[", 
          RowBox[{
           RowBox[{"timeSeriesVector", "[", 
            RowBox[{"dc", ",", "t", ",", 
             RowBox[{"\"\<numPeriods\>\"", "->", "k"}]}], "]"}], ",", "1", 
           ",", "k"}], "]"}], "==", 
         RowBox[{"dc", "[", "t", "]"}]}], ",", "\[IndentingNewLine]", 
        RowBox[{
         RowBox[{"g", "[", 
          RowBox[{
           RowBox[{"timeSeriesVector", "[", 
            RowBox[{"dc", ",", "t", ",", 
             RowBox[{"{", 
              RowBox[{
               RowBox[{"\"\<TimeAggregation\>\"", "->", "h"}], ",", 
               RowBox[{"\"\<numPeriods\>\"", "->", "k"}]}], "}"}]}], "]"}], 
           ",", "h", ",", "k"}], "]"}], "==", 
         RowBox[{
          RowBox[{"dc", "[", 
           RowBox[{
            RowBox[{"-", "2"}], "+", "t"}], "]"}], "+", 
          RowBox[{"dc", "[", 
           RowBox[{
            RowBox[{"-", "1"}], "+", "t"}], "]"}], "+", 
          RowBox[{"dc", "[", "t", "]"}], "-", 
          RowBox[{"Log", "[", 
           RowBox[{"1", "+", 
            SuperscriptBox["\[ExponentialE]", 
             RowBox[{
              RowBox[{"-", 
               RowBox[{"dc", "[", 
                RowBox[{
                 RowBox[{"-", "4"}], "+", "t"}], "]"}]}], "-", 
              RowBox[{"dc", "[", 
               RowBox[{
                RowBox[{"-", "3"}], "+", "t"}], "]"}]}]], "+", 
            SuperscriptBox["\[ExponentialE]", 
             RowBox[{"-", 
              RowBox[{"dc", "[", 
               RowBox[{
                RowBox[{"-", "3"}], "+", "t"}], "]"}]}]]}], "]"}], "+", 
          RowBox[{"Log", "[", 
           RowBox[{"1", "+", 
            SuperscriptBox["\[ExponentialE]", 
             RowBox[{
              RowBox[{"-", 
               RowBox[{"dc", "[", 
                RowBox[{
                 RowBox[{"-", "1"}], "+", "t"}], "]"}]}], "-", 
              RowBox[{"dc", "[", "t", "]"}]}]], "+", 
            SuperscriptBox["\[ExponentialE]", 
             RowBox[{"-", 
              RowBox[{"dc", "[", "t", "]"}]}]]}], "]"}]}]}], ",", 
        "\[IndentingNewLine]", 
        RowBox[{
         RowBox[{"g", "[", 
          RowBox[{
           RowBox[{"timeSeriesVector", "[", 
            RowBox[{"dc", ",", "t", ",", 
             RowBox[{"\"\<TimeAggregation\>\"", "->", "h"}], ",", 
             RowBox[{"\"\<numPeriods\>\"", "->", "k"}]}], "]"}], ",", "h", 
           ",", "k"}], "]"}], "==", 
         RowBox[{
          RowBox[{"dc", "[", 
           RowBox[{
            RowBox[{"-", "2"}], "+", "t"}], "]"}], "+", 
          RowBox[{"dc", "[", 
           RowBox[{
            RowBox[{"-", "1"}], "+", "t"}], "]"}], "+", 
          RowBox[{"dc", "[", "t", "]"}], "-", 
          RowBox[{"Log", "[", 
           RowBox[{"1", "+", 
            SuperscriptBox["\[ExponentialE]", 
             RowBox[{
              RowBox[{"-", 
               RowBox[{"dc", "[", 
                RowBox[{
                 RowBox[{"-", "4"}], "+", "t"}], "]"}]}], "-", 
              RowBox[{"dc", "[", 
               RowBox[{
                RowBox[{"-", "3"}], "+", "t"}], "]"}]}]], "+", 
            SuperscriptBox["\[ExponentialE]", 
             RowBox[{"-", 
              RowBox[{"dc", "[", 
               RowBox[{
                RowBox[{"-", "3"}], "+", "t"}], "]"}]}]]}], "]"}], "+", 
          RowBox[{"Log", "[", 
           RowBox[{"1", "+", 
            SuperscriptBox["\[ExponentialE]", 
             RowBox[{
              RowBox[{"-", 
               RowBox[{"dc", "[", 
                RowBox[{
                 RowBox[{"-", "1"}], "+", "t"}], "]"}]}], "-", 
              RowBox[{"dc", "[", "t", "]"}]}]], "+", 
            SuperscriptBox["\[ExponentialE]", 
             RowBox[{"-", 
              RowBox[{"dc", "[", "t", "]"}]}]]}], "]"}]}]}]}], 
       "\[IndentingNewLine]", "}"}]}]}], "\[IndentingNewLine]", ",", 
    RowBox[{"\"\<ConfirmResults\>\"", "\[Rule]", "False"}]}], 
   "]"}]}]], "Input",
 CellGroupingRules->{"GroupTogetherGrouping", 10000.},
 CellChangeTimes->{{3.8901720531736927`*^9, 3.8901721635258904`*^9}, {
   3.890179904157103*^9, 3.890179924111239*^9}, {3.890180004340312*^9, 
   3.890180028753381*^9}, {3.8901801807801247`*^9, 3.890180246889792*^9}, {
   3.890185045383835*^9, 3.89018507800213*^9}, 3.890185360549662*^9, {
   3.890185418059861*^9, 3.890185418309677*^9}, {3.890195419832499*^9, 
   3.8901954226019363`*^9}, {3.890195490048667*^9, 3.8901954913676*^9}, {
   3.8901960604641733`*^9, 3.890196060465534*^9}, 3.890363394902726*^9, {
   3.890404606481097*^9, 3.890404612989439*^9}, {3.890406202847101*^9, 
   3.890406203168273*^9}, {3.890406271250958*^9, 3.890406276098238*^9}, {
   3.905133022573615*^9, 3.90513304065716*^9}, {3.9051336267053432`*^9, 
   3.9051336302967577`*^9}, {3.9051337663589363`*^9, 
   3.9051337665614767`*^9}, {3.905133983700873*^9, 3.905133988085473*^9}, 
   3.9051346885995607`*^9, 3.9051347907581787`*^9},
 CellLabel->"In[36]:=",ExpressionUUID->"c0e59154-8adb-49fd-8d7f-555585b70706"],

Cell[BoxData[
 RowBox[{
  RowBox[{"(*", 
   RowBox[{"should", " ", "return", " ", "unevaluated"}], "*)"}], 
  "\[IndentingNewLine]", 
  RowBox[{"(*", 
   RowBox[{
   "wrong", " ", "length", " ", "for", " ", "first", " ", "argument", " ", 
    "of", " ", "g"}], "*)"}], "\[IndentingNewLine]", 
  RowBox[{
   RowBox[{"ResourceFunction", "[", "\"\<WriteUnitTest\>\"", "]"}], "[", 
   RowBox[{"testFileName", ",", "\[IndentingNewLine]", 
    RowBox[{
     RowBox[{"h", "=", "3"}], ";", 
     RowBox[{"k", "=", "1"}], ";", "\[IndentingNewLine]", 
     RowBox[{"And", "@@", 
      RowBox[{"{", "\[IndentingNewLine]", 
       RowBox[{
        RowBox[{
         RowBox[{"g", "[", 
          RowBox[{
           RowBox[{"timeSeriesVector", "[", 
            RowBox[{"dc", ",", "t"}], "]"}], ",", "h"}], "]"}], "==", 
         RowBox[{
         "FernandoDuarte`LongRunRisk`Tools`TimeAggregation`Private`g", "[", 
          RowBox[{
           RowBox[{"{", 
            RowBox[{"dc", "[", "t", "]"}], "}"}], ",", "3"}], "]"}]}], ",", 
        "\[IndentingNewLine]", 
        RowBox[{
         RowBox[{"g", "[", 
          RowBox[{
           RowBox[{
            RowBox[{"timeSeriesVector", "[", 
             RowBox[{"dc", ",", "t", ",", 
              RowBox[{"\"\<TimeAggregation\>\"", "->", "h"}]}], "]"}], "[", 
            RowBox[{"[", 
             RowBox[{";;", 
              RowBox[{"-", "2"}]}], "]"}], "]"}], ",", "h"}], "]"}], "==", 
         RowBox[{
         "FernandoDuarte`LongRunRisk`Tools`TimeAggregation`Private`g", "[", 
          RowBox[{
           RowBox[{"{", 
            RowBox[{
             RowBox[{"dc", "[", "t", "]"}], ",", 
             RowBox[{"dc", "[", 
              RowBox[{
               RowBox[{"-", "1"}], "+", "t"}], "]"}], ",", 
             RowBox[{"dc", "[", 
              RowBox[{
               RowBox[{"-", "2"}], "+", "t"}], "]"}], ",", 
             RowBox[{"dc", "[", 
              RowBox[{
               RowBox[{"-", "3"}], "+", "t"}], "]"}]}], "}"}], ",", "3"}], 
          "]"}]}], ",", "\[IndentingNewLine]", 
        RowBox[{
         RowBox[{"g", "[", 
          RowBox[{
           RowBox[{
            RowBox[{"timeSeriesVector", "[", 
             RowBox[{"dc", ",", "t", ",", 
              RowBox[{"\"\<numPeriods\>\"", "->", "k"}]}], "]"}], "[", 
            RowBox[{"[", 
             RowBox[{";;", 
              RowBox[{"-", "2"}]}], "]"}], "]"}], ",", "1", ",", "k"}], "]"}],
          "==", 
         RowBox[{
         "FernandoDuarte`LongRunRisk`Tools`TimeAggregation`Private`g", "[", 
          RowBox[{
           RowBox[{"{", "}"}], ",", "1", ",", "1"}], "]"}]}], ",", 
        "\[IndentingNewLine]", 
        RowBox[{
         RowBox[{"g", "[", 
          RowBox[{
           RowBox[{
            RowBox[{"timeSeriesVector", "[", 
             RowBox[{"dc", ",", "t", ",", 
              RowBox[{"{", 
               RowBox[{
                RowBox[{"\"\<TimeAggregation\>\"", "->", "h"}], ",", 
                RowBox[{"\"\<numPeriods\>\"", "->", "k"}]}], "}"}]}], "]"}], 
            "[", 
            RowBox[{"[", 
             RowBox[{";;", 
              RowBox[{"-", "2"}]}], "]"}], "]"}], ",", "h", ",", "k"}], "]"}],
          "==", 
         RowBox[{
         "FernandoDuarte`LongRunRisk`Tools`TimeAggregation`Private`g", "[", 
          RowBox[{
           RowBox[{"{", 
            RowBox[{
             RowBox[{"dc", "[", "t", "]"}], ",", 
             RowBox[{"dc", "[", 
              RowBox[{
               RowBox[{"-", "1"}], "+", "t"}], "]"}], ",", 
             RowBox[{"dc", "[", 
              RowBox[{
               RowBox[{"-", "2"}], "+", "t"}], "]"}], ",", 
             RowBox[{"dc", "[", 
              RowBox[{
               RowBox[{"-", "3"}], "+", "t"}], "]"}]}], "}"}], ",", "3", ",", 
           "1"}], "]"}]}], ",", "\[IndentingNewLine]", 
        RowBox[{
         RowBox[{"g", "[", 
          RowBox[{
           RowBox[{
            RowBox[{"timeSeriesVector", "[", 
             RowBox[{"dc", ",", "t", ",", 
              RowBox[{"\"\<TimeAggregation\>\"", "->", "h"}], ",", 
              RowBox[{"\"\<numPeriods\>\"", "->", "k"}]}], "]"}], "[", 
            RowBox[{"[", 
             RowBox[{";;", 
              RowBox[{"-", "2"}]}], "]"}], "]"}], ",", "h", ",", "k"}], "]"}],
          "==", 
         RowBox[{
         "FernandoDuarte`LongRunRisk`Tools`TimeAggregation`Private`g", "[", 
          RowBox[{
           RowBox[{"{", 
            RowBox[{
             RowBox[{"dc", "[", "t", "]"}], ",", 
             RowBox[{"dc", "[", 
              RowBox[{
               RowBox[{"-", "1"}], "+", "t"}], "]"}], ",", 
             RowBox[{"dc", "[", 
              RowBox[{
               RowBox[{"-", "2"}], "+", "t"}], "]"}], ",", 
             RowBox[{"dc", "[", 
              RowBox[{
               RowBox[{"-", "3"}], "+", "t"}], "]"}]}], "}"}], ",", "3", ",", 
           "1"}], "]"}]}]}], "\[IndentingNewLine]", "}"}]}]}], 
    "\[IndentingNewLine]", ",", 
    RowBox[{"\"\<ConfirmResults\>\"", "\[Rule]", "False"}]}], 
   "]"}]}]], "Input",
 CellGroupingRules->{"GroupTogetherGrouping", 10000.},
 CellChangeTimes->{{3.890190589143209*^9, 3.890190638588849*^9}, {
   3.890196060471004*^9, 3.890196060472418*^9}, 3.890363394903002*^9, {
   3.890406292664609*^9, 3.890406389608964*^9}, {3.905132987358062*^9, 
   3.9051330151743717`*^9}, {3.905133634095339*^9, 3.905133634395752*^9}, {
   3.90513376903858*^9, 3.905133769224579*^9}, {3.905133992293367*^9, 
   3.905133996652595*^9}, 3.9051346909198437`*^9, 3.9051347925987873`*^9},
 CellLabel->"In[37]:=",ExpressionUUID->"9388c04a-5a59-490b-850f-3b36a1535809"],

Cell[BoxData[
 RowBox[{
  RowBox[{"(*", 
   RowBox[{
   "TimeAggregation", " ", "aggregation", " ", "and", " ", "numPeriods", " ", 
    "for", " ", "flow", " ", "variables"}], "*)"}], "\[IndentingNewLine]", 
  RowBox[{
   RowBox[{"ResourceFunction", "[", "\"\<WriteUnitTest\>\"", "]"}], "[", 
   RowBox[{"testFileName", ",", "\[IndentingNewLine]", 
    RowBox[{
     RowBox[{"h", "=", "3"}], ";", 
     RowBox[{"k", "=", "1"}], ";", "\[IndentingNewLine]", 
     RowBox[{"And", "@@", 
      RowBox[{"{", "\[IndentingNewLine]", 
       RowBox[{
        RowBox[{
         RowBox[{"g", "[", 
          RowBox[{
           RowBox[{"timeSeriesVector", "[", 
            RowBox[{"dc", ",", "t", ",", 
             RowBox[{"\"\<TimeAggregation\>\"", "->", "h"}]}], "]"}], ",", 
           "h", ",", 
           RowBox[{"\"\<flowVariable\>\"", "->", "True"}]}], "]"}], "==", 
         RowBox[{
          RowBox[{"dc", "[", 
           RowBox[{
            RowBox[{"-", "2"}], "+", "t"}], "]"}], "+", 
          RowBox[{"dc", "[", 
           RowBox[{
            RowBox[{"-", "1"}], "+", "t"}], "]"}], "+", 
          RowBox[{"dc", "[", "t", "]"}], "-", 
          RowBox[{"Log", "[", 
           RowBox[{"1", "+", 
            SuperscriptBox["\[ExponentialE]", 
             RowBox[{
              RowBox[{"-", 
               RowBox[{"dc", "[", 
                RowBox[{
                 RowBox[{"-", "4"}], "+", "t"}], "]"}]}], "-", 
              RowBox[{"dc", "[", 
               RowBox[{
                RowBox[{"-", "3"}], "+", "t"}], "]"}]}]], "+", 
            SuperscriptBox["\[ExponentialE]", 
             RowBox[{"-", 
              RowBox[{"dc", "[", 
               RowBox[{
                RowBox[{"-", "3"}], "+", "t"}], "]"}]}]]}], "]"}], "+", 
          RowBox[{"Log", "[", 
           RowBox[{"1", "+", 
            SuperscriptBox["\[ExponentialE]", 
             RowBox[{
              RowBox[{"-", 
               RowBox[{"dc", "[", 
                RowBox[{
                 RowBox[{"-", "1"}], "+", "t"}], "]"}]}], "-", 
              RowBox[{"dc", "[", "t", "]"}]}]], "+", 
            SuperscriptBox["\[ExponentialE]", 
             RowBox[{"-", 
              RowBox[{"dc", "[", "t", "]"}]}]]}], "]"}]}]}], ",", 
        "\[IndentingNewLine]", 
        RowBox[{
         RowBox[{"g", "[", 
          RowBox[{
           RowBox[{"timeSeriesVector", "[", 
            RowBox[{"dc", ",", "t", ",", 
             RowBox[{"\"\<numPeriods\>\"", "->", "k"}]}], "]"}], ",", "1", 
           ",", "k", ",", 
           RowBox[{"\"\<flowVariable\>\"", "->", "True"}]}], "]"}], "==", 
         RowBox[{"dc", "[", "t", "]"}]}], ",", "\[IndentingNewLine]", 
        RowBox[{
         RowBox[{"g", "[", 
          RowBox[{
           RowBox[{"timeSeriesVector", "[", 
            RowBox[{"dc", ",", "t", ",", 
             RowBox[{"{", 
              RowBox[{
               RowBox[{"\"\<TimeAggregation\>\"", "->", "h"}], ",", 
               RowBox[{"\"\<numPeriods\>\"", "->", "k"}]}], "}"}]}], "]"}], 
           ",", "h", ",", "k", ",", 
           RowBox[{"\"\<flowVariable\>\"", "->", "True"}]}], "]"}], "==", 
         RowBox[{
          RowBox[{"dc", "[", 
           RowBox[{
            RowBox[{"-", "2"}], "+", "t"}], "]"}], "+", 
          RowBox[{"dc", "[", 
           RowBox[{
            RowBox[{"-", "1"}], "+", "t"}], "]"}], "+", 
          RowBox[{"dc", "[", "t", "]"}], "-", 
          RowBox[{"Log", "[", 
           RowBox[{"1", "+", 
            SuperscriptBox["\[ExponentialE]", 
             RowBox[{
              RowBox[{"-", 
               RowBox[{"dc", "[", 
                RowBox[{
                 RowBox[{"-", "4"}], "+", "t"}], "]"}]}], "-", 
              RowBox[{"dc", "[", 
               RowBox[{
                RowBox[{"-", "3"}], "+", "t"}], "]"}]}]], "+", 
            SuperscriptBox["\[ExponentialE]", 
             RowBox[{"-", 
              RowBox[{"dc", "[", 
               RowBox[{
                RowBox[{"-", "3"}], "+", "t"}], "]"}]}]]}], "]"}], "+", 
          RowBox[{"Log", "[", 
           RowBox[{"1", "+", 
            SuperscriptBox["\[ExponentialE]", 
             RowBox[{
              RowBox[{"-", 
               RowBox[{"dc", "[", 
                RowBox[{
                 RowBox[{"-", "1"}], "+", "t"}], "]"}]}], "-", 
              RowBox[{"dc", "[", "t", "]"}]}]], "+", 
            SuperscriptBox["\[ExponentialE]", 
             RowBox[{"-", 
              RowBox[{"dc", "[", "t", "]"}]}]]}], "]"}]}]}], ",", 
        "\[IndentingNewLine]", 
        RowBox[{
         RowBox[{"g", "[", 
          RowBox[{
           RowBox[{"timeSeriesVector", "[", 
            RowBox[{"dc", ",", "t", ",", 
             RowBox[{"\"\<TimeAggregation\>\"", "->", "h"}], ",", 
             RowBox[{"\"\<numPeriods\>\"", "->", "k"}]}], "]"}], ",", "h", 
           ",", "k", ",", 
           RowBox[{"\"\<flowVariable\>\"", "->", "True"}]}], "]"}], "==", 
         RowBox[{
          RowBox[{"dc", "[", 
           RowBox[{
            RowBox[{"-", "2"}], "+", "t"}], "]"}], "+", 
          RowBox[{"dc", "[", 
           RowBox[{
            RowBox[{"-", "1"}], "+", "t"}], "]"}], "+", 
          RowBox[{"dc", "[", "t", "]"}], "-", 
          RowBox[{"Log", "[", 
           RowBox[{"1", "+", 
            SuperscriptBox["\[ExponentialE]", 
             RowBox[{
              RowBox[{"-", 
               RowBox[{"dc", "[", 
                RowBox[{
                 RowBox[{"-", "4"}], "+", "t"}], "]"}]}], "-", 
              RowBox[{"dc", "[", 
               RowBox[{
                RowBox[{"-", "3"}], "+", "t"}], "]"}]}]], "+", 
            SuperscriptBox["\[ExponentialE]", 
             RowBox[{"-", 
              RowBox[{"dc", "[", 
               RowBox[{
                RowBox[{"-", "3"}], "+", "t"}], "]"}]}]]}], "]"}], "+", 
          RowBox[{"Log", "[", 
           RowBox[{"1", "+", 
            SuperscriptBox["\[ExponentialE]", 
             RowBox[{
              RowBox[{"-", 
               RowBox[{"dc", "[", 
                RowBox[{
                 RowBox[{"-", "1"}], "+", "t"}], "]"}]}], "-", 
              RowBox[{"dc", "[", "t", "]"}]}]], "+", 
            SuperscriptBox["\[ExponentialE]", 
             RowBox[{"-", 
              RowBox[{"dc", "[", "t", "]"}]}]]}], "]"}]}]}]}], 
       "\[IndentingNewLine]", "}"}]}]}], "\[IndentingNewLine]", ",", 
    RowBox[{"\"\<ConfirmResults\>\"", "\[Rule]", "False"}]}], 
   "]"}]}]], "Input",
 CellGroupingRules->{"GroupTogetherGrouping", 10000.},
 CellChangeTimes->{{3.890190302026493*^9, 3.890190316677984*^9}, {
   3.890190372940201*^9, 3.890190378010035*^9}, {3.890190417141127*^9, 
   3.89019041796427*^9}, {3.8901960604780188`*^9, 3.890196060479423*^9}, 
   3.890363394903254*^9, 3.8904063618869658`*^9, {3.890406395154607*^9, 
   3.890406427363122*^9}, {3.905132967599986*^9, 3.905132982756688*^9}, {
   3.905133637665764*^9, 3.905133637899835*^9}, {3.905133772230812*^9, 
   3.905133772460923*^9}, {3.9051340040771027`*^9, 3.905134007157502*^9}, 
   3.9051346929045267`*^9, 3.905134795158905*^9},
 CellLabel->"In[38]:=",ExpressionUUID->"058bac30-ec3b-4b94-b632-8626768c8b91"],

Cell[BoxData[
 RowBox[{
  RowBox[{"(*", 
   RowBox[{
   "TimeAggregation", " ", "aggregation", " ", "and", " ", "numPeriods", " ", 
    "for", " ", "stock", " ", "variables"}], "*)"}], "\[IndentingNewLine]", 
  RowBox[{
   RowBox[{"ResourceFunction", "[", "\"\<WriteUnitTest\>\"", "]"}], "[", 
   RowBox[{"testFileName", ",", "\[IndentingNewLine]", 
    RowBox[{
     RowBox[{"h", "=", "3"}], ";", 
     RowBox[{"k", "=", "1"}], ";", "\[IndentingNewLine]", 
     RowBox[{"And", "@@", 
      RowBox[{"{", "\[IndentingNewLine]", 
       RowBox[{
        RowBox[{
         RowBox[{"g", "[", 
          RowBox[{
           RowBox[{"timeSeriesVector", "[", 
            RowBox[{"dc", ",", "t", ",", 
             RowBox[{"\"\<TimeAggregation\>\"", "->", "h"}]}], "]"}], ",", 
           "h", ",", 
           RowBox[{"\"\<flowVariable\>\"", "->", "False"}]}], "]"}], "==", 
         RowBox[{
          RowBox[{"dc", "[", 
           RowBox[{
            RowBox[{"-", "2"}], "+", "t"}], "]"}], "+", 
          RowBox[{"dc", "[", 
           RowBox[{
            RowBox[{"-", "1"}], "+", "t"}], "]"}], "+", 
          RowBox[{"dc", "[", "t", "]"}]}]}], ",", "\[IndentingNewLine]", 
        RowBox[{
         RowBox[{"g", "[", 
          RowBox[{
           RowBox[{"timeSeriesVector", "[", 
            RowBox[{"dc", ",", "t", ",", 
             RowBox[{"\"\<numPeriods\>\"", "->", "k"}]}], "]"}], ",", "1", 
           ",", "k", ",", 
           RowBox[{"\"\<flowVariable\>\"", "->", "False"}]}], "]"}], "==", 
         RowBox[{"dc", "[", "t", "]"}]}], ",", "\[IndentingNewLine]", 
        RowBox[{
         RowBox[{"g", "[", 
          RowBox[{
           RowBox[{"timeSeriesVector", "[", 
            RowBox[{"dc", ",", "t", ",", 
             RowBox[{"{", 
              RowBox[{
               RowBox[{"\"\<TimeAggregation\>\"", "->", "h"}], ",", 
               RowBox[{"\"\<numPeriods\>\"", "->", "k"}]}], "}"}]}], "]"}], 
           ",", "h", ",", "k", ",", 
           RowBox[{"\"\<flowVariable\>\"", "->", "False"}]}], "]"}], "==", 
         RowBox[{
          RowBox[{"dc", "[", 
           RowBox[{
            RowBox[{"-", "2"}], "+", "t"}], "]"}], "+", 
          RowBox[{"dc", "[", 
           RowBox[{
            RowBox[{"-", "1"}], "+", "t"}], "]"}], "+", 
          RowBox[{"dc", "[", "t", "]"}]}]}], ",", "\[IndentingNewLine]", 
        RowBox[{
         RowBox[{"g", "[", 
          RowBox[{
           RowBox[{"timeSeriesVector", "[", 
            RowBox[{"dc", ",", "t", ",", 
             RowBox[{"\"\<TimeAggregation\>\"", "->", "h"}], ",", 
             RowBox[{"\"\<numPeriods\>\"", "->", "k"}]}], "]"}], ",", "h", 
           ",", "k", ",", 
           RowBox[{"\"\<flowVariable\>\"", "->", "False"}]}], "]"}], "==", 
         RowBox[{
          RowBox[{"dc", "[", 
           RowBox[{
            RowBox[{"-", "2"}], "+", "t"}], "]"}], "+", 
          RowBox[{"dc", "[", 
           RowBox[{
            RowBox[{"-", "1"}], "+", "t"}], "]"}], "+", 
          RowBox[{"dc", "[", "t", "]"}]}]}]}], "\[IndentingNewLine]", 
       "}"}]}]}], "\[IndentingNewLine]", ",", 
    RowBox[{"\"\<ConfirmResults\>\"", "\[Rule]", "False"}]}], 
   "]"}]}]], "Input",
 CellGroupingRules->{"GroupTogetherGrouping", 10000.},
 CellChangeTimes->{{3.890190425865121*^9, 3.890190431513938*^9}, {
   3.890196060485079*^9, 3.890196060486471*^9}, 3.8903633949035063`*^9, {
   3.890406429507084*^9, 3.890406451889192*^9}, {3.905132946959127*^9, 
   3.905132962788682*^9}, {3.905133640520669*^9, 3.905133640699399*^9}, {
   3.905133774702096*^9, 3.905133774864623*^9}, {3.9051340130206842`*^9, 
   3.905134015516468*^9}, 3.9051346952800093`*^9, 3.905134797134399*^9},
 CellLabel->"In[39]:=",ExpressionUUID->"064208f8-2771-4045-9f59-b58ccdbae523"],

Cell[BoxData[
 RowBox[{
  RowBox[{"ResourceFunction", "[", "\"\<WriteUnitTest\>\"", "]"}], "[", 
  RowBox[{"testFileName", ",", "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{"h", "=", "3"}], ";", 
    RowBox[{"k", "=", "1"}], ";", "\[IndentingNewLine]", 
    RowBox[{"And", "@@", 
     RowBox[{"{", "\[IndentingNewLine]", 
      RowBox[{
       RowBox[{
        RowBox[{"g", "[", 
         RowBox[{
          RowBox[{"timeSeriesVector", "[", 
           RowBox[{"dc", ",", "t"}], "]"}], ",", "1", ",", 
          RowBox[{"\"\<flowVariable\>\"", "->", "False"}]}], "]"}], "==", 
        RowBox[{"dc", "[", "t", "]"}]}], ",", "\[IndentingNewLine]", 
       RowBox[{
        RowBox[{"g", "[", 
         RowBox[{
          RowBox[{
           RowBox[{"timeSeriesVector", "[", 
            RowBox[{"dc", ",", "t", ",", 
             RowBox[{"\"\<TimeAggregation\>\"", "->", "h"}]}], "]"}], "[", 
           RowBox[{"[", 
            RowBox[{";;", 
             RowBox[{"h", "*", "k"}]}], "]"}], "]"}], ",", "h", ",", 
          RowBox[{"\"\<flowVariable\>\"", "->", "False"}]}], "]"}], "==", 
        RowBox[{
         RowBox[{"dc", "[", 
          RowBox[{
           RowBox[{"-", "2"}], "+", "t"}], "]"}], "+", 
         RowBox[{"dc", "[", 
          RowBox[{
           RowBox[{"-", "1"}], "+", "t"}], "]"}], "+", 
         RowBox[{"dc", "[", "t", "]"}]}]}], ",", "\[IndentingNewLine]", 
       RowBox[{
        RowBox[{"g", "[", 
         RowBox[{
          RowBox[{"timeSeriesVector", "[", 
           RowBox[{"dc", ",", "t", ",", 
            RowBox[{"\"\<numPeriods\>\"", "->", "k"}]}], "]"}], ",", "1", ",",
           "k", ",", 
          RowBox[{"\"\<flowVariable\>\"", "->", "False"}]}], "]"}], "==", 
        RowBox[{"dc", "[", "t", "]"}]}], ",", "\[IndentingNewLine]", 
       RowBox[{
        RowBox[{"g", "[", 
         RowBox[{
          RowBox[{
           RowBox[{"timeSeriesVector", "[", 
            RowBox[{"dc", ",", "t", ",", 
             RowBox[{"{", 
              RowBox[{
               RowBox[{"\"\<TimeAggregation\>\"", "->", "h"}], ",", 
               RowBox[{"\"\<numPeriods\>\"", "->", "k"}]}], "}"}]}], "]"}], 
           "[", 
           RowBox[{"[", 
            RowBox[{";;", 
             RowBox[{"h", "*", "k"}]}], "]"}], "]"}], ",", "h", ",", "k", ",", 
          RowBox[{"\"\<flowVariable\>\"", "->", "False"}]}], "]"}], "==", 
        RowBox[{
         RowBox[{"dc", "[", 
          RowBox[{
           RowBox[{"-", "2"}], "+", "t"}], "]"}], "+", 
         RowBox[{"dc", "[", 
          RowBox[{
           RowBox[{"-", "1"}], "+", "t"}], "]"}], "+", 
         RowBox[{"dc", "[", "t", "]"}]}]}], ",", "\[IndentingNewLine]", 
       RowBox[{
        RowBox[{"g", "[", 
         RowBox[{
          RowBox[{
           RowBox[{"timeSeriesVector", "[", 
            RowBox[{"dc", ",", "t", ",", 
             RowBox[{"\"\<TimeAggregation\>\"", "->", "h"}], ",", 
             RowBox[{"\"\<numPeriods\>\"", "->", "k"}]}], "]"}], "[", 
           RowBox[{"[", 
            RowBox[{";;", 
             RowBox[{"h", "*", "k"}]}], "]"}], "]"}], ",", "h", ",", "k", ",", 
          RowBox[{"\"\<flowVariable\>\"", "->", "False"}]}], "]"}], "==", 
        RowBox[{
         RowBox[{"dc", "[", 
          RowBox[{
           RowBox[{"-", "2"}], "+", "t"}], "]"}], "+", 
         RowBox[{"dc", "[", 
          RowBox[{
           RowBox[{"-", "1"}], "+", "t"}], "]"}], "+", 
         RowBox[{"dc", "[", "t", "]"}]}]}]}], "\[IndentingNewLine]", 
      "}"}]}]}], "\[IndentingNewLine]", ",", 
   RowBox[{"\"\<ConfirmResults\>\"", "\[Rule]", "False"}]}], "]"}]], "Input",
 CellGroupingRules->{"GroupTogetherGrouping", 10000.},
 CellChangeTimes->{{3.890190462731379*^9, 3.890190476979701*^9}, {
   3.890190516041791*^9, 3.8901905382493*^9}, {3.890196060492339*^9, 
   3.890196060493836*^9}, 3.890363394903771*^9, {3.89059187204002*^9, 
   3.8905918723175907`*^9}, {3.90513292213623*^9, 3.905132941170207*^9}, {
   3.9051336429697847`*^9, 3.905133643174705*^9}, {3.905133777326174*^9, 
   3.905133777488515*^9}, {3.9051340189323597`*^9, 3.905134022068589*^9}, 
   3.905134697446557*^9, 3.905134798071033*^9},
 CellLabel->"In[40]:=",ExpressionUUID->"6fb7cb3b-5d96-42a8-9273-4269d7dc99ea"],

Cell[BoxData[
 RowBox[{
  RowBox[{"(*", 
   RowBox[{"should", " ", "return", " ", "unevaluated"}], "*)"}], 
  "\[IndentingNewLine]", 
  RowBox[{
   RowBox[{"ResourceFunction", "[", "\"\<WriteUnitTest\>\"", "]"}], "[", 
   RowBox[{"testFileName", ",", "\[IndentingNewLine]", 
    RowBox[{
     RowBox[{"h", "=", "3"}], ";", 
     RowBox[{"k", "=", "1"}], ";", "\[IndentingNewLine]", 
     RowBox[{"And", "@@", 
      RowBox[{"{", "\[IndentingNewLine]", 
       RowBox[{
        RowBox[{
         RowBox[{"g", "[", 
          RowBox[{
           RowBox[{"timeSeriesVector", "[", 
            RowBox[{"dc", ",", "t"}], "]"}], ",", 
           RowBox[{"\"\<flowVariable\>\"", "->", "False"}]}], "]"}], "==", 
         RowBox[{
         "FernandoDuarte`LongRunRisk`Tools`TimeAggregation`Private`g", "[", 
          RowBox[{
           RowBox[{"{", 
            RowBox[{"dc", "[", "t", "]"}], "}"}], ",", 
           RowBox[{"\"\<flowVariable\>\"", "\[Rule]", "False"}]}], "]"}]}], 
        ",", "\[IndentingNewLine]", 
        RowBox[{
         RowBox[{"g", "[", 
          RowBox[{
           RowBox[{
            RowBox[{"timeSeriesVector", "[", 
             RowBox[{"dc", ",", "t", ",", 
              RowBox[{"\"\<TimeAggregation\>\"", "->", "h"}]}], "]"}], "[", 
            RowBox[{"[", 
             RowBox[{";;", 
              RowBox[{
               RowBox[{"h", "*", "k"}], "+", "1"}]}], "]"}], "]"}], ",", "h", 
           ",", 
           RowBox[{"\"\<flowVariable\>\"", "->", "False"}]}], "]"}], "==", 
         RowBox[{
         "FernandoDuarte`LongRunRisk`Tools`TimeAggregation`Private`g", "[", 
          RowBox[{
           RowBox[{"{", 
            RowBox[{
             RowBox[{"dc", "[", "t", "]"}], ",", 
             RowBox[{"dc", "[", 
              RowBox[{
               RowBox[{"-", "1"}], "+", "t"}], "]"}], ",", 
             RowBox[{"dc", "[", 
              RowBox[{
               RowBox[{"-", "2"}], "+", "t"}], "]"}], ",", 
             RowBox[{"dc", "[", 
              RowBox[{
               RowBox[{"-", "3"}], "+", "t"}], "]"}]}], "}"}], ",", "3", ",", 
           
           RowBox[{"\"\<flowVariable\>\"", "\[Rule]", "False"}]}], "]"}]}], 
        ",", "\[IndentingNewLine]", 
        RowBox[{
         RowBox[{"g", "[", 
          RowBox[{
           RowBox[{
            RowBox[{"timeSeriesVector", "[", 
             RowBox[{"dc", ",", "t", ",", 
              RowBox[{"{", 
               RowBox[{
                RowBox[{"\"\<TimeAggregation\>\"", "->", "h"}], ",", 
                RowBox[{"\"\<numPeriods\>\"", "->", "k"}]}], "}"}]}], "]"}], 
            "[", 
            RowBox[{"[", 
             RowBox[{";;", 
              RowBox[{
               RowBox[{"h", "*", "k"}], "+", "1"}]}], "]"}], "]"}], ",", "h", 
           ",", "k", ",", 
           RowBox[{"\"\<flowVariable\>\"", "->", "False"}]}], "]"}], "==", 
         RowBox[{
         "FernandoDuarte`LongRunRisk`Tools`TimeAggregation`Private`g", "[", 
          RowBox[{
           RowBox[{"{", 
            RowBox[{
             RowBox[{"dc", "[", "t", "]"}], ",", 
             RowBox[{"dc", "[", 
              RowBox[{
               RowBox[{"-", "1"}], "+", "t"}], "]"}], ",", 
             RowBox[{"dc", "[", 
              RowBox[{
               RowBox[{"-", "2"}], "+", "t"}], "]"}], ",", 
             RowBox[{"dc", "[", 
              RowBox[{
               RowBox[{"-", "3"}], "+", "t"}], "]"}]}], "}"}], ",", "3", ",", 
           "1", ",", 
           RowBox[{"\"\<flowVariable\>\"", "\[Rule]", "False"}]}], "]"}]}], 
        ",", "\[IndentingNewLine]", 
        RowBox[{
         RowBox[{"g", "[", 
          RowBox[{
           RowBox[{
            RowBox[{"timeSeriesVector", "[", 
             RowBox[{"dc", ",", "t", ",", 
              RowBox[{"\"\<TimeAggregation\>\"", "->", "h"}], ",", 
              RowBox[{"\"\<numPeriods\>\"", "->", "k"}]}], "]"}], "[", 
            RowBox[{"[", 
             RowBox[{";;", 
              RowBox[{
               RowBox[{"h", "*", "k"}], "+", "1"}]}], "]"}], "]"}], ",", "h", 
           ",", "k", ",", 
           RowBox[{"\"\<flowVariable\>\"", "->", "False"}]}], "]"}], "==", 
         RowBox[{
         "FernandoDuarte`LongRunRisk`Tools`TimeAggregation`Private`g", "[", 
          RowBox[{
           RowBox[{"{", 
            RowBox[{
             RowBox[{"dc", "[", "t", "]"}], ",", 
             RowBox[{"dc", "[", 
              RowBox[{
               RowBox[{"-", "1"}], "+", "t"}], "]"}], ",", 
             RowBox[{"dc", "[", 
              RowBox[{
               RowBox[{"-", "2"}], "+", "t"}], "]"}], ",", 
             RowBox[{"dc", "[", 
              RowBox[{
               RowBox[{"-", "3"}], "+", "t"}], "]"}]}], "}"}], ",", "3", ",", 
           "1", ",", 
           RowBox[{"\"\<flowVariable\>\"", "\[Rule]", "False"}]}], "]"}]}]}], 
       "\[IndentingNewLine]", "}"}]}]}], "\[IndentingNewLine]", ",", 
    RowBox[{"\"\<ConfirmResults\>\"", "\[Rule]", "False"}]}], 
   "]"}]}]], "Input",
 CellGroupingRules->{"GroupTogetherGrouping", 10000.},
 CellChangeTimes->{{3.890190551568864*^9, 3.890190569801456*^9}, {
   3.8901960605035553`*^9, 3.890196060505065*^9}, 3.890363394904015*^9, {
   3.890406448912299*^9, 3.89040644913935*^9}, {3.9051328943255177`*^9, 
   3.905132916682325*^9}, {3.905133646506585*^9, 3.905133646716509*^9}, {
   3.905133779789558*^9, 3.905133779939404*^9}, {3.905134025189911*^9, 
   3.905134028245502*^9}, 3.905134698783669*^9, 3.905134799837738*^9},
 CellLabel->"In[41]:=",ExpressionUUID->"2626f263-4ab4-4577-846d-5155261afde0"],

Cell[BoxData[
 RowBox[{
  RowBox[{"(*", 
   RowBox[{
   "optional", " ", "values", " ", "in", " ", "lists", " ", "or", " ", "as", 
    " ", "separate", " ", "arguments"}], "*)"}], "\[IndentingNewLine]", 
  RowBox[{
   RowBox[{"ResourceFunction", "[", "\"\<WriteUnitTest\>\"", "]"}], "[", 
   RowBox[{"testFileName", ",", "\[IndentingNewLine]", 
    RowBox[{
     RowBox[{"h", "=", "3"}], ";", 
     RowBox[{"k", "=", "1"}], ";", "\[IndentingNewLine]", 
     RowBox[{"And", "@@", 
      RowBox[{"{", "\[IndentingNewLine]", 
       RowBox[{
        RowBox[{
         RowBox[{"g", "[", 
          RowBox[{
           RowBox[{"timeSeriesVector", "[", 
            RowBox[{"dd", ",", "t", ",", "i"}], "]"}], ",", "1"}], "]"}], "==", 
         RowBox[{"dd", "[", 
          RowBox[{"t", ",", "i"}], "]"}]}], ",", "\[IndentingNewLine]", 
        RowBox[{
         RowBox[{"g", "[", 
          RowBox[{
           RowBox[{"timeSeriesVector", "[", 
            RowBox[{"dd", ",", "t", ",", "i", ",", 
             RowBox[{"\"\<TimeAggregation\>\"", "->", "h"}]}], "]"}], ",", 
           "h"}], "]"}], "==", 
         RowBox[{
          RowBox[{"dd", "[", 
           RowBox[{
            RowBox[{
             RowBox[{"-", "2"}], "+", "t"}], ",", "i"}], "]"}], "+", 
          RowBox[{"dd", "[", 
           RowBox[{
            RowBox[{
             RowBox[{"-", "1"}], "+", "t"}], ",", "i"}], "]"}], "+", 
          RowBox[{"dd", "[", 
           RowBox[{"t", ",", "i"}], "]"}], "-", 
          RowBox[{"Log", "[", 
           RowBox[{"1", "+", 
            SuperscriptBox["\[ExponentialE]", 
             RowBox[{
              RowBox[{"-", 
               RowBox[{"dd", "[", 
                RowBox[{
                 RowBox[{
                  RowBox[{"-", "4"}], "+", "t"}], ",", "i"}], "]"}]}], "-", 
              RowBox[{"dd", "[", 
               RowBox[{
                RowBox[{
                 RowBox[{"-", "3"}], "+", "t"}], ",", "i"}], "]"}]}]], "+", 
            SuperscriptBox["\[ExponentialE]", 
             RowBox[{"-", 
              RowBox[{"dd", "[", 
               RowBox[{
                RowBox[{
                 RowBox[{"-", "3"}], "+", "t"}], ",", "i"}], "]"}]}]]}], 
           "]"}], "+", 
          RowBox[{"Log", "[", 
           RowBox[{"1", "+", 
            SuperscriptBox["\[ExponentialE]", 
             RowBox[{
              RowBox[{"-", 
               RowBox[{"dd", "[", 
                RowBox[{
                 RowBox[{
                  RowBox[{"-", "1"}], "+", "t"}], ",", "i"}], "]"}]}], "-", 
              RowBox[{"dd", "[", 
               RowBox[{"t", ",", "i"}], "]"}]}]], "+", 
            SuperscriptBox["\[ExponentialE]", 
             RowBox[{"-", 
              RowBox[{"dd", "[", 
               RowBox[{"t", ",", "i"}], "]"}]}]]}], "]"}]}]}], ",", 
        "\[IndentingNewLine]", 
        RowBox[{
         RowBox[{"g", "[", 
          RowBox[{
           RowBox[{"timeSeriesVector", "[", 
            RowBox[{"dd", ",", "t", ",", "i", ",", 
             RowBox[{"\"\<numPeriods\>\"", "->", "k"}]}], "]"}], ",", "1", 
           ",", "k"}], "]"}], "==", 
         RowBox[{"dd", "[", 
          RowBox[{"t", ",", "i"}], "]"}]}], ",", "\[IndentingNewLine]", 
        RowBox[{
         RowBox[{"g", "[", 
          RowBox[{
           RowBox[{"timeSeriesVector", "[", 
            RowBox[{"dd", ",", "t", ",", "i", ",", 
             RowBox[{"{", 
              RowBox[{
               RowBox[{"\"\<TimeAggregation\>\"", "->", "h"}], ",", 
               RowBox[{"\"\<numPeriods\>\"", "->", "k"}]}], "}"}]}], "]"}], 
           ",", "h", ",", "k"}], "]"}], "==", 
         RowBox[{
          RowBox[{"dd", "[", 
           RowBox[{
            RowBox[{
             RowBox[{"-", "2"}], "+", "t"}], ",", "i"}], "]"}], "+", 
          RowBox[{"dd", "[", 
           RowBox[{
            RowBox[{
             RowBox[{"-", "1"}], "+", "t"}], ",", "i"}], "]"}], "+", 
          RowBox[{"dd", "[", 
           RowBox[{"t", ",", "i"}], "]"}], "-", 
          RowBox[{"Log", "[", 
           RowBox[{"1", "+", 
            SuperscriptBox["\[ExponentialE]", 
             RowBox[{
              RowBox[{"-", 
               RowBox[{"dd", "[", 
                RowBox[{
                 RowBox[{
                  RowBox[{"-", "4"}], "+", "t"}], ",", "i"}], "]"}]}], "-", 
              RowBox[{"dd", "[", 
               RowBox[{
                RowBox[{
                 RowBox[{"-", "3"}], "+", "t"}], ",", "i"}], "]"}]}]], "+", 
            SuperscriptBox["\[ExponentialE]", 
             RowBox[{"-", 
              RowBox[{"dd", "[", 
               RowBox[{
                RowBox[{
                 RowBox[{"-", "3"}], "+", "t"}], ",", "i"}], "]"}]}]]}], 
           "]"}], "+", 
          RowBox[{"Log", "[", 
           RowBox[{"1", "+", 
            SuperscriptBox["\[ExponentialE]", 
             RowBox[{
              RowBox[{"-", 
               RowBox[{"dd", "[", 
                RowBox[{
                 RowBox[{
                  RowBox[{"-", "1"}], "+", "t"}], ",", "i"}], "]"}]}], "-", 
              RowBox[{"dd", "[", 
               RowBox[{"t", ",", "i"}], "]"}]}]], "+", 
            SuperscriptBox["\[ExponentialE]", 
             RowBox[{"-", 
              RowBox[{"dd", "[", 
               RowBox[{"t", ",", "i"}], "]"}]}]]}], "]"}]}]}], ",", 
        "\[IndentingNewLine]", 
        RowBox[{
         RowBox[{"g", "[", 
          RowBox[{
           RowBox[{"timeSeriesVector", "[", 
            RowBox[{"dd", ",", "t", ",", "i", ",", 
             RowBox[{"\"\<TimeAggregation\>\"", "->", "h"}], ",", 
             RowBox[{"\"\<numPeriods\>\"", "->", "k"}]}], "]"}], ",", "h", 
           ",", "k"}], "]"}], "==", 
         RowBox[{
          RowBox[{"dd", "[", 
           RowBox[{
            RowBox[{
             RowBox[{"-", "2"}], "+", "t"}], ",", "i"}], "]"}], "+", 
          RowBox[{"dd", "[", 
           RowBox[{
            RowBox[{
             RowBox[{"-", "1"}], "+", "t"}], ",", "i"}], "]"}], "+", 
          RowBox[{"dd", "[", 
           RowBox[{"t", ",", "i"}], "]"}], "-", 
          RowBox[{"Log", "[", 
           RowBox[{"1", "+", 
            SuperscriptBox["\[ExponentialE]", 
             RowBox[{
              RowBox[{"-", 
               RowBox[{"dd", "[", 
                RowBox[{
                 RowBox[{
                  RowBox[{"-", "4"}], "+", "t"}], ",", "i"}], "]"}]}], "-", 
              RowBox[{"dd", "[", 
               RowBox[{
                RowBox[{
                 RowBox[{"-", "3"}], "+", "t"}], ",", "i"}], "]"}]}]], "+", 
            SuperscriptBox["\[ExponentialE]", 
             RowBox[{"-", 
              RowBox[{"dd", "[", 
               RowBox[{
                RowBox[{
                 RowBox[{"-", "3"}], "+", "t"}], ",", "i"}], "]"}]}]]}], 
           "]"}], "+", 
          RowBox[{"Log", "[", 
           RowBox[{"1", "+", 
            SuperscriptBox["\[ExponentialE]", 
             RowBox[{
              RowBox[{"-", 
               RowBox[{"dd", "[", 
                RowBox[{
                 RowBox[{
                  RowBox[{"-", "1"}], "+", "t"}], ",", "i"}], "]"}]}], "-", 
              RowBox[{"dd", "[", 
               RowBox[{"t", ",", "i"}], "]"}]}]], "+", 
            SuperscriptBox["\[ExponentialE]", 
             RowBox[{"-", 
              RowBox[{"dd", "[", 
               RowBox[{"t", ",", "i"}], "]"}]}]]}], "]"}]}]}]}], 
       "\[IndentingNewLine]", "}"}]}]}], "\[IndentingNewLine]", ",", 
    RowBox[{"\"\<ConfirmResults\>\"", "\[Rule]", "False"}]}], 
   "]"}]}]], "Input",
 CellGroupingRules->{"GroupTogetherGrouping", 10000.},
 CellChangeTimes->{{3.8901720531736927`*^9, 3.8901721635258904`*^9}, {
   3.890179904157103*^9, 3.890179924111239*^9}, {3.890180004340312*^9, 
   3.890180028753381*^9}, {3.8901801807801247`*^9, 3.890180246889792*^9}, {
   3.890185045383835*^9, 3.890185047656562*^9}, {3.8901850872725763`*^9, 
   3.890185113017942*^9}, {3.890196060514386*^9, 3.890196060515778*^9}, 
   3.890363394904229*^9, {3.890406478649135*^9, 3.89040649121669*^9}, {
   3.8905918849071083`*^9, 3.890591885001882*^9}, {3.905132845663828*^9, 
   3.905132862891549*^9}, {3.905133649698393*^9, 3.905133649878684*^9}, {
   3.9051337821356907`*^9, 3.905133782273745*^9}, {3.905134031173457*^9, 
   3.905134034538186*^9}, 3.905134700808844*^9, 3.905134801543641*^9},
 CellLabel->"In[42]:=",ExpressionUUID->"e3b92000-da25-462e-a171-f6a066137486"],

Cell[BoxData[
 RowBox[{
  RowBox[{"(*", 
   RowBox[{"bond", " ", "returns"}], "*)"}], "\[IndentingNewLine]", 
  RowBox[{
   RowBox[{"ResourceFunction", "[", "\"\<WriteUnitTest\>\"", "]"}], "[", 
   RowBox[{"testFileName", ",", "\[IndentingNewLine]", 
    RowBox[{
     RowBox[{"h", "=", "3"}], ";", 
     RowBox[{"k", "=", "1"}], ";", "\[IndentingNewLine]", 
     RowBox[{"And", "@@", 
      RowBox[{"{", "\[IndentingNewLine]", 
       RowBox[{
        RowBox[{
         RowBox[{"g", "[", 
          RowBox[{
           RowBox[{"timeSeriesVector", "[", 
            RowBox[{"bondret", ",", "t", ",", "m", ",", 
             RowBox[{"\"\<TimeAggregation\>\"", "->", "h"}]}], "]"}], ",", 
           "h"}], "]"}], "==", 
         RowBox[{
          RowBox[{"bondret", "[", 
           RowBox[{
            RowBox[{
             RowBox[{"-", "2"}], "+", "t"}], ",", "m"}], "]"}], "+", 
          RowBox[{"bondret", "[", 
           RowBox[{
            RowBox[{
             RowBox[{"-", "1"}], "+", "t"}], ",", "m"}], "]"}], "+", 
          RowBox[{"bondret", "[", 
           RowBox[{"t", ",", "m"}], "]"}], "-", 
          RowBox[{"Log", "[", 
           RowBox[{"1", "+", 
            SuperscriptBox["\[ExponentialE]", 
             RowBox[{
              RowBox[{"-", 
               RowBox[{"bondret", "[", 
                RowBox[{
                 RowBox[{
                  RowBox[{"-", "4"}], "+", "t"}], ",", "m"}], "]"}]}], "-", 
              RowBox[{"bondret", "[", 
               RowBox[{
                RowBox[{
                 RowBox[{"-", "3"}], "+", "t"}], ",", "m"}], "]"}]}]], "+", 
            SuperscriptBox["\[ExponentialE]", 
             RowBox[{"-", 
              RowBox[{"bondret", "[", 
               RowBox[{
                RowBox[{
                 RowBox[{"-", "3"}], "+", "t"}], ",", "m"}], "]"}]}]]}], 
           "]"}], "+", 
          RowBox[{"Log", "[", 
           RowBox[{"1", "+", 
            SuperscriptBox["\[ExponentialE]", 
             RowBox[{
              RowBox[{"-", 
               RowBox[{"bondret", "[", 
                RowBox[{
                 RowBox[{
                  RowBox[{"-", "1"}], "+", "t"}], ",", "m"}], "]"}]}], "-", 
              RowBox[{"bondret", "[", 
               RowBox[{"t", ",", "m"}], "]"}]}]], "+", 
            SuperscriptBox["\[ExponentialE]", 
             RowBox[{"-", 
              RowBox[{"bondret", "[", 
               RowBox[{"t", ",", "m"}], "]"}]}]]}], "]"}]}]}], ",", 
        "\[IndentingNewLine]", 
        RowBox[{
         RowBox[{"g", "[", 
          RowBox[{
           RowBox[{"timeSeriesVector", "[", 
            RowBox[{"bondret", ",", "t", ",", "m", ",", 
             RowBox[{"\"\<numPeriods\>\"", "->", "k"}]}], "]"}], ",", "1", 
           ",", "k"}], "]"}], "==", 
         RowBox[{"bondret", "[", 
          RowBox[{"t", ",", "m"}], "]"}]}], ",", "\[IndentingNewLine]", 
        RowBox[{
         RowBox[{"g", "[", 
          RowBox[{
           RowBox[{"timeSeriesVector", "[", 
            RowBox[{"bondret", ",", "t", ",", "m", ",", 
             RowBox[{"{", 
              RowBox[{
               RowBox[{"\"\<TimeAggregation\>\"", "->", "h"}], ",", 
               RowBox[{"\"\<numPeriods\>\"", "->", "k"}]}], "}"}]}], "]"}], 
           ",", "h", ",", "k"}], "]"}], "==", 
         RowBox[{
          RowBox[{"bondret", "[", 
           RowBox[{
            RowBox[{
             RowBox[{"-", "2"}], "+", "t"}], ",", "m"}], "]"}], "+", 
          RowBox[{"bondret", "[", 
           RowBox[{
            RowBox[{
             RowBox[{"-", "1"}], "+", "t"}], ",", "m"}], "]"}], "+", 
          RowBox[{"bondret", "[", 
           RowBox[{"t", ",", "m"}], "]"}], "-", 
          RowBox[{"Log", "[", 
           RowBox[{"1", "+", 
            SuperscriptBox["\[ExponentialE]", 
             RowBox[{
              RowBox[{"-", 
               RowBox[{"bondret", "[", 
                RowBox[{
                 RowBox[{
                  RowBox[{"-", "4"}], "+", "t"}], ",", "m"}], "]"}]}], "-", 
              RowBox[{"bondret", "[", 
               RowBox[{
                RowBox[{
                 RowBox[{"-", "3"}], "+", "t"}], ",", "m"}], "]"}]}]], "+", 
            SuperscriptBox["\[ExponentialE]", 
             RowBox[{"-", 
              RowBox[{"bondret", "[", 
               RowBox[{
                RowBox[{
                 RowBox[{"-", "3"}], "+", "t"}], ",", "m"}], "]"}]}]]}], 
           "]"}], "+", 
          RowBox[{"Log", "[", 
           RowBox[{"1", "+", 
            SuperscriptBox["\[ExponentialE]", 
             RowBox[{
              RowBox[{"-", 
               RowBox[{"bondret", "[", 
                RowBox[{
                 RowBox[{
                  RowBox[{"-", "1"}], "+", "t"}], ",", "m"}], "]"}]}], "-", 
              RowBox[{"bondret", "[", 
               RowBox[{"t", ",", "m"}], "]"}]}]], "+", 
            SuperscriptBox["\[ExponentialE]", 
             RowBox[{"-", 
              RowBox[{"bondret", "[", 
               RowBox[{"t", ",", "m"}], "]"}]}]]}], "]"}]}]}], ",", 
        "\[IndentingNewLine]", 
        RowBox[{
         RowBox[{"g", "[", 
          RowBox[{
           RowBox[{"timeSeriesVector", "[", 
            RowBox[{"bondret", ",", "t", ",", "m", ",", 
             RowBox[{"\"\<TimeAggregation\>\"", "->", "h"}], ",", 
             RowBox[{"\"\<numPeriods\>\"", "->", "k"}]}], "]"}], ",", "h", 
           ",", "k"}], "]"}], "==", 
         RowBox[{
          RowBox[{"bondret", "[", 
           RowBox[{
            RowBox[{
             RowBox[{"-", "2"}], "+", "t"}], ",", "m"}], "]"}], "+", 
          RowBox[{"bondret", "[", 
           RowBox[{
            RowBox[{
             RowBox[{"-", "1"}], "+", "t"}], ",", "m"}], "]"}], "+", 
          RowBox[{"bondret", "[", 
           RowBox[{"t", ",", "m"}], "]"}], "-", 
          RowBox[{"Log", "[", 
           RowBox[{"1", "+", 
            SuperscriptBox["\[ExponentialE]", 
             RowBox[{
              RowBox[{"-", 
               RowBox[{"bondret", "[", 
                RowBox[{
                 RowBox[{
                  RowBox[{"-", "4"}], "+", "t"}], ",", "m"}], "]"}]}], "-", 
              RowBox[{"bondret", "[", 
               RowBox[{
                RowBox[{
                 RowBox[{"-", "3"}], "+", "t"}], ",", "m"}], "]"}]}]], "+", 
            SuperscriptBox["\[ExponentialE]", 
             RowBox[{"-", 
              RowBox[{"bondret", "[", 
               RowBox[{
                RowBox[{
                 RowBox[{"-", "3"}], "+", "t"}], ",", "m"}], "]"}]}]]}], 
           "]"}], "+", 
          RowBox[{"Log", "[", 
           RowBox[{"1", "+", 
            SuperscriptBox["\[ExponentialE]", 
             RowBox[{
              RowBox[{"-", 
               RowBox[{"bondret", "[", 
                RowBox[{
                 RowBox[{
                  RowBox[{"-", "1"}], "+", "t"}], ",", "m"}], "]"}]}], "-", 
              RowBox[{"bondret", "[", 
               RowBox[{"t", ",", "m"}], "]"}]}]], "+", 
            SuperscriptBox["\[ExponentialE]", 
             RowBox[{"-", 
              RowBox[{"bondret", "[", 
               RowBox[{"t", ",", "m"}], "]"}]}]]}], "]"}]}]}]}], 
       "\[IndentingNewLine]", "}"}]}]}], "\[IndentingNewLine]", ",", 
    RowBox[{"\"\<ConfirmResults\>\"", "\[Rule]", "False"}]}], 
   "]"}]}]], "Input",
 CellGroupingRules->{"GroupTogetherGrouping", 10000.},
 CellChangeTimes->{{3.8901720531736927`*^9, 3.8901721635258904`*^9}, {
   3.890179904157103*^9, 3.890179924111239*^9}, {3.890180004340312*^9, 
   3.890180028753381*^9}, {3.8901801807801247`*^9, 3.890180246889792*^9}, {
   3.890185045383835*^9, 3.890185047656562*^9}, {3.890196060521418*^9, 
   3.8901960605227633`*^9}, 3.8903633949044743`*^9, {3.890406502744421*^9, 
   3.890406515178454*^9}, {3.9051328249518757`*^9, 3.905132841145595*^9}, {
   3.9051336527838793`*^9, 3.9051336530510674`*^9}, {3.905133785270789*^9, 
   3.905133785433055*^9}, {3.9051340375494432`*^9, 3.905134038588225*^9}, 
   3.905134361793556*^9, {3.9051344428486643`*^9, 3.905134443010805*^9}, 
   3.90513470294944*^9, 3.905134803989128*^9, 3.905134874745686*^9},
 CellLabel->"In[43]:=",ExpressionUUID->"f7f490fd-b19f-4b8e-b4f8-75ed2a726be5"],

Cell[BoxData[
 RowBox[{
  RowBox[{"(*", 
   RowBox[{"tests", " ", "timeSeriesVector"}], "*)"}], "\[IndentingNewLine]", 
  
  RowBox[{
   RowBox[{"ResourceFunction", "[", "\"\<WriteUnitTest\>\"", "]"}], "[", 
   RowBox[{"testFileName", ",", "\[IndentingNewLine]", 
    RowBox[{"And", "@@", 
     RowBox[{"{", "\[IndentingNewLine]", 
      RowBox[{
       RowBox[{
        RowBox[{"timeSeriesVector", "[", 
         RowBox[{"dc", ",", "t"}], "]"}], "==", 
        RowBox[{"{", 
         RowBox[{"dc", "[", "t", "]"}], "}"}]}], ",", "\[IndentingNewLine]", 
       RowBox[{
        RowBox[{"timeSeriesVector", "[", 
         RowBox[{"dc", ",", "t", ",", 
          RowBox[{"\"\<TimeAggregation\>\"", "->", "3"}]}], "]"}], "==", 
        RowBox[{"{", 
         RowBox[{
          RowBox[{"dc", "[", "t", "]"}], ",", 
          RowBox[{"dc", "[", 
           RowBox[{
            RowBox[{"-", "1"}], "+", "t"}], "]"}], ",", 
          RowBox[{"dc", "[", 
           RowBox[{
            RowBox[{"-", "2"}], "+", "t"}], "]"}], ",", 
          RowBox[{"dc", "[", 
           RowBox[{
            RowBox[{"-", "3"}], "+", "t"}], "]"}], ",", 
          RowBox[{"dc", "[", 
           RowBox[{
            RowBox[{"-", "4"}], "+", "t"}], "]"}]}], "}"}]}], ",", 
       "\[IndentingNewLine]", 
       RowBox[{
        RowBox[{"timeSeriesVector", "[", 
         RowBox[{"dc", ",", "t", ",", 
          RowBox[{"\"\<numPeriods\>\"", "->", "6"}]}], "]"}], "==", 
        RowBox[{"{", 
         RowBox[{
          RowBox[{"dc", "[", "t", "]"}], ",", 
          RowBox[{"dc", "[", 
           RowBox[{
            RowBox[{"-", "1"}], "+", "t"}], "]"}], ",", 
          RowBox[{"dc", "[", 
           RowBox[{
            RowBox[{"-", "2"}], "+", "t"}], "]"}], ",", 
          RowBox[{"dc", "[", 
           RowBox[{
            RowBox[{"-", "3"}], "+", "t"}], "]"}], ",", 
          RowBox[{"dc", "[", 
           RowBox[{
            RowBox[{"-", "4"}], "+", "t"}], "]"}], ",", 
          RowBox[{"dc", "[", 
           RowBox[{
            RowBox[{"-", "5"}], "+", "t"}], "]"}]}], "}"}]}], ",", 
       "\[IndentingNewLine]", 
       RowBox[{
        RowBox[{"timeSeriesVector", "[", 
         RowBox[{"dc", ",", "t", ",", 
          RowBox[{"{", 
           RowBox[{
            RowBox[{"\"\<TimeAggregation\>\"", "->", "12"}], ",", 
            RowBox[{"\"\<numPeriods\>\"", "->", "3"}]}], "}"}]}], "]"}], "==", 
        RowBox[{"{", 
         RowBox[{
          RowBox[{"dc", "[", "t", "]"}], ",", 
          RowBox[{"dc", "[", 
           RowBox[{
            RowBox[{"-", "1"}], "+", "t"}], "]"}], ",", 
          RowBox[{"dc", "[", 
           RowBox[{
            RowBox[{"-", "2"}], "+", "t"}], "]"}], ",", 
          RowBox[{"dc", "[", 
           RowBox[{
            RowBox[{"-", "3"}], "+", "t"}], "]"}], ",", 
          RowBox[{"dc", "[", 
           RowBox[{
            RowBox[{"-", "4"}], "+", "t"}], "]"}], ",", 
          RowBox[{"dc", "[", 
           RowBox[{
            RowBox[{"-", "5"}], "+", "t"}], "]"}], ",", 
          RowBox[{"dc", "[", 
           RowBox[{
            RowBox[{"-", "6"}], "+", "t"}], "]"}], ",", 
          RowBox[{"dc", "[", 
           RowBox[{
            RowBox[{"-", "7"}], "+", "t"}], "]"}], ",", 
          RowBox[{"dc", "[", 
           RowBox[{
            RowBox[{"-", "8"}], "+", "t"}], "]"}], ",", 
          RowBox[{"dc", "[", 
           RowBox[{
            RowBox[{"-", "9"}], "+", "t"}], "]"}], ",", 
          RowBox[{"dc", "[", 
           RowBox[{
            RowBox[{"-", "10"}], "+", "t"}], "]"}], ",", 
          RowBox[{"dc", "[", 
           RowBox[{
            RowBox[{"-", "11"}], "+", "t"}], "]"}], ",", 
          RowBox[{"dc", "[", 
           RowBox[{
            RowBox[{"-", "12"}], "+", "t"}], "]"}], ",", 
          RowBox[{"dc", "[", 
           RowBox[{
            RowBox[{"-", "13"}], "+", "t"}], "]"}], ",", 
          RowBox[{"dc", "[", 
           RowBox[{
            RowBox[{"-", "14"}], "+", "t"}], "]"}], ",", 
          RowBox[{"dc", "[", 
           RowBox[{
            RowBox[{"-", "15"}], "+", "t"}], "]"}], ",", 
          RowBox[{"dc", "[", 
           RowBox[{
            RowBox[{"-", "16"}], "+", "t"}], "]"}], ",", 
          RowBox[{"dc", "[", 
           RowBox[{
            RowBox[{"-", "17"}], "+", "t"}], "]"}], ",", 
          RowBox[{"dc", "[", 
           RowBox[{
            RowBox[{"-", "18"}], "+", "t"}], "]"}], ",", 
          RowBox[{"dc", "[", 
           RowBox[{
            RowBox[{"-", "19"}], "+", "t"}], "]"}], ",", 
          RowBox[{"dc", "[", 
           RowBox[{
            RowBox[{"-", "20"}], "+", "t"}], "]"}], ",", 
          RowBox[{"dc", "[", 
           RowBox[{
            RowBox[{"-", "21"}], "+", "t"}], "]"}], ",", 
          RowBox[{"dc", "[", 
           RowBox[{
            RowBox[{"-", "22"}], "+", "t"}], "]"}], ",", 
          RowBox[{"dc", "[", 
           RowBox[{
            RowBox[{"-", "23"}], "+", "t"}], "]"}], ",", 
          RowBox[{"dc", "[", 
           RowBox[{
            RowBox[{"-", "24"}], "+", "t"}], "]"}], ",", 
          RowBox[{"dc", "[", 
           RowBox[{
            RowBox[{"-", "25"}], "+", "t"}], "]"}], ",", 
          RowBox[{"dc", "[", 
           RowBox[{
            RowBox[{"-", "26"}], "+", "t"}], "]"}], ",", 
          RowBox[{"dc", "[", 
           RowBox[{
            RowBox[{"-", "27"}], "+", "t"}], "]"}], ",", 
          RowBox[{"dc", "[", 
           RowBox[{
            RowBox[{"-", "28"}], "+", "t"}], "]"}], ",", 
          RowBox[{"dc", "[", 
           RowBox[{
            RowBox[{"-", "29"}], "+", "t"}], "]"}], ",", 
          RowBox[{"dc", "[", 
           RowBox[{
            RowBox[{"-", "30"}], "+", "t"}], "]"}], ",", 
          RowBox[{"dc", "[", 
           RowBox[{
            RowBox[{"-", "31"}], "+", "t"}], "]"}], ",", 
          RowBox[{"dc", "[", 
           RowBox[{
            RowBox[{"-", "32"}], "+", "t"}], "]"}], ",", 
          RowBox[{"dc", "[", 
           RowBox[{
            RowBox[{"-", "33"}], "+", "t"}], "]"}], ",", 
          RowBox[{"dc", "[", 
           RowBox[{
            RowBox[{"-", "34"}], "+", "t"}], "]"}], ",", 
          RowBox[{"dc", "[", 
           RowBox[{
            RowBox[{"-", "35"}], "+", "t"}], "]"}], ",", 
          RowBox[{"dc", "[", 
           RowBox[{
            RowBox[{"-", "36"}], "+", "t"}], "]"}], ",", 
          RowBox[{"dc", "[", 
           RowBox[{
            RowBox[{"-", "37"}], "+", "t"}], "]"}], ",", 
          RowBox[{"dc", "[", 
           RowBox[{
            RowBox[{"-", "38"}], "+", "t"}], "]"}], ",", 
          RowBox[{"dc", "[", 
           RowBox[{
            RowBox[{"-", "39"}], "+", "t"}], "]"}], ",", 
          RowBox[{"dc", "[", 
           RowBox[{
            RowBox[{"-", "40"}], "+", "t"}], "]"}], ",", 
          RowBox[{"dc", "[", 
           RowBox[{
            RowBox[{"-", "41"}], "+", "t"}], "]"}], ",", 
          RowBox[{"dc", "[", 
           RowBox[{
            RowBox[{"-", "42"}], "+", "t"}], "]"}], ",", 
          RowBox[{"dc", "[", 
           RowBox[{
            RowBox[{"-", "43"}], "+", "t"}], "]"}], ",", 
          RowBox[{"dc", "[", 
           RowBox[{
            RowBox[{"-", "44"}], "+", "t"}], "]"}], ",", 
          RowBox[{"dc", "[", 
           RowBox[{
            RowBox[{"-", "45"}], "+", "t"}], "]"}], ",", 
          RowBox[{"dc", "[", 
           RowBox[{
            RowBox[{"-", "46"}], "+", "t"}], "]"}]}], "}"}]}], ",", 
       "\[IndentingNewLine]", 
       RowBox[{
        RowBox[{"timeSeriesVector", "[", 
         RowBox[{"dc", ",", "t", ",", 
          RowBox[{"\"\<TimeAggregation\>\"", "->", "12"}], ",", 
          RowBox[{"\"\<numPeriods\>\"", "->", "3"}]}], "]"}], "==", 
        RowBox[{"{", 
         RowBox[{
          RowBox[{"dc", "[", "t", "]"}], ",", 
          RowBox[{"dc", "[", 
           RowBox[{
            RowBox[{"-", "1"}], "+", "t"}], "]"}], ",", 
          RowBox[{"dc", "[", 
           RowBox[{
            RowBox[{"-", "2"}], "+", "t"}], "]"}], ",", 
          RowBox[{"dc", "[", 
           RowBox[{
            RowBox[{"-", "3"}], "+", "t"}], "]"}], ",", 
          RowBox[{"dc", "[", 
           RowBox[{
            RowBox[{"-", "4"}], "+", "t"}], "]"}], ",", 
          RowBox[{"dc", "[", 
           RowBox[{
            RowBox[{"-", "5"}], "+", "t"}], "]"}], ",", 
          RowBox[{"dc", "[", 
           RowBox[{
            RowBox[{"-", "6"}], "+", "t"}], "]"}], ",", 
          RowBox[{"dc", "[", 
           RowBox[{
            RowBox[{"-", "7"}], "+", "t"}], "]"}], ",", 
          RowBox[{"dc", "[", 
           RowBox[{
            RowBox[{"-", "8"}], "+", "t"}], "]"}], ",", 
          RowBox[{"dc", "[", 
           RowBox[{
            RowBox[{"-", "9"}], "+", "t"}], "]"}], ",", 
          RowBox[{"dc", "[", 
           RowBox[{
            RowBox[{"-", "10"}], "+", "t"}], "]"}], ",", 
          RowBox[{"dc", "[", 
           RowBox[{
            RowBox[{"-", "11"}], "+", "t"}], "]"}], ",", 
          RowBox[{"dc", "[", 
           RowBox[{
            RowBox[{"-", "12"}], "+", "t"}], "]"}], ",", 
          RowBox[{"dc", "[", 
           RowBox[{
            RowBox[{"-", "13"}], "+", "t"}], "]"}], ",", 
          RowBox[{"dc", "[", 
           RowBox[{
            RowBox[{"-", "14"}], "+", "t"}], "]"}], ",", 
          RowBox[{"dc", "[", 
           RowBox[{
            RowBox[{"-", "15"}], "+", "t"}], "]"}], ",", 
          RowBox[{"dc", "[", 
           RowBox[{
            RowBox[{"-", "16"}], "+", "t"}], "]"}], ",", 
          RowBox[{"dc", "[", 
           RowBox[{
            RowBox[{"-", "17"}], "+", "t"}], "]"}], ",", 
          RowBox[{"dc", "[", 
           RowBox[{
            RowBox[{"-", "18"}], "+", "t"}], "]"}], ",", 
          RowBox[{"dc", "[", 
           RowBox[{
            RowBox[{"-", "19"}], "+", "t"}], "]"}], ",", 
          RowBox[{"dc", "[", 
           RowBox[{
            RowBox[{"-", "20"}], "+", "t"}], "]"}], ",", 
          RowBox[{"dc", "[", 
           RowBox[{
            RowBox[{"-", "21"}], "+", "t"}], "]"}], ",", 
          RowBox[{"dc", "[", 
           RowBox[{
            RowBox[{"-", "22"}], "+", "t"}], "]"}], ",", 
          RowBox[{"dc", "[", 
           RowBox[{
            RowBox[{"-", "23"}], "+", "t"}], "]"}], ",", 
          RowBox[{"dc", "[", 
           RowBox[{
            RowBox[{"-", "24"}], "+", "t"}], "]"}], ",", 
          RowBox[{"dc", "[", 
           RowBox[{
            RowBox[{"-", "25"}], "+", "t"}], "]"}], ",", 
          RowBox[{"dc", "[", 
           RowBox[{
            RowBox[{"-", "26"}], "+", "t"}], "]"}], ",", 
          RowBox[{"dc", "[", 
           RowBox[{
            RowBox[{"-", "27"}], "+", "t"}], "]"}], ",", 
          RowBox[{"dc", "[", 
           RowBox[{
            RowBox[{"-", "28"}], "+", "t"}], "]"}], ",", 
          RowBox[{"dc", "[", 
           RowBox[{
            RowBox[{"-", "29"}], "+", "t"}], "]"}], ",", 
          RowBox[{"dc", "[", 
           RowBox[{
            RowBox[{"-", "30"}], "+", "t"}], "]"}], ",", 
          RowBox[{"dc", "[", 
           RowBox[{
            RowBox[{"-", "31"}], "+", "t"}], "]"}], ",", 
          RowBox[{"dc", "[", 
           RowBox[{
            RowBox[{"-", "32"}], "+", "t"}], "]"}], ",", 
          RowBox[{"dc", "[", 
           RowBox[{
            RowBox[{"-", "33"}], "+", "t"}], "]"}], ",", 
          RowBox[{"dc", "[", 
           RowBox[{
            RowBox[{"-", "34"}], "+", "t"}], "]"}], ",", 
          RowBox[{"dc", "[", 
           RowBox[{
            RowBox[{"-", "35"}], "+", "t"}], "]"}], ",", 
          RowBox[{"dc", "[", 
           RowBox[{
            RowBox[{"-", "36"}], "+", "t"}], "]"}], ",", 
          RowBox[{"dc", "[", 
           RowBox[{
            RowBox[{"-", "37"}], "+", "t"}], "]"}], ",", 
          RowBox[{"dc", "[", 
           RowBox[{
            RowBox[{"-", "38"}], "+", "t"}], "]"}], ",", 
          RowBox[{"dc", "[", 
           RowBox[{
            RowBox[{"-", "39"}], "+", "t"}], "]"}], ",", 
          RowBox[{"dc", "[", 
           RowBox[{
            RowBox[{"-", "40"}], "+", "t"}], "]"}], ",", 
          RowBox[{"dc", "[", 
           RowBox[{
            RowBox[{"-", "41"}], "+", "t"}], "]"}], ",", 
          RowBox[{"dc", "[", 
           RowBox[{
            RowBox[{"-", "42"}], "+", "t"}], "]"}], ",", 
          RowBox[{"dc", "[", 
           RowBox[{
            RowBox[{"-", "43"}], "+", "t"}], "]"}], ",", 
          RowBox[{"dc", "[", 
           RowBox[{
            RowBox[{"-", "44"}], "+", "t"}], "]"}], ",", 
          RowBox[{"dc", "[", 
           RowBox[{
            RowBox[{"-", "45"}], "+", "t"}], "]"}], ",", 
          RowBox[{"dc", "[", 
           RowBox[{
            RowBox[{"-", "46"}], "+", "t"}], "]"}]}], "}"}]}]}], 
      "\[IndentingNewLine]", "}"}]}], "\[IndentingNewLine]", ",", 
    RowBox[{"\"\<ConfirmResults\>\"", "\[Rule]", "False"}]}], 
   "]"}]}]], "Input",
 CellGroupingRules->{"GroupTogetherGrouping", 10000.},
 CellChangeTimes->{{3.890171068020504*^9, 3.8901710810264053`*^9}, {
   3.890171371499096*^9, 3.8901714119542933`*^9}, {3.8901714813721037`*^9, 
   3.890171498297214*^9}, {3.890171555073202*^9, 3.890171561776828*^9}, {
   3.890171766081479*^9, 3.890171783357297*^9}, {3.8901718642454357`*^9, 
   3.8901718665105333`*^9}, 3.890171945514958*^9, {3.8901960605278063`*^9, 
   3.8901960605290613`*^9}, 3.890363394904688*^9, {3.9051328004639463`*^9, 
   3.905132820641307*^9}, {3.905133655512431*^9, 3.90513365574645*^9}, {
   3.9051337878630733`*^9, 3.9051337880337763`*^9}, {3.905134042347932*^9, 
   3.905134046052977*^9}, 3.905134705665451*^9, 3.9051348070455647`*^9},
 CellLabel->"In[44]:=",ExpressionUUID->"68c59e0c-207a-4a7d-b287-234c1f1a4e18"]
}, Open  ]],

Cell[BoxData[
 RowBox[{
  RowBox[{"ResourceFunction", "[", "\"\<WriteUnitTest\>\"", "]"}], "[", 
  RowBox[{"testFileName", ",", "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{"On", "[", 
     RowBox[{"General", "::", "stop"}], "]"}], ";"}], "\[IndentingNewLine]", 
   ",", 
   RowBox[{"\"\<ConfirmResults\>\"", "\[Rule]", "confirm"}]}], "]"}]], "Input",\

 CellChangeTimes->{{3.890407611054788*^9, 3.890407623280189*^9}, 
   3.890446365846665*^9, 3.890447229000803*^9, 3.8904474629159307`*^9, {
   3.890447911629538*^9, 3.89044791354946*^9}, {3.890590865957506*^9, 
   3.890590867156302*^9}, {3.8905922830621023`*^9, 3.890592374538731*^9}, {
   3.8905930117264338`*^9, 3.890593012603847*^9}, {3.9051319546121264`*^9, 
   3.905131965391491*^9}, {3.90513246722266*^9, 3.905132467226652*^9}, {
   3.905134864601409*^9, 3.9051348674400043`*^9}},
 CellLabel->"In[45]:=",ExpressionUUID->"85130ac0-239c-442e-9495-b74ede57f3d6"],

Cell[BoxData[
 RowBox[{"End", "[", "]"}]], "Input",
 CellChangeTimes->{{3.890680295645965*^9, 3.89068029650622*^9}},
 CellLabel->"In[46]:=",ExpressionUUID->"0b8107a2-bb20-4915-b1ff-d9f5abb25bdc"],

Cell[BoxData[
 RowBox[{
  RowBox[{"(*", 
   RowBox[{"add", " ", 
    RowBox[{"Begin", "[", "\"\<Context`\>\"", "]"}], " ", "and", " ", 
    RowBox[{"End", "[", "]"}], " ", "to", " ", "wlt", " ", "file"}], "*)"}], 
  "\n", 
  RowBox[{"(*", 
   RowBox[{"helper", " ", "functions"}], "*)"}], "\[IndentingNewLine]", 
  RowBox[{
   RowBox[{"ClearAll", "[", "countLines", "]"}], "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{"countLines", "[", "file_String", "]"}], ":=", 
    RowBox[{"Module", "[", "\[IndentingNewLine]", 
     RowBox[{
      RowBox[{"{", "\[IndentingNewLine]", 
       RowBox[{
        RowBox[{"readStream", "=", 
         RowBox[{"OpenRead", "[", "file", "]"}]}], ",", "\[IndentingNewLine]", 
        RowBox[{"n", "=", "1"}], ",", "\[IndentingNewLine]", "temp"}], 
       "\[IndentingNewLine]", "}"}], ",", "\[IndentingNewLine]", 
      RowBox[{
       RowBox[{"While", "[", "\[IndentingNewLine]", 
        RowBox[{
         RowBox[{"temp", "=!=", "EndOfFile"}], ",", "\[IndentingNewLine]", 
         RowBox[{
          RowBox[{"temp", "=", 
           RowBox[{"ReadLine", "[", "readStream", "]"}]}], ";", 
          "\[IndentingNewLine]", 
          RowBox[{"n", "=", 
           RowBox[{"n", "+", "1"}]}], ";"}]}], "\[IndentingNewLine]", "]"}], 
       ";", "\[IndentingNewLine]", 
       RowBox[{"Close", "/@", 
        RowBox[{"{", "readStream", "}"}]}], ";", "\[IndentingNewLine]", 
       "n"}]}], "\[IndentingNewLine]", "]"}]}], "\n", 
   RowBox[{"ClearAll", "[", "replaceNthRecord", "]"}], "\[IndentingNewLine]", 
   
   RowBox[{
    RowBox[{"replaceNthRecord", "[", 
     RowBox[{"file_String", ",", "n_Integer", ",", "replaceWith_"}], "]"}], ":=", 
    RowBox[{"Module", "[", "\[IndentingNewLine]", 
     RowBox[{
      RowBox[{"{", "\[IndentingNewLine]", 
       RowBox[{
        RowBox[{"readStream", "=", 
         RowBox[{"OpenRead", "[", "file", "]"}]}], ",", "\[IndentingNewLine]", 
        RowBox[{"writeStream", "=", 
         RowBox[{"OpenWrite", "[", 
          RowBox[{"file", "<>", "\"\<temp\>\""}], "]"}]}], ",", 
        "\[IndentingNewLine]", "temp"}], "\[IndentingNewLine]", "}"}], ",", 
      "\[IndentingNewLine]", 
      RowBox[{
       RowBox[{"Do", "[", "\[IndentingNewLine]", 
        RowBox[{
         RowBox[{"WriteLine", "[", 
          RowBox[{"writeStream", ",", 
           RowBox[{"ReadLine", "[", "readStream", "]"}]}], "]"}], ",", 
         "\[IndentingNewLine]", 
         RowBox[{"{", 
          RowBox[{"n", "-", "1"}], "}"}]}], "\[IndentingNewLine]", "]"}], ";",
        "\[IndentingNewLine]", 
       RowBox[{"WriteLine", "[", 
        RowBox[{"writeStream", ",", 
         RowBox[{
          RowBox[{"ReadLine", "[", "readStream", "]"}], "<>", 
          "\"\< \\r\\n\>\"", "<>", "replaceWith"}]}], "]"}], ";", 
       "\[IndentingNewLine]", 
       RowBox[{"While", "[", "\[IndentingNewLine]", 
        RowBox[{
         RowBox[{"temp", "=!=", "EndOfFile"}], ",", "\[IndentingNewLine]", 
         RowBox[{
          RowBox[{"temp", "=", 
           RowBox[{"ReadLine", "[", "readStream", "]"}]}], ";", 
          "\[IndentingNewLine]", 
          RowBox[{"If", "[", "\[IndentingNewLine]", 
           RowBox[{
            RowBox[{"UnsameQ", "[", 
             RowBox[{"temp", ",", "EndOfFile"}], "]"}], ",", 
            "\[IndentingNewLine]", 
            RowBox[{"WriteLine", "[", 
             RowBox[{"writeStream", ",", "temp"}], "]"}]}], 
           "\[IndentingNewLine]", "]"}], ";"}]}], "\[IndentingNewLine]", 
        "]"}], ";", 
       RowBox[{"Close", "/@", 
        RowBox[{"{", 
         RowBox[{"readStream", ",", "writeStream"}], "}"}]}]}]}], "]"}]}], 
   "\n", 
   RowBox[{"(*", 
    RowBox[{"insert", " ", "into", " ", "wlt", " ", "file"}], "*)"}], 
   "\[IndentingNewLine]", 
   RowBox[{"replaceNthRecord", "[", 
    RowBox[{
    "testFileName", ",", "1", ",", 
     "\"\<Begin[\\\"Tools`TimeAggregation`\\\"]\>\""}], "]"}], 
   "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{"CopyFile", "[", 
     RowBox[{
      RowBox[{"testFileName", "<>", "\"\<temp\>\""}], ",", "testFileName", 
      ",", 
      RowBox[{"OverwriteTarget", "->", "True"}]}], "]"}], ";"}], "\n", 
   RowBox[{"DeleteFile", "[", 
    RowBox[{"testFileName", "<>", "\"\<temp\>\""}], "]"}], 
   "\[IndentingNewLine]", "\[IndentingNewLine]", 
   RowBox[{"numLines", "=", 
    RowBox[{"countLines", "[", "testFileName", "]"}]}], "\[IndentingNewLine]", 
   RowBox[{"replaceNthRecord", "[", 
    RowBox[{"testFileName", ",", 
     RowBox[{"numLines", "-", "3"}], ",", " ", "\"\<End[]\>\""}], "]"}], 
   "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{"CopyFile", "[", 
     RowBox[{
      RowBox[{"testFileName", "<>", "\"\<temp\>\""}], ",", "testFileName", 
      ",", 
      RowBox[{"OverwriteTarget", "->", "True"}]}], "]"}], ";"}], "\n", 
   RowBox[{"DeleteFile", "[", 
    RowBox[{"testFileName", "<>", "\"\<temp\>\""}], "]"}]}]}]], "Input",
 CellChangeTimes->{{3.890686194230386*^9, 3.890686228283702*^9}, 
   3.8911593195689373`*^9, 3.891216261943364*^9, 3.905131681887154*^9},
 CellLabel->"In[47]:=",ExpressionUUID->"58d6451a-aebd-47a3-acd0-4cd98497de14"],

Cell[BoxData[
 RowBox[{"tr", "=", 
  RowBox[{"TestReport", "[", "testFileName", "]"}]}]], "Input",
 CellLabel->"In[58]:=",ExpressionUUID->"4bbd6f2b-471a-4de2-9960-53cc4e1a8d40"]
}, Closed]],

Cell[CellGroupData[{

Cell["Interactive Tests", "Subsection",
 CellChangeTimes->{{3.889905622471089*^9, 3.889905629759961*^9}, {
  3.889972063478182*^9, 
  3.889972065236586*^9}},ExpressionUUID->"5e95f8ec-4945-4759-8547-\
072f1ec09022"],

Cell[BoxData[{
 RowBox[{"packageFileName", "=", 
  RowBox[{"FileNameJoin", "[", 
   RowBox[{"{", 
    RowBox[{"pacletDir", ",", "\"\<Kernel\>\"", ",", "\"\<Tools\>\"", ",", 
     RowBox[{
      RowBox[{"FileBaseName", "[", 
       RowBox[{"NotebookFileName", "[", "]"}], "]"}], "<>", "\"\<.wl\>\""}]}],
     "}"}], "]"}]}], "\[IndentingNewLine]", 
 RowBox[{"Needs", "[", 
  RowBox[{
   RowBox[{"\"\<FernandoDuarte`LongRunRisk`Tools`\>\"", "<>", 
    RowBox[{"FileBaseName", "[", 
     RowBox[{"NotebookFileName", "[", "]"}], "]"}], "<>", "\"\<`\>\""}], ",", 
   "packageFileName"}], "]"}]}], "Input",
 CellChangeTimes->{{3.889968360919714*^9, 3.889968361169221*^9}, 
   3.89001596275924*^9, 3.890101011094161*^9, {3.890125139775529*^9, 
   3.890125142574856*^9}, {3.89015867604501*^9, 3.890158680365151*^9}, {
   3.905131546914009*^9, 3.9051315925267*^9}},
 CellLabel->"In[6]:=",ExpressionUUID->"51aa135b-2163-4fff-a6e0-08b58bd6368a"],

Cell[BoxData[
 RowBox[{
  RowBox[{"(*", 
   RowBox[{"tests", " ", "Growth"}], "*)"}], "\[IndentingNewLine]", 
  RowBox[{"(*", "dc", "*)"}], "\[IndentingNewLine]", 
  RowBox[{"(*", 
   RowBox[{"tent", "-", 
    RowBox[{"shaped", " ", "coefficients"}]}], "*)"}], "\[IndentingNewLine]", 
  
  RowBox[{"And", "@@", 
   RowBox[{"{", "\[IndentingNewLine]", 
    RowBox[{
     RowBox[{
      RowBox[{"growth", "[", 
       RowBox[{"dc", ",", "t"}], "]"}], "==", 
      RowBox[{"dc", "[", "t", "]"}]}], ",", "\[IndentingNewLine]", 
     RowBox[{
      RowBox[{"growth", "[", 
       RowBox[{"dc", ",", "t", ",", 
        RowBox[{"\"\<TimeAggregation\>\"", "->", "1"}], ",", 
        RowBox[{"\"\<numPeriods\>\"", "->", "1"}]}], "]"}], "==", 
      RowBox[{"dc", "[", "t", "]"}]}], ",", "\[IndentingNewLine]", 
     RowBox[{
      RowBox[{"growth", "[", 
       RowBox[{"dc", ",", "t", ",", 
        RowBox[{"\"\<TimeAggregation\>\"", "->", "3"}], ",", 
        RowBox[{"\"\<numPeriods\>\"", "->", "1"}]}], "]"}], "==", 
      RowBox[{
       FractionBox["1", "3"], " ", 
       RowBox[{"(", 
        RowBox[{
         RowBox[{"dc", "[", 
          RowBox[{
           RowBox[{"-", "4"}], "+", "t"}], "]"}], "+", 
         RowBox[{"2", " ", 
          RowBox[{"dc", "[", 
           RowBox[{
            RowBox[{"-", "3"}], "+", "t"}], "]"}]}], "+", 
         RowBox[{"3", " ", 
          RowBox[{"dc", "[", 
           RowBox[{
            RowBox[{"-", "2"}], "+", "t"}], "]"}]}], "+", 
         RowBox[{"2", " ", 
          RowBox[{"dc", "[", 
           RowBox[{
            RowBox[{"-", "1"}], "+", "t"}], "]"}]}], "+", 
         RowBox[{"dc", "[", "t", "]"}]}], ")"}]}]}], ",", 
     "\[IndentingNewLine]", 
     RowBox[{
      RowBox[{"growth", "[", 
       RowBox[{"dc", ",", "t", ",", 
        RowBox[{"\"\<TimeAggregation\>\"", "->", "12"}], ",", 
        RowBox[{"\"\<numPeriods\>\"", "->", "1"}]}], "]"}], "==", 
      RowBox[{
       FractionBox["1", "12"], " ", 
       RowBox[{"(", 
        RowBox[{
         RowBox[{"dc", "[", 
          RowBox[{
           RowBox[{"-", "22"}], "+", "t"}], "]"}], "+", 
         RowBox[{"2", " ", 
          RowBox[{"dc", "[", 
           RowBox[{
            RowBox[{"-", "21"}], "+", "t"}], "]"}]}], "+", 
         RowBox[{"3", " ", 
          RowBox[{"dc", "[", 
           RowBox[{
            RowBox[{"-", "20"}], "+", "t"}], "]"}]}], "+", 
         RowBox[{"4", " ", 
          RowBox[{"dc", "[", 
           RowBox[{
            RowBox[{"-", "19"}], "+", "t"}], "]"}]}], "+", 
         RowBox[{"5", " ", 
          RowBox[{"dc", "[", 
           RowBox[{
            RowBox[{"-", "18"}], "+", "t"}], "]"}]}], "+", 
         RowBox[{"6", " ", 
          RowBox[{"dc", "[", 
           RowBox[{
            RowBox[{"-", "17"}], "+", "t"}], "]"}]}], "+", 
         RowBox[{"7", " ", 
          RowBox[{"dc", "[", 
           RowBox[{
            RowBox[{"-", "16"}], "+", "t"}], "]"}]}], "+", 
         RowBox[{"8", " ", 
          RowBox[{"dc", "[", 
           RowBox[{
            RowBox[{"-", "15"}], "+", "t"}], "]"}]}], "+", 
         RowBox[{"9", " ", 
          RowBox[{"dc", "[", 
           RowBox[{
            RowBox[{"-", "14"}], "+", "t"}], "]"}]}], "+", 
         RowBox[{"10", " ", 
          RowBox[{"dc", "[", 
           RowBox[{
            RowBox[{"-", "13"}], "+", "t"}], "]"}]}], "+", 
         RowBox[{"11", " ", 
          RowBox[{"dc", "[", 
           RowBox[{
            RowBox[{"-", "12"}], "+", "t"}], "]"}]}], "+", 
         RowBox[{"12", " ", 
          RowBox[{"dc", "[", 
           RowBox[{
            RowBox[{"-", "11"}], "+", "t"}], "]"}]}], "+", 
         RowBox[{"11", " ", 
          RowBox[{"dc", "[", 
           RowBox[{
            RowBox[{"-", "10"}], "+", "t"}], "]"}]}], "+", 
         RowBox[{"10", " ", 
          RowBox[{"dc", "[", 
           RowBox[{
            RowBox[{"-", "9"}], "+", "t"}], "]"}]}], "+", 
         RowBox[{"9", " ", 
          RowBox[{"dc", "[", 
           RowBox[{
            RowBox[{"-", "8"}], "+", "t"}], "]"}]}], "+", 
         RowBox[{"8", " ", 
          RowBox[{"dc", "[", 
           RowBox[{
            RowBox[{"-", "7"}], "+", "t"}], "]"}]}], "+", 
         RowBox[{"7", " ", 
          RowBox[{"dc", "[", 
           RowBox[{
            RowBox[{"-", "6"}], "+", "t"}], "]"}]}], "+", 
         RowBox[{"6", " ", 
          RowBox[{"dc", "[", 
           RowBox[{
            RowBox[{"-", "5"}], "+", "t"}], "]"}]}], "+", 
         RowBox[{"5", " ", 
          RowBox[{"dc", "[", 
           RowBox[{
            RowBox[{"-", "4"}], "+", "t"}], "]"}]}], "+", 
         RowBox[{"4", " ", 
          RowBox[{"dc", "[", 
           RowBox[{
            RowBox[{"-", "3"}], "+", "t"}], "]"}]}], "+", 
         RowBox[{"3", " ", 
          RowBox[{"dc", "[", 
           RowBox[{
            RowBox[{"-", "2"}], "+", "t"}], "]"}]}], "+", 
         RowBox[{"2", " ", 
          RowBox[{"dc", "[", 
           RowBox[{
            RowBox[{"-", "1"}], "+", "t"}], "]"}]}], "+", 
         RowBox[{"dc", "[", "t", "]"}]}], ")"}]}]}]}], "\[IndentingNewLine]", 
    "}"}]}]}]], "Input",
 CellChangeTimes->{{3.905133500556025*^9, 3.905133500806592*^9}},
 CellLabel->"In[8]:=",ExpressionUUID->"eff0c4a7-f103-4d11-826f-c93104ea3543"],

Cell[BoxData[
 RowBox[{
  RowBox[{"(*", 
   RowBox[{"expanssion", " ", "around", " ", "v0"}], "*)"}], 
  "\[IndentingNewLine]", 
  RowBox[{"(*", 
   RowBox[{
    RowBox[{"constant", " ", "v0"}], ",", " ", 
    RowBox[{
    "v0", " ", "has", " ", "different", " ", "number", " ", "of", " ", 
     "arguments"}]}], "*)"}], "\[IndentingNewLine]", 
  RowBox[{"And", "@@", 
   RowBox[{"{", "\[IndentingNewLine]", 
    RowBox[{
     RowBox[{
      RowBox[{"growth", "[", 
       RowBox[{"dc", ",", "t", ",", 
        RowBox[{"\"\<TimeAggregation\>\"", "->", "3"}], ",", 
        RowBox[{"\"\<numPeriods\>\"", "->", "1"}], ",", 
        RowBox[{"\"\<v0\>\"", "->", 
         RowBox[{"Function", "[", 
          RowBox[{
           RowBox[{"{", 
            RowBox[{"t", ",", "j", ",", "h", ",", "k", ",", "v", ",", "im"}], 
            "}"}], ",", "0.0015"}], "]"}]}]}], "]"}], "==", 
      RowBox[{"0.`", "\[VeryThinSpace]", "+", 
       RowBox[{"0.3328334585207629`", " ", 
        RowBox[{"dc", "[", 
         RowBox[{
          RowBox[{"-", "4"}], "+", "t"}], "]"}]}], "+", 
       RowBox[{"0.6661665418542368`", " ", 
        RowBox[{"dc", "[", 
         RowBox[{
          RowBox[{"-", "3"}], "+", "t"}], "]"}]}], "+", 
       RowBox[{"dc", "[", 
        RowBox[{
         RowBox[{"-", "2"}], "+", "t"}], "]"}], "+", 
       RowBox[{"0.6671665414792372`", " ", 
        RowBox[{"dc", "[", 
         RowBox[{
          RowBox[{"-", "1"}], "+", "t"}], "]"}]}], "+", 
       RowBox[{"0.33383345814576315`", " ", 
        RowBox[{"dc", "[", "t", "]"}]}]}]}], ",", "\[IndentingNewLine]", 
     RowBox[{
      RowBox[{"growth", "[", 
       RowBox[{"dc", ",", "t", ",", 
        RowBox[{"\"\<TimeAggregation\>\"", "->", "3"}], ",", 
        RowBox[{"\"\<numPeriods\>\"", "->", "1"}], ",", 
        RowBox[{"\"\<v0\>\"", "->", 
         RowBox[{"Function", "[", 
          RowBox[{
           RowBox[{"{", 
            RowBox[{"t", ",", "j", ",", "h", ",", "k", ",", "v"}], "}"}], ",",
            "0.0015"}], "]"}]}]}], "]"}], "==", 
      RowBox[{"0.`", "\[VeryThinSpace]", "+", 
       RowBox[{"0.3328334585207629`", " ", 
        RowBox[{"dc", "[", 
         RowBox[{
          RowBox[{"-", "4"}], "+", "t"}], "]"}]}], "+", 
       RowBox[{"0.6661665418542368`", " ", 
        RowBox[{"dc", "[", 
         RowBox[{
          RowBox[{"-", "3"}], "+", "t"}], "]"}]}], "+", 
       RowBox[{"dc", "[", 
        RowBox[{
         RowBox[{"-", "2"}], "+", "t"}], "]"}], "+", 
       RowBox[{"0.6671665414792372`", " ", 
        RowBox[{"dc", "[", 
         RowBox[{
          RowBox[{"-", "1"}], "+", "t"}], "]"}]}], "+", 
       RowBox[{"0.33383345814576315`", " ", 
        RowBox[{"dc", "[", "t", "]"}]}]}]}], ",", "\[IndentingNewLine]", 
     RowBox[{
      RowBox[{"growth", "[", 
       RowBox[{"dc", ",", "t", ",", 
        RowBox[{"\"\<TimeAggregation\>\"", "->", "3"}], ",", 
        RowBox[{"\"\<numPeriods\>\"", "->", "1"}], ",", 
        RowBox[{"\"\<v0\>\"", "->", 
         RowBox[{"Function", "[", 
          RowBox[{
           RowBox[{"{", 
            RowBox[{"t", ",", "j", ",", "h", ",", "k"}], "}"}], ",", 
           "0.0015"}], "]"}]}]}], "]"}], "==", 
      RowBox[{"0.`", "\[VeryThinSpace]", "+", 
       RowBox[{"0.3328334585207629`", " ", 
        RowBox[{"dc", "[", 
         RowBox[{
          RowBox[{"-", "4"}], "+", "t"}], "]"}]}], "+", 
       RowBox[{"0.6661665418542368`", " ", 
        RowBox[{"dc", "[", 
         RowBox[{
          RowBox[{"-", "3"}], "+", "t"}], "]"}]}], "+", 
       RowBox[{"dc", "[", 
        RowBox[{
         RowBox[{"-", "2"}], "+", "t"}], "]"}], "+", 
       RowBox[{"0.6671665414792372`", " ", 
        RowBox[{"dc", "[", 
         RowBox[{
          RowBox[{"-", "1"}], "+", "t"}], "]"}]}], "+", 
       RowBox[{"0.33383345814576315`", " ", 
        RowBox[{"dc", "[", "t", "]"}]}]}]}], ",", "\[IndentingNewLine]", 
     RowBox[{
      RowBox[{"growth", "[", 
       RowBox[{"dc", ",", "t", ",", 
        RowBox[{"\"\<TimeAggregation\>\"", "->", "3"}], ",", 
        RowBox[{"\"\<numPeriods\>\"", "->", "1"}], ",", 
        RowBox[{"\"\<v0\>\"", "->", 
         RowBox[{"Function", "[", 
          RowBox[{
           RowBox[{"{", 
            RowBox[{"t", ",", "j", ",", "h"}], "}"}], ",", "0.0015"}], 
          "]"}]}]}], "]"}], "==", 
      RowBox[{"0.`", "\[VeryThinSpace]", "+", 
       RowBox[{"0.3328334585207629`", " ", 
        RowBox[{"dc", "[", 
         RowBox[{
          RowBox[{"-", "4"}], "+", "t"}], "]"}]}], "+", 
       RowBox[{"0.6661665418542368`", " ", 
        RowBox[{"dc", "[", 
         RowBox[{
          RowBox[{"-", "3"}], "+", "t"}], "]"}]}], "+", 
       RowBox[{"dc", "[", 
        RowBox[{
         RowBox[{"-", "2"}], "+", "t"}], "]"}], "+", 
       RowBox[{"0.6671665414792372`", " ", 
        RowBox[{"dc", "[", 
         RowBox[{
          RowBox[{"-", "1"}], "+", "t"}], "]"}]}], "+", 
       RowBox[{"0.33383345814576315`", " ", 
        RowBox[{"dc", "[", "t", "]"}]}]}]}], ",", "\[IndentingNewLine]", 
     RowBox[{"(*", 
      RowBox[{
       RowBox[{"constant", " ", "v0"}], ",", " ", 
       RowBox[{"different", " ", "symbols", " ", "as", " ", "arguments"}]}], 
      "*)"}], "\[IndentingNewLine]", 
     RowBox[{
      RowBox[{"growth", "[", 
       RowBox[{"dc", ",", "t", ",", 
        RowBox[{"\"\<TimeAggregation\>\"", "->", "3"}], ",", 
        RowBox[{"\"\<numPeriods\>\"", "->", "1"}], ",", 
        RowBox[{"\"\<v0\>\"", "->", 
         RowBox[{"Function", "[", 
          RowBox[{
           RowBox[{"{", 
            RowBox[{"t", ",", "j"}], "}"}], ",", "0.0015"}], "]"}]}]}], "]"}],
       "==", 
      RowBox[{"0.`", "\[VeryThinSpace]", "+", 
       RowBox[{"0.3328334585207629`", " ", 
        RowBox[{"dc", "[", 
         RowBox[{
          RowBox[{"-", "4"}], "+", "t"}], "]"}]}], "+", 
       RowBox[{"0.6661665418542368`", " ", 
        RowBox[{"dc", "[", 
         RowBox[{
          RowBox[{"-", "3"}], "+", "t"}], "]"}]}], "+", 
       RowBox[{"dc", "[", 
        RowBox[{
         RowBox[{"-", "2"}], "+", "t"}], "]"}], "+", 
       RowBox[{"0.6671665414792372`", " ", 
        RowBox[{"dc", "[", 
         RowBox[{
          RowBox[{"-", "1"}], "+", "t"}], "]"}]}], "+", 
       RowBox[{"0.33383345814576315`", " ", 
        RowBox[{"dc", "[", "t", "]"}]}]}]}], ",", "\[IndentingNewLine]", 
     RowBox[{
      RowBox[{"growth", "[", 
       RowBox[{"dc", ",", "t", ",", 
        RowBox[{"\"\<TimeAggregation\>\"", "->", "3"}], ",", 
        RowBox[{"\"\<numPeriods\>\"", "->", "1"}], ",", 
        RowBox[{"\"\<v0\>\"", "->", 
         RowBox[{"Function", "[", 
          RowBox[{
           RowBox[{"{", "t", "}"}], ",", "0.0015"}], "]"}]}]}], "]"}], "==", 
      RowBox[{"0.`", "\[VeryThinSpace]", "+", 
       RowBox[{"0.3328334585207629`", " ", 
        RowBox[{"dc", "[", 
         RowBox[{
          RowBox[{"-", "4"}], "+", "t"}], "]"}]}], "+", 
       RowBox[{"0.6661665418542368`", " ", 
        RowBox[{"dc", "[", 
         RowBox[{
          RowBox[{"-", "3"}], "+", "t"}], "]"}]}], "+", 
       RowBox[{"dc", "[", 
        RowBox[{
         RowBox[{"-", "2"}], "+", "t"}], "]"}], "+", 
       RowBox[{"0.6671665414792372`", " ", 
        RowBox[{"dc", "[", 
         RowBox[{
          RowBox[{"-", "1"}], "+", "t"}], "]"}]}], "+", 
       RowBox[{"0.33383345814576315`", " ", 
        RowBox[{"dc", "[", "t", "]"}]}]}]}], ",", "\[IndentingNewLine]", 
     RowBox[{
      RowBox[{"growth", "[", 
       RowBox[{"dc", ",", "t", ",", 
        RowBox[{"\"\<TimeAggregation\>\"", "->", "3"}], ",", 
        RowBox[{"\"\<numPeriods\>\"", "->", "1"}], ",", 
        RowBox[{"\"\<v0\>\"", "->", 
         RowBox[{"Function", "[", 
          RowBox[{
           RowBox[{"{", "}"}], ",", "0.0015"}], "]"}]}]}], "]"}], "==", 
      RowBox[{"0.`", "\[VeryThinSpace]", "+", 
       RowBox[{"0.3328334585207629`", " ", 
        RowBox[{"dc", "[", 
         RowBox[{
          RowBox[{"-", "4"}], "+", "t"}], "]"}]}], "+", 
       RowBox[{"0.6661665418542368`", " ", 
        RowBox[{"dc", "[", 
         RowBox[{
          RowBox[{"-", "3"}], "+", "t"}], "]"}]}], "+", 
       RowBox[{"dc", "[", 
        RowBox[{
         RowBox[{"-", "2"}], "+", "t"}], "]"}], "+", 
       RowBox[{"0.6671665414792372`", " ", 
        RowBox[{"dc", "[", 
         RowBox[{
          RowBox[{"-", "1"}], "+", "t"}], "]"}]}], "+", 
       RowBox[{"0.33383345814576315`", " ", 
        RowBox[{"dc", "[", "t", "]"}]}]}]}]}], "\[IndentingNewLine]", 
    "}"}]}]}]], "Input",
 CellChangeTimes->{{3.890397132800043*^9, 3.890397245124961*^9}, {
  3.890402620539359*^9, 3.890402620835738*^9}, {3.8905909075478067`*^9, 
  3.89059090865847*^9}, {3.905132355704953*^9, 3.905132365625505*^9}, {
  3.905133511930475*^9, 3.905133513798511*^9}, {3.905133695362563*^9, 
  3.905133695602569*^9}, {3.9051338238575153`*^9, 3.905133833621661*^9}},
 CellLabel->"In[9]:=",ExpressionUUID->"93ebd72e-6d7a-44e8-9e42-dac653cb2945"],

Cell[BoxData[
 RowBox[{
  RowBox[{"(*", 
   RowBox[{"v0", " ", "as", " ", "a", " ", "function", " ", "of", " ", "t"}], 
   "*)"}], "\[IndentingNewLine]", 
  RowBox[{"And", "@@", 
   RowBox[{"{", "\[IndentingNewLine]", 
    RowBox[{
     RowBox[{"Simplify", "@", 
      RowBox[{"growth", "[", 
       RowBox[{"dc", ",", "t", ",", 
        RowBox[{"\"\<TimeAggregation\>\"", "->", "3"}], ",", 
        RowBox[{"\"\<numPeriods\>\"", "->", "1"}], ",", 
        RowBox[{"\"\<v0\>\"", "->", 
         RowBox[{"Function", "[", 
          RowBox[{
           RowBox[{"{", 
            RowBox[{"t", ",", "j", ",", "h", ",", "k", ",", "v", ",", "im"}], 
            "}"}], ",", "t"}], "]"}]}]}], "]"}]}], "==", 
     RowBox[{
      FractionBox["1", 
       RowBox[{"1", "+", 
        SuperscriptBox["\[ExponentialE]", "t"], "+", 
        SuperscriptBox["\[ExponentialE]", 
         RowBox[{"2", " ", "t"}]]}]], 
      RowBox[{"(", 
       RowBox[{
        RowBox[{"dc", "[", 
         RowBox[{
          RowBox[{"-", "4"}], "+", "t"}], "]"}], "+", 
        RowBox[{
         RowBox[{"(", 
          RowBox[{"1", "+", 
           SuperscriptBox["\[ExponentialE]", "t"]}], ")"}], " ", 
         RowBox[{"dc", "[", 
          RowBox[{
           RowBox[{"-", "3"}], "+", "t"}], "]"}]}], "+", 
        RowBox[{"dc", "[", 
         RowBox[{
          RowBox[{"-", "2"}], "+", "t"}], "]"}], "+", 
        RowBox[{
         SuperscriptBox["\[ExponentialE]", "t"], " ", 
         RowBox[{"dc", "[", 
          RowBox[{
           RowBox[{"-", "2"}], "+", "t"}], "]"}]}], "+", 
        RowBox[{
         SuperscriptBox["\[ExponentialE]", 
          RowBox[{"2", " ", "t"}]], " ", 
         RowBox[{"dc", "[", 
          RowBox[{
           RowBox[{"-", "2"}], "+", "t"}], "]"}]}], "+", 
        RowBox[{
         SuperscriptBox["\[ExponentialE]", "t"], " ", 
         RowBox[{"dc", "[", 
          RowBox[{
           RowBox[{"-", "1"}], "+", "t"}], "]"}]}], "+", 
        RowBox[{
         SuperscriptBox["\[ExponentialE]", 
          RowBox[{"2", " ", "t"}]], " ", 
         RowBox[{"dc", "[", 
          RowBox[{
           RowBox[{"-", "1"}], "+", "t"}], "]"}]}], "+", 
        RowBox[{
         SuperscriptBox["\[ExponentialE]", 
          RowBox[{"2", " ", "t"}]], " ", 
         RowBox[{"dc", "[", "t", "]"}]}]}], ")"}]}]}], "\[IndentingNewLine]", 
    "}"}]}]}]], "Input",
 CellChangeTimes->{{3.890188230618291*^9, 3.89018826221737*^9}, {
   3.8901960603832684`*^9, 3.890196060384165*^9}, 3.8903633949009027`*^9, {
   3.89038254616477*^9, 3.890382546165432*^9}, {3.890382638645205*^9, 
   3.89038268764703*^9}, {3.890382718668954*^9, 3.890383019692555*^9}, {
   3.890383063629991*^9, 3.890383067543963*^9}, {3.890396495869184*^9, 
   3.890396499637044*^9}, {3.890402316707736*^9, 3.8904023552940407`*^9}, 
   3.890590908857563*^9, {3.905132375508904*^9, 3.905132381918507*^9}, {
   3.905133522889653*^9, 3.9051335231154833`*^9}, {3.905133698038678*^9, 
   3.905133698266244*^9}},
 CellLabel->"In[10]:=",ExpressionUUID->"a88555c5-4163-47f1-9400-5c7b14e0714e"],

Cell[BoxData[
 RowBox[{
  RowBox[{"(*", 
   RowBox[{"v0", " ", "as", " ", "a", " ", "function", " ", "of", " ", "h"}], 
   "*)"}], "\[IndentingNewLine]", 
  RowBox[{"And", "@@", 
   RowBox[{"{", "\[IndentingNewLine]", 
    RowBox[{
     RowBox[{"FreeQ", "[", 
      RowBox[{
       RowBox[{"growth", "[", 
        RowBox[{"dc", ",", "t", ",", 
         RowBox[{"\"\<TimeAggregation\>\"", "->", "3"}], ",", 
         RowBox[{"\"\<numPeriods\>\"", "->", "1"}], ",", 
         RowBox[{"\"\<v0\>\"", "->", 
          RowBox[{"Function", "[", 
           RowBox[{
            RowBox[{"{", 
             RowBox[{"t", ",", "j", ",", "h", ",", "k", ",", "v", ",", "im"}],
              "}"}], ",", 
            RowBox[{"If", "[", 
             RowBox[{
              RowBox[{"h", "==", "12"}], ",", "h12", ",", "hnot12"}], "]"}]}],
            "]"}]}]}], "]"}], ",", "h12"}], "]"}], ",", "\[IndentingNewLine]", 
     RowBox[{"FreeQ", "[", 
      RowBox[{
       RowBox[{"growth", "[", 
        RowBox[{"dc", ",", "t", ",", 
         RowBox[{"\"\<TimeAggregation\>\"", "->", "12"}], ",", 
         RowBox[{"\"\<numPeriods\>\"", "->", "1"}], ",", 
         RowBox[{"\"\<v0\>\"", "->", 
          RowBox[{"Function", "[", 
           RowBox[{
            RowBox[{"{", 
             RowBox[{"t", ",", "j", ",", "h", ",", "k", ",", "v", ",", "im"}],
              "}"}], ",", 
            RowBox[{"If", "[", 
             RowBox[{
              RowBox[{"h", "==", "12"}], ",", "h12", ",", "hnot12"}], "]"}]}],
            "]"}]}]}], "]"}], ",", "hnot12"}], "]"}]}], "\[IndentingNewLine]",
     "}"}]}]}]], "Input",
 CellChangeTimes->{{3.890188230618291*^9, 3.89018826221737*^9}, {
   3.8901960603832684`*^9, 3.890196060384165*^9}, 3.8903633949009027`*^9, {
   3.89038254616477*^9, 3.890382546165432*^9}, {3.890382638645205*^9, 
   3.89038268764703*^9}, {3.890382718668954*^9, 3.890383019692555*^9}, {
   3.890383063629991*^9, 3.890383067543963*^9}, {3.890396495869184*^9, 
   3.890396499637044*^9}, {3.890402316707736*^9, 3.8904023552940407`*^9}, {
   3.8905909091964283`*^9, 3.890590909476776*^9}, {3.890591000348248*^9, 
   3.890591030600806*^9}, {3.905133525249123*^9, 3.9051335254956703`*^9}, {
   3.905133700662964*^9, 3.905133700921669*^9}, 3.905133840102029*^9},
 CellLabel->"In[11]:=",ExpressionUUID->"d7d9e463-ab43-4ddb-8640-14bfa1005524"],

Cell[BoxData[
 RowBox[{
  RowBox[{"(*", 
   RowBox[{
    RowBox[{"for", " ", "v0", " ", "independent", " ", "of", " ", "j"}], ",", 
    " ", 
    RowBox[{
    "constant", " ", "term", " ", "in", " ", "expansion", " ", "should", " ", 
     "be", " ", "0"}]}], "*)"}], "\[IndentingNewLine]", 
  RowBox[{"And", "@@", 
   RowBox[{"{", "\[IndentingNewLine]", 
    RowBox[{
     RowBox[{"0", "===", 
      RowBox[{"(", 
       RowBox[{
        RowBox[{"Coefficient", "[", 
         RowBox[{
          RowBox[{
           RowBox[{"growth", "[", 
            RowBox[{"dc", ",", "t", ",", 
             RowBox[{"\"\<TimeAggregation\>\"", "->", "3"}], ",", 
             RowBox[{"\"\<numPeriods\>\"", "->", "1"}], ",", 
             RowBox[{"\"\<v0\>\"", "->", 
              RowBox[{"Function", "[", 
               RowBox[{
                RowBox[{"{", 
                 RowBox[{
                 "t", ",", "j", ",", "h", ",", "k", ",", "v", ",", "im"}], 
                 "}"}], ",", 
                RowBox[{
                 RowBox[{"-", "1"}], "/", 
                 RowBox[{"(", 
                  RowBox[{"h", "+", "1"}], ")"}]}]}], "]"}]}]}], "]"}], "/.", 
           
           RowBox[{
            RowBox[{"dc", "[", "__", "]"}], "->", "dcX"}]}], ",", "dcX", ",", 
          "0"}], "]"}], "//", "FullSimplify"}], ")"}]}], ",", 
     "\[IndentingNewLine]", 
     RowBox[{"0", "===", 
      RowBox[{"(", 
       RowBox[{
        RowBox[{"Coefficient", "[", 
         RowBox[{
          RowBox[{
           RowBox[{"growth", "[", 
            RowBox[{"dc", ",", "t", ",", 
             RowBox[{"\"\<TimeAggregation\>\"", "->", "3"}], ",", 
             RowBox[{"\"\<numPeriods\>\"", "->", "3"}], ",", 
             RowBox[{"\"\<v0\>\"", "->", 
              RowBox[{"Function", "[", 
               RowBox[{
                RowBox[{"{", 
                 RowBox[{
                 "t", ",", "j", ",", "h", ",", "k", ",", "v", ",", "im"}], 
                 "}"}], ",", 
                RowBox[{"h", "^", "2"}]}], "]"}]}]}], "]"}], "/.", 
           RowBox[{
            RowBox[{"dc", "[", "__", "]"}], "->", "dcX"}]}], ",", "dcX", ",", 
          "0"}], "]"}], "//", "FullSimplify"}], ")"}]}], ",", 
     "\[IndentingNewLine]", 
     RowBox[{"0", "===", 
      RowBox[{"(", 
       RowBox[{
        RowBox[{"Coefficient", "[", 
         RowBox[{
          RowBox[{
           RowBox[{"growth", "[", 
            RowBox[{"dc", ",", "t", ",", 
             RowBox[{"\"\<TimeAggregation\>\"", "->", "3"}], ",", 
             RowBox[{"\"\<numPeriods\>\"", "->", "1"}], ",", 
             RowBox[{"\"\<v0\>\"", "->", 
              RowBox[{"Function", "[", 
               RowBox[{
                RowBox[{"{", 
                 RowBox[{
                 "t", ",", "j", ",", "h", ",", "k", ",", "v", ",", "im"}], 
                 "}"}], ",", "im"}], "]"}]}]}], "]"}], "/.", 
           RowBox[{
            RowBox[{"dc", "[", "__", "]"}], "->", "dcX"}]}], ",", "dcX", ",", 
          "0"}], "]"}], "//", "FullSimplify"}], ")"}]}], ",", 
     "\[IndentingNewLine]", 
     RowBox[{"0", "===", 
      RowBox[{"(", 
       RowBox[{
        RowBox[{"Coefficient", "[", 
         RowBox[{
          RowBox[{
           RowBox[{"growth", "[", 
            RowBox[{"dc", ",", "t", ",", 
             RowBox[{"\"\<TimeAggregation\>\"", "->", "3"}], ",", 
             RowBox[{"\"\<numPeriods\>\"", "->", "3"}], ",", 
             RowBox[{"\"\<v0\>\"", "->", 
              RowBox[{"Function", "[", 
               RowBox[{
                RowBox[{"{", 
                 RowBox[{
                 "t", ",", "j", ",", "h", ",", "k", ",", "v", ",", "im"}], 
                 "}"}], ",", "v"}], "]"}]}]}], "]"}], "/.", 
           RowBox[{
            RowBox[{"dc", "[", "__", "]"}], "->", "dcX"}]}], ",", "dcX", ",", 
          "0"}], "]"}], "//", "FullSimplify"}], ")"}]}], ",", 
     "\[IndentingNewLine]", 
     RowBox[{"0", "===", 
      RowBox[{"(", 
       RowBox[{
        RowBox[{"Coefficient", "[", 
         RowBox[{
          RowBox[{
           RowBox[{"growth", "[", 
            RowBox[{"dd", ",", "t", ",", "i", ",", 
             RowBox[{"\"\<TimeAggregation\>\"", "->", "3"}], ",", 
             RowBox[{"\"\<numPeriods\>\"", "->", "1"}], ",", 
             RowBox[{"\"\<v0\>\"", "->", 
              RowBox[{"Function", "[", 
               RowBox[{
                RowBox[{"{", 
                 RowBox[{
                 "t", ",", "j", ",", "h", ",", "k", ",", "v", ",", "im"}], 
                 "}"}], ",", "im"}], "]"}]}]}], "]"}], "/.", 
           RowBox[{
            RowBox[{"dd", "[", 
             RowBox[{"__", ",", "i"}], "]"}], "->", "ddX"}]}], ",", "ddX", 
          ",", "0"}], "]"}], "//", "FullSimplify"}], ")"}]}]}], 
    "\[IndentingNewLine]", "}"}]}]}]], "Input",
 CellChangeTimes->{{3.890384749988565*^9, 3.8903848671079073`*^9}, {
   3.890385086577386*^9, 3.890385132765119*^9}, {3.8903851882869177`*^9, 
   3.890385211185302*^9}, {3.890385645996904*^9, 3.890385670244089*^9}, {
   3.890385842455722*^9, 3.890385936794145*^9}, {3.8903859905439873`*^9, 
   3.890385999357443*^9}, {3.890392502148799*^9, 3.890392502486706*^9}, {
   3.89039650846305*^9, 3.8903965159334*^9}, 3.890402287469048*^9, {
   3.890402629564251*^9, 3.8904026351157513`*^9}, {3.890407259759863*^9, 
   3.89040726389555*^9}, {3.8905909096771193`*^9, 3.890590911247868*^9}, {
   3.890591349401698*^9, 3.890591358117527*^9}, {3.9051335280180407`*^9, 
   3.905133528246677*^9}, {3.9051337032625*^9, 3.9051337034809647`*^9}, {
   3.9051338441504517`*^9, 3.905133852704021*^9}},
 CellLabel->"In[12]:=",ExpressionUUID->"4dd16d07-9c1e-4e9a-8efd-72599b62487d"],

Cell[BoxData[
 RowBox[{
  RowBox[{"(*", 
   RowBox[{
    RowBox[{"for", " ", "v0", 
     RowBox[{"(", 
      RowBox[{"t", ",", "h", ",", "j"}], ")"}], " ", "independent", " ", "of",
      " ", "j"}], ",", " ", 
    RowBox[{
    "constant", " ", "term", " ", "in", " ", "expansion", " ", "should", " ", 
     "be", " ", "0"}]}], "*)"}], "\[IndentingNewLine]", 
  RowBox[{
   RowBox[{
    RowBox[{"arbitraryFun1", "=", 
     RowBox[{"Function", "[", 
      RowBox[{
       RowBox[{"{", 
        RowBox[{"t", ",", "j", ",", "h", ",", "k", ",", "v"}], "}"}], ",", 
       RowBox[{"Sqrt", "[", "h", "]"}]}], "]"}]}], ";"}], 
   "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{"arbitraryFun2", "=", 
     RowBox[{"Function", "[", 
      RowBox[{
       RowBox[{"{", 
        RowBox[{"t", ",", "j", ",", "h", ",", "k", ",", "v"}], "}"}], ",", 
       RowBox[{"If", "[", 
        RowBox[{
         RowBox[{"v", "==", "dd"}], ",", 
         RowBox[{"Sqrt", "[", "h", "]"}], ",", 
         RowBox[{"Cos", "[", "h", "]"}]}], "]"}]}], "]"}]}], ";"}], 
   "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{"arbitraryFun3", "=", 
     RowBox[{"Function", "[", 
      RowBox[{
       RowBox[{"{", 
        RowBox[{"t", ",", "j", ",", "h", ",", "k", ",", "v"}], "}"}], ",", 
       RowBox[{"-", "h"}]}], "]"}]}], ";"}], "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{"arbitraryFun4", "=", 
     RowBox[{"Function", "[", 
      RowBox[{
       RowBox[{"{", 
        RowBox[{"t", ",", "j", ",", "h", ",", "k", ",", "v"}], "}"}], ",", 
       RowBox[{
        RowBox[{
         RowBox[{"Sqrt", "[", "h", "]"}], "t"}], " ", "-", 
        RowBox[{"k", "^", "2"}]}]}], "]"}]}], ";"}], "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{"arbitraryFun5", "=", 
     RowBox[{"Function", "[", 
      RowBox[{
       RowBox[{"{", 
        RowBox[{"t", ",", "j", ",", "h", ",", "k", ",", "v"}], "}"}], ",", 
       RowBox[{"If", "[", 
        RowBox[{
         RowBox[{"v", "==", "dd"}], ",", 
         RowBox[{
          RowBox[{"Sqrt", "[", "h", "]"}], 
          RowBox[{"Sqrt", "[", "t", "]"}]}], ",", 
         RowBox[{
          RowBox[{"Exp", "[", "t", "]"}], 
          RowBox[{"Cos", "[", "h", "]"}]}]}], "]"}]}], "]"}]}], ";"}], 
   "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{"arbitraryFun6", "=", 
     RowBox[{"Function", "[", 
      RowBox[{
       RowBox[{"{", 
        RowBox[{"t", ",", "j", ",", "h", ",", "k", ",", "v"}], "}"}], ",", 
       RowBox[{
        RowBox[{"-", "h"}], "*", "t", "*", "k"}]}], "]"}]}], ";"}], 
   "\[IndentingNewLine]", 
   RowBox[{"And", "@@", 
    RowBox[{"{", "\[IndentingNewLine]", 
     RowBox[{
      RowBox[{
       RowBox[{
        RowBox[{"0", "===", 
         RowBox[{"(", 
          RowBox[{
           RowBox[{"Coefficient", "[", 
            RowBox[{
             RowBox[{
              RowBox[{"growth", "[", 
               RowBox[{"dc", ",", "t", ",", 
                RowBox[{"\"\<TimeAggregation\>\"", "->", "3"}], ",", 
                RowBox[{"\"\<numPeriods\>\"", "->", "1"}], ",", 
                RowBox[{"\"\<v0\>\"", "->", 
                 RowBox[{"Function", "[", 
                  RowBox[{
                   RowBox[{"{", 
                    RowBox[{
                    "t", ",", "j", ",", "h", ",", "k", ",", "v", ",", "im"}], 
                    "}"}], ",", 
                   RowBox[{"F", "[", 
                    RowBox[{"h", ",", "v", ",", "im"}], "]"}]}], "]"}]}]}], 
               "]"}], "/.", 
              RowBox[{
               RowBox[{"dc", "[", "__", "]"}], "->", "dcX"}]}], ",", "dcX", 
             ",", "0"}], "]"}], "//", "FullSimplify"}], ")"}]}], "/.", 
        RowBox[{"F", "->", "arbitraryFun1"}]}], "//", "N"}], ",", 
      "\[IndentingNewLine]", 
      RowBox[{
       RowBox[{
        RowBox[{"0", "===", 
         RowBox[{"(", 
          RowBox[{
           RowBox[{"Coefficient", "[", 
            RowBox[{
             RowBox[{
              RowBox[{"growth", "[", 
               RowBox[{"dc", ",", "t", ",", 
                RowBox[{"\"\<TimeAggregation\>\"", "->", "3"}], ",", 
                RowBox[{"\"\<numPeriods\>\"", "->", "1"}], ",", 
                RowBox[{"\"\<v0\>\"", "->", 
                 RowBox[{"Function", "[", 
                  RowBox[{
                   RowBox[{"{", 
                    RowBox[{
                    "t", ",", "j", ",", "h", ",", "k", ",", "v", ",", "im"}], 
                    "}"}], ",", 
                   RowBox[{"F", "[", 
                    RowBox[{"h", ",", "v", ",", "im"}], "]"}]}], "]"}]}]}], 
               "]"}], "/.", 
              RowBox[{
               RowBox[{"dc", "[", "__", "]"}], "->", "dcX"}]}], ",", "dcX", 
             ",", "0"}], "]"}], "//", "FullSimplify"}], ")"}]}], "/.", 
        RowBox[{"F", "->", "arbitraryFun2"}]}], "//", "N"}], ",", 
      "\[IndentingNewLine]", 
      RowBox[{
       RowBox[{
        RowBox[{"0", "===", 
         RowBox[{"(", 
          RowBox[{
           RowBox[{"Coefficient", "[", 
            RowBox[{
             RowBox[{
              RowBox[{"growth", "[", 
               RowBox[{"dc", ",", "t", ",", 
                RowBox[{"\"\<TimeAggregation\>\"", "->", "3"}], ",", 
                RowBox[{"\"\<numPeriods\>\"", "->", "1"}], ",", 
                RowBox[{"\"\<v0\>\"", "->", 
                 RowBox[{"Function", "[", 
                  RowBox[{
                   RowBox[{"{", 
                    RowBox[{
                    "t", ",", "j", ",", "h", ",", "k", ",", "v", ",", "im"}], 
                    "}"}], ",", 
                   RowBox[{"F", "[", 
                    RowBox[{"h", ",", "v", ",", "im"}], "]"}]}], "]"}]}]}], 
               "]"}], "/.", 
              RowBox[{
               RowBox[{"dc", "[", "__", "]"}], "->", "dcX"}]}], ",", "dcX", 
             ",", "0"}], "]"}], "//", "FullSimplify"}], ")"}]}], "/.", 
        RowBox[{"F", "->", "arbitraryFun3"}]}], "//", "N"}], ",", 
      "\[IndentingNewLine]", 
      RowBox[{
       RowBox[{
        RowBox[{"0", "===", 
         RowBox[{"(", 
          RowBox[{
           RowBox[{"Coefficient", "[", 
            RowBox[{
             RowBox[{
              RowBox[{"growth", "[", 
               RowBox[{"dc", ",", "t", ",", 
                RowBox[{"\"\<TimeAggregation\>\"", "->", "3"}], ",", 
                RowBox[{"\"\<numPeriods\>\"", "->", "1"}], ",", 
                RowBox[{"\"\<v0\>\"", "->", 
                 RowBox[{"Function", "[", 
                  RowBox[{
                   RowBox[{"{", 
                    RowBox[{
                    "t", ",", "j", ",", "h", ",", "k", ",", "v", ",", "im"}], 
                    "}"}], ",", 
                   RowBox[{"F", "[", 
                    RowBox[{"h", ",", "v", ",", "im"}], "]"}]}], "]"}]}]}], 
               "]"}], "/.", 
              RowBox[{
               RowBox[{"dc", "[", "__", "]"}], "->", "dcX"}]}], ",", "dcX", 
             ",", "0"}], "]"}], "//", "FullSimplify"}], ")"}]}], "/.", 
        RowBox[{"F", "->", "arbitraryFun4"}]}], "//", "N"}], ",", 
      "\[IndentingNewLine]", 
      RowBox[{
       RowBox[{
        RowBox[{"0", "===", 
         RowBox[{"(", 
          RowBox[{
           RowBox[{"Coefficient", "[", 
            RowBox[{
             RowBox[{
              RowBox[{"growth", "[", 
               RowBox[{"dc", ",", "t", ",", 
                RowBox[{"\"\<TimeAggregation\>\"", "->", "3"}], ",", 
                RowBox[{"\"\<numPeriods\>\"", "->", "1"}], ",", 
                RowBox[{"\"\<v0\>\"", "->", 
                 RowBox[{"Function", "[", 
                  RowBox[{
                   RowBox[{"{", 
                    RowBox[{
                    "t", ",", "j", ",", "h", ",", "k", ",", "v", ",", "im"}], 
                    "}"}], ",", 
                   RowBox[{"F", "[", 
                    RowBox[{"h", ",", "v", ",", "im"}], "]"}]}], "]"}]}]}], 
               "]"}], "/.", 
              RowBox[{
               RowBox[{"dc", "[", "__", "]"}], "->", "dcX"}]}], ",", "dcX", 
             ",", "0"}], "]"}], "//", "FullSimplify"}], ")"}]}], "/.", 
        RowBox[{"F", "->", "arbitraryFun5"}]}], "//", "N"}], ",", 
      "\[IndentingNewLine]", 
      RowBox[{
       RowBox[{
        RowBox[{"0", "===", 
         RowBox[{"(", 
          RowBox[{
           RowBox[{"Coefficient", "[", 
            RowBox[{
             RowBox[{
              RowBox[{"growth", "[", 
               RowBox[{"dc", ",", "t", ",", 
                RowBox[{"\"\<TimeAggregation\>\"", "->", "3"}], ",", 
                RowBox[{"\"\<numPeriods\>\"", "->", "1"}], ",", 
                RowBox[{"\"\<v0\>\"", "->", 
                 RowBox[{"Function", "[", 
                  RowBox[{
                   RowBox[{"{", 
                    RowBox[{
                    "t", ",", "j", ",", "h", ",", "k", ",", "v", ",", "im"}], 
                    "}"}], ",", 
                   RowBox[{"F", "[", 
                    RowBox[{"h", ",", "v", ",", "im"}], "]"}]}], "]"}]}]}], 
               "]"}], "/.", 
              RowBox[{
               RowBox[{"dc", "[", "__", "]"}], "->", "dcX"}]}], ",", "dcX", 
             ",", "0"}], "]"}], "//", "FullSimplify"}], ")"}]}], "/.", 
        RowBox[{"F", "->", "arbitraryFun6"}]}], "//", "N"}]}], 
     "\[IndentingNewLine]", "}"}]}]}]}]], "Input",
 CellChangeTimes->{{3.890384749988565*^9, 3.8903848671079073`*^9}, {
   3.890385086577386*^9, 3.890385132765119*^9}, {3.8903851882869177`*^9, 
   3.890385211185302*^9}, {3.890385645996904*^9, 3.890385670244089*^9}, {
   3.890385842455722*^9, 3.890385936794145*^9}, 3.890385978222056*^9, {
   3.8903861480636463`*^9, 3.890386183253318*^9}, {3.890396522542078*^9, 
   3.890396526851598*^9}, {3.8904022814019737`*^9, 3.890402284719747*^9}, {
   3.890402373224584*^9, 3.8904024058293343`*^9}, {3.890402436809697*^9, 
   3.890402505325487*^9}, {3.890402656401352*^9, 3.890402663821278*^9}, {
   3.89059091223176*^9, 3.8905909132612534`*^9}, 3.890591364980472*^9, {
   3.905133531763711*^9, 3.90513353206312*^9}, {3.905133711614859*^9, 
   3.9051337200020237`*^9}, {3.905133860291556*^9, 3.905133871355505*^9}, 
   3.9051363434434032`*^9},ExpressionUUID->"d6919837-4c05-4021-b76e-\
47580fdb41fc"],

Cell[BoxData[
 RowBox[{
  RowBox[{"(*", 
   RowBox[{
   "dependence", " ", "on", " ", "j", " ", "implies", " ", "constant", " ", 
    "term", " ", "in", " ", "expansion", " ", "is", " ", "not", " ", 
    "necessarily", " ", "0"}], "*)"}], "\[IndentingNewLine]", 
  RowBox[{"And", "@@", 
   RowBox[{"{", "\[IndentingNewLine]", 
    RowBox[{"Not", "[", 
     RowBox[{
      RowBox[{"0", "===", 
       RowBox[{"Coefficient", "[", 
        RowBox[{
         RowBox[{
          RowBox[{"growth", "[", 
           RowBox[{"dc", ",", "t", ",", 
            RowBox[{"\"\<TimeAggregation\>\"", "->", "3"}], ",", 
            RowBox[{"\"\<numPeriods\>\"", "->", "3"}], ",", 
            RowBox[{"\"\<v0\>\"", "->", 
             RowBox[{"Function", "[", 
              RowBox[{
               RowBox[{"{", 
                RowBox[{
                "t", ",", "j", ",", "h", ",", "k", ",", "v", ",", "im"}], 
                "}"}], ",", "j"}], "]"}]}]}], "]"}], "/.", 
          RowBox[{
           RowBox[{"dc", "[", "__", "]"}], "->", "dcX"}]}], ",", "dcX", ",", 
         "0"}], "]"}]}], "//", "N"}], "]"}], "\[IndentingNewLine]", 
    "}"}]}]}]], "Input",
 CellChangeTimes->{{3.890384749988565*^9, 3.89038485124676*^9}, {
   3.890384994127694*^9, 3.89038503141006*^9}, {3.8903850922920303`*^9, 
   3.890385181129077*^9}, 3.890396600232943*^9, {3.890402515366212*^9, 
   3.890402515971282*^9}, 3.890590913478216*^9, {3.9051335358973503`*^9, 
   3.905133536123393*^9}, {3.905133728479306*^9, 3.905133728761042*^9}},
 CellLabel->"In[20]:=",ExpressionUUID->"a22f18fd-f3d1-4f08-a2b7-6fb4b4860778"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{
  RowBox[{"(*", 
   RowBox[{"v0", " ", "as", " ", "a", " ", "function", " ", "of", " ", "j"}], 
   "*)"}], "\[IndentingNewLine]", 
  RowBox[{"And", "@@", 
   RowBox[{"{", "\[IndentingNewLine]", 
    RowBox[{
     RowBox[{"growth", "[", 
      RowBox[{"dc", ",", "t", ",", 
       RowBox[{"\"\<TimeAggregation\>\"", "->", "3"}], ",", 
       RowBox[{"\"\<numPeriods\>\"", "->", "1"}], ",", 
       RowBox[{"\"\<v0\>\"", "->", 
        RowBox[{"Function", "[", 
         RowBox[{
          RowBox[{"{", 
           RowBox[{"t", ",", "j"}], "}"}], ",", "j"}], "]"}]}]}], "]"}], "==", 
     RowBox[{
      FractionBox[
       RowBox[{
        RowBox[{"-", "7"}], "-", 
        RowBox[{"3", " ", 
         SuperscriptBox["\[ExponentialE]", "4"]}], "+", 
        RowBox[{"dc", "[", 
         RowBox[{
          RowBox[{"-", "4"}], "+", "t"}], "]"}], "+", 
        RowBox[{"dc", "[", 
         RowBox[{
          RowBox[{"-", "3"}], "+", "t"}], "]"}], "+", 
        RowBox[{
         SuperscriptBox["\[ExponentialE]", "4"], " ", 
         RowBox[{"dc", "[", 
          RowBox[{
           RowBox[{"-", "3"}], "+", "t"}], "]"}]}]}], 
       RowBox[{"1", "+", 
        SuperscriptBox["\[ExponentialE]", "4"], "+", 
        SuperscriptBox["\[ExponentialE]", "7"]}]], "+", 
      RowBox[{"dc", "[", 
       RowBox[{
        RowBox[{"-", "2"}], "+", "t"}], "]"}], "+", 
      RowBox[{"dc", "[", 
       RowBox[{
        RowBox[{"-", "1"}], "+", "t"}], "]"}], "+", 
      RowBox[{"dc", "[", "t", "]"}], "+", 
      FractionBox[
       RowBox[{"1", "-", 
        RowBox[{"dc", "[", 
         RowBox[{
          RowBox[{"-", "1"}], "+", "t"}], "]"}], "-", 
        RowBox[{"dc", "[", "t", "]"}], "-", 
        RowBox[{"\[ExponentialE]", " ", 
         RowBox[{"dc", "[", "t", "]"}]}]}], 
       RowBox[{"1", "+", 
        RowBox[{"2", " ", "\[ExponentialE]"}]}]], "-", 
      RowBox[{"Log", "[", 
       RowBox[{"1", "+", 
        FractionBox["1", 
         SuperscriptBox["\[ExponentialE]", "7"]], "+", 
        FractionBox["1", 
         SuperscriptBox["\[ExponentialE]", "3"]]}], "]"}], "+", 
      RowBox[{"Log", "[", 
       RowBox[{"2", "+", 
        FractionBox["1", "\[ExponentialE]"]}], "]"}]}]}], 
    "\[IndentingNewLine]", "}"}]}]}]], "Input",
 CellGroupingRules->{"GroupTogetherGrouping", 10000.},
 CellChangeTimes->{{3.890188230618291*^9, 3.89018826221737*^9}, {
   3.8901960603832684`*^9, 3.890196060384165*^9}, 3.8903633949009027`*^9, {
   3.89038254616477*^9, 3.890382546165432*^9}, {3.890382638645205*^9, 
   3.89038268764703*^9}, {3.890382718668954*^9, 3.890383019692555*^9}, {
   3.890383053934743*^9, 3.8903830569041767`*^9}, {3.890383090604886*^9, 
   3.8903830994737673`*^9}, {3.890396605286977*^9, 3.8903966193629932`*^9}, {
   3.890396692666997*^9, 3.890396707758502*^9}, 3.890396747842326*^9, {
   3.8903967874492273`*^9, 3.890396787615608*^9}, 3.89059091373112*^9, {
   3.905132396038013*^9, 3.905132396806686*^9}, {3.905133538000011*^9, 
   3.905133538259054*^9}, {3.905133730773085*^9, 3.905133731047802*^9}},
 CellLabel->"In[21]:=",ExpressionUUID->"d5cca5ea-63f2-43b8-a9b7-4813ff2fe69b"],

Cell[BoxData[
 RowBox[{
  RowBox[{"(*", 
   RowBox[{"v0", " ", "as", " ", "a", " ", "function", " ", "of", " ", "v"}], 
   "*)"}], "\[IndentingNewLine]", 
  RowBox[{"And", "@@", 
   RowBox[{"{", "\[IndentingNewLine]", 
    RowBox[{
     RowBox[{"Not", "@", 
      RowBox[{"FreeQ", "[", 
       RowBox[{
        RowBox[{"growth", "[", 
         RowBox[{"dc", ",", "t", ",", 
          RowBox[{"\"\<TimeAggregation\>\"", "->", "3"}], ",", 
          RowBox[{"\"\<numPeriods\>\"", "->", "1"}], ",", 
          RowBox[{"\"\<v0\>\"", "->", 
           RowBox[{"Function", "[", 
            RowBox[{
             RowBox[{"{", 
              RowBox[{
              "t", ",", "j", ",", "h", ",", "k", ",", "v", ",", "im"}], "}"}],
              ",", 
             RowBox[{"If", "[", 
              RowBox[{
               RowBox[{"v", "===", "dc"}], ",", "Edc", ",", "0"}], "]"}]}], 
            "]"}]}]}], "]"}], ",", "Edc"}], "]"}]}], ",", 
     "\[IndentingNewLine]", 
     RowBox[{"FreeQ", "[", 
      RowBox[{
       RowBox[{"growth", "[", 
        RowBox[{"pi", ",", "t", ",", 
         RowBox[{"\"\<TimeAggregation\>\"", "->", "3"}], ",", 
         RowBox[{"\"\<numPeriods\>\"", "->", "1"}], ",", 
         RowBox[{"\"\<v0\>\"", "->", 
          RowBox[{"Function", "[", 
           RowBox[{
            RowBox[{"{", 
             RowBox[{"t", ",", "j", ",", "h", ",", "k", ",", "v", ",", "im"}],
              "}"}], ",", 
            RowBox[{"If", "[", 
             RowBox[{
              RowBox[{"v", "===", "dc"}], ",", "Edc", ",", "0"}], "]"}]}], 
           "]"}]}]}], "]"}], ",", "Edc"}], "]"}], ",", "\[IndentingNewLine]", 
     
     RowBox[{"Not", "@", 
      RowBox[{"FreeQ", "[", 
       RowBox[{
        RowBox[{"growth", "[", 
         RowBox[{"dd", ",", "t", ",", "i", ",", 
          RowBox[{"\"\<TimeAggregation\>\"", "->", "12"}], ",", 
          RowBox[{"\"\<numPeriods\>\"", "->", "1"}], ",", 
          RowBox[{"\"\<v0\>\"", "->", 
           RowBox[{"Function", "[", 
            RowBox[{
             RowBox[{"{", 
              RowBox[{
              "t", ",", "j", ",", "h", ",", "k", ",", "v", ",", "im"}], "}"}],
              ",", 
             RowBox[{"If", "[", 
              RowBox[{
               RowBox[{"v", "===", "dd"}], ",", "Edd", ",", "0"}], "]"}]}], 
            "]"}]}]}], "]"}], ",", "Edd"}], "]"}]}], ",", 
     "\[IndentingNewLine]", 
     RowBox[{"FreeQ", "[", 
      RowBox[{
       RowBox[{"growth", "[", 
        RowBox[{"dc", ",", "t", ",", 
         RowBox[{"\"\<TimeAggregation\>\"", "->", "12"}], ",", 
         RowBox[{"\"\<numPeriods\>\"", "->", "1"}], ",", 
         RowBox[{"\"\<v0\>\"", "->", 
          RowBox[{"Function", "[", 
           RowBox[{
            RowBox[{"{", 
             RowBox[{"t", ",", "j", ",", "h", ",", "k", ",", "v", ",", "im"}],
              "}"}], ",", 
            RowBox[{"If", "[", 
             RowBox[{
              RowBox[{"v", "===", "dd"}], ",", "Edd", ",", "0"}], "]"}]}], 
           "]"}]}]}], "]"}], ",", "Edd"}], "]"}]}], "\[IndentingNewLine]", 
    "}"}]}]}]], "Input",
 CellGroupingRules->{"GroupTogetherGrouping", 10000.},
 CellChangeTimes->{{3.890188230618291*^9, 3.89018826221737*^9}, {
   3.8901960603832684`*^9, 3.890196060384165*^9}, 3.8903633949009027`*^9, {
   3.89038254616477*^9, 3.890382546165432*^9}, {3.890382638645205*^9, 
   3.89038268764703*^9}, {3.890382718668954*^9, 3.890383019692555*^9}, {
   3.890383053934743*^9, 3.8903830569041767`*^9}, 3.890383090604886*^9, {
   3.890396606235301*^9, 3.890396607738501*^9}, {3.8905909142008133`*^9, 
   3.890590914880876*^9}, {3.89059141138151*^9, 3.890591470495411*^9}, {
   3.9051335405082083`*^9, 3.905133540756462*^9}, {3.905133733159277*^9, 
   3.905133733427733*^9}, {3.905133878581242*^9, 3.905133880046126*^9}, {
   3.905136349291803*^9, 
   3.905136364778743*^9}},ExpressionUUID->"5a6d819e-ac95-4587-9316-\
c1080209abec"],

Cell[BoxData[
 RowBox[{
  RowBox[{"(*", 
   RowBox[{
   "v0", " ", "given", " ", "by", " ", "unconditional", " ", "moments"}], 
   "*)"}], "\[IndentingNewLine]", 
  RowBox[{"And", "@@", 
   RowBox[{"{", "\[IndentingNewLine]", 
    RowBox[{
     RowBox[{"(", 
      RowBox[{
       RowBox[{"growth", "[", 
        RowBox[{"dc", ",", "t", ",", 
         RowBox[{"\"\<TimeAggregation\>\"", "->", "3"}], ",", 
         RowBox[{"\"\<numPeriods\>\"", "->", "1"}], ",", 
         RowBox[{"\"\<v0\>\"", "->", 
          RowBox[{"Function", "[", 
           RowBox[{
            RowBox[{"{", 
             RowBox[{"t", ",", "j", ",", "h", ",", "k", ",", "v", ",", "im"}],
              "}"}], ",", 
            RowBox[{"Evaluate", "@", 
             RowBox[{"uncondE", "[", 
              RowBox[{"dc", "[", "t", "]"}], "]"}]}]}], "]"}]}]}], "]"}], "/.", 
       RowBox[{
        RowBox[{"uncondE", "[", 
         RowBox[{"dc", "[", "t", "]"}], "]"}], "->", "0"}]}], ")"}], "==", 
     RowBox[{"(", 
      RowBox[{"growth", "[", 
       RowBox[{"dc", ",", "t", ",", 
        RowBox[{"\"\<TimeAggregation\>\"", "->", "3"}], ",", 
        RowBox[{"\"\<numPeriods\>\"", "->", "1"}]}], "]"}], ")"}]}], 
    "\[IndentingNewLine]", "}"}]}]}]], "Input",
 CellGroupingRules->{"GroupTogetherGrouping", 10000.},
 CellChangeTimes->{{3.890188230618291*^9, 3.89018826221737*^9}, {
   3.8901960603832684`*^9, 3.890196060384165*^9}, 3.8903633949009027`*^9, {
   3.89038254616477*^9, 3.890382546165432*^9}, {3.890382638645205*^9, 
   3.89038268764703*^9}, {3.890382718668954*^9, 3.890382961460165*^9}, {
   3.890396608520708*^9, 3.890396609023325*^9}, {3.890590915063204*^9, 
   3.890590915479714*^9}, {3.8905914964638453`*^9, 3.8905914966703653`*^9}, {
   3.9051335435378103`*^9, 3.905133543922841*^9}, {3.905133736006527*^9, 
   3.905133736288653*^9}},
 CellLabel->"In[23]:=",ExpressionUUID->"18c391b4-8c81-4bb4-9ed7-77a8133a8bc7"],

Cell[BoxData[
 RowBox[{
  RowBox[{"(*", 
   RowBox[{
    RowBox[{
     RowBox[{"v0", 
      RowBox[{"(", 
       RowBox[{"t", ",", "i"}], ")"}]}], "=", " ", 
     RowBox[{
      RowBox[{"v0", 
       RowBox[{"(", 
        RowBox[{"t", ",", 
         RowBox[{"kh", "+", "i"}]}], ")"}], " ", "for", " ", "i"}], "=", 
      "0"}]}], ",", "1", ",", "...", ",", 
    RowBox[{"h", "-", "2"}], ",", " ", 
    RowBox[{
    "constant", " ", "term", " ", "in", " ", "expansion", " ", "should", " ", 
     "be", " ", "0"}]}], "*)"}], "\[IndentingNewLine]", 
  RowBox[{
   RowBox[{
    RowBox[{"h", "=", "1"}], ";", 
    RowBox[{"k", "=", "1"}], ";"}], "\[IndentingNewLine]", 
   RowBox[{"And", "@@", 
    RowBox[{"{", "\[IndentingNewLine]", 
     RowBox[{
      RowBox[{"0", "===", 
       RowBox[{"Coefficient", "[", 
        RowBox[{
         RowBox[{
          RowBox[{"growth", "[", 
           RowBox[{"dc", ",", "t", ",", 
            RowBox[{"\"\<TimeAggregation\>\"", "->", "h"}], ",", 
            RowBox[{"\"\<numPeriods\>\"", "->", "k"}], ",", 
            RowBox[{"\"\<v0\>\"", "->", 
             RowBox[{"Function", "[", 
              RowBox[{
               RowBox[{"{", 
                RowBox[{
                "t", ",", "j", ",", "h", ",", "k", ",", "v", ",", "im"}], 
                "}"}], ",", 
               RowBox[{"F", "[", "t", "]"}]}], "]"}]}]}], "]"}], "/.", 
          RowBox[{
           RowBox[{"dc", "[", "__", "]"}], "->", "dcX"}]}], ",", "dcX", ",", 
         "0"}], "]"}]}], "//", "Simplify"}], "\[IndentingNewLine]", 
     "}"}]}]}]}]], "Input",
 CellGroupingRules->{"GroupTogetherGrouping", 10000.},
 CellChangeTimes->{{3.890402894534086*^9, 3.890403056502503*^9}, {
   3.890403106126875*^9, 3.890403163304315*^9}, {3.890403209187562*^9, 
   3.890403247505231*^9}, {3.890403378719262*^9, 3.8904034073321753`*^9}, {
   3.890403458564847*^9, 3.89040346182211*^9}, {3.890403497753498*^9, 
   3.8904035198822823`*^9}, {3.890403605784066*^9, 3.890403658758933*^9}, {
   3.890403710893354*^9, 3.890403713940164*^9}, 3.890403910953129*^9, {
   3.890404525747285*^9, 3.890404527300988*^9}, {3.8905909156814938`*^9, 
   3.890590916364067*^9}, {3.89059151163885*^9, 3.890591520161364*^9}, {
   3.905133547042287*^9, 3.905133568021709*^9}, {3.9051337386064653`*^9, 
   3.905133738849175*^9}},
 CellLabel->"In[24]:=",ExpressionUUID->"efff9494-08ee-4949-b606-aa21223f2029"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"h", "=", "2"}], ";", 
  RowBox[{"k", "=", "1"}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"rulej", "=", 
   RowBox[{"Table", "[", 
    RowBox[{
     RowBox[{
      RowBox[{"F", "[", "i", "]"}], "->", 
      RowBox[{"F", "[", 
       RowBox[{
        RowBox[{"h", "*", "k"}], "+", "i"}], "]"}]}], ",", 
     RowBox[{"{", 
      RowBox[{"i", ",", "0", ",", 
       RowBox[{"h", "-", "2"}]}], "}"}]}], "]"}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{"And", "@@", 
  RowBox[{"{", "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{"0", "===", 
     RowBox[{"Coefficient", "[", 
      RowBox[{
       RowBox[{
        RowBox[{
         RowBox[{"growth", "[", 
          RowBox[{"dc", ",", "t", ",", 
           RowBox[{"\"\<TimeAggregation\>\"", "->", "h"}], ",", 
           RowBox[{"\"\<numPeriods\>\"", "->", "k"}], ",", 
           RowBox[{"\"\<v0\>\"", "->", 
            RowBox[{"Function", "[", 
             RowBox[{
              RowBox[{"{", 
               RowBox[{
               "t", ",", "j", ",", "h", ",", "k", ",", "v", ",", "im"}], 
               "}"}], ",", 
              RowBox[{"F", "[", "j", "]"}]}], "]"}]}]}], "]"}], "/.", 
         "rulej"}], "/.", 
        RowBox[{
         RowBox[{"dc", "[", "__", "]"}], "->", "dcX"}]}], ",", "dcX", ",", 
       "0"}], "]"}]}], "//", "FullSimplify"}], "\[IndentingNewLine]", 
   "}"}]}]}], "Input",
 CellGroupingRules->{"GroupTogetherGrouping", 10000.},
 CellChangeTimes->{{3.890402894534086*^9, 3.890403056502503*^9}, {
   3.890403106126875*^9, 3.890403163304315*^9}, {3.890403209187562*^9, 
   3.890403247505231*^9}, {3.890403378719262*^9, 3.8904034073321753`*^9}, {
   3.890403458564847*^9, 3.89040346182211*^9}, {3.890403497753498*^9, 
   3.8904035198822823`*^9}, {3.890403605784066*^9, 3.890403658758933*^9}, {
   3.890403710893354*^9, 3.890403713940164*^9}, 3.890403910953129*^9, {
   3.890404525747285*^9, 3.890404527300988*^9}, {3.8905909156814938`*^9, 
   3.890590916364067*^9}, {3.89059151163885*^9, 3.890591520161364*^9}, {
   3.905133547042287*^9, 3.905133581723422*^9}, {3.905133741006398*^9, 
   3.9051337412281523`*^9}, {3.9051338967521563`*^9, 3.9051339002003317`*^9}, 
   3.905136320490988*^9},ExpressionUUID->"59f896a7-2115-4ec6-9872-\
8ab36dbb5447"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"h", "=", "3"}], ";", 
  RowBox[{"k", "=", "1"}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"rulej", "=", 
   RowBox[{"Table", "[", 
    RowBox[{
     RowBox[{
      RowBox[{"F", "[", "i", "]"}], "->", 
      RowBox[{"F", "[", 
       RowBox[{
        RowBox[{"h", "*", "k"}], "+", "i"}], "]"}]}], ",", 
     RowBox[{"{", 
      RowBox[{"i", ",", "0", ",", 
       RowBox[{"h", "-", "2"}]}], "}"}]}], "]"}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{"And", "@@", 
  RowBox[{"{", "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{"0", "===", 
     RowBox[{"Coefficient", "[", 
      RowBox[{
       RowBox[{
        RowBox[{
         RowBox[{"growth", "[", 
          RowBox[{"dc", ",", "t", ",", 
           RowBox[{"\"\<TimeAggregation\>\"", "->", "h"}], ",", 
           RowBox[{"\"\<numPeriods\>\"", "->", "k"}], ",", 
           RowBox[{"\"\<v0\>\"", "->", 
            RowBox[{"Function", "[", 
             RowBox[{
              RowBox[{"{", 
               RowBox[{
               "t", ",", "j", ",", "h", ",", "k", ",", "v", ",", "im"}], 
               "}"}], ",", 
              RowBox[{"F", "[", "j", "]"}]}], "]"}]}]}], "]"}], "/.", 
         "rulej"}], "/.", 
        RowBox[{
         RowBox[{"dc", "[", "__", "]"}], "->", "dcX"}]}], ",", "dcX", ",", 
       "0"}], "]"}]}], "//", "FullSimplify"}], "\[IndentingNewLine]", 
   "}"}]}]}], "Input",
 CellGroupingRules->{"GroupTogetherGrouping", 10000.},
 CellChangeTimes->{{3.890402894534086*^9, 3.890403056502503*^9}, {
   3.890403106126875*^9, 3.890403163304315*^9}, {3.890403209187562*^9, 
   3.890403247505231*^9}, {3.890403378719262*^9, 3.8904034073321753`*^9}, {
   3.890403458564847*^9, 3.89040346182211*^9}, {3.890403497753498*^9, 
   3.8904035198822823`*^9}, {3.890403605784066*^9, 3.890403658758933*^9}, {
   3.890403710893354*^9, 3.890403713940164*^9}, 3.890403910953129*^9, {
   3.890404525747285*^9, 3.890404527300988*^9}, {3.8905909156814938`*^9, 
   3.890590916364067*^9}, {3.89059151163885*^9, 3.890591520161364*^9}, {
   3.905133547042287*^9, 3.905133583961022*^9}, {3.905133743142974*^9, 
   3.9051337433615828`*^9}, {3.905133907161641*^9, 3.905133909483446*^9}},
 CellLabel->"In[29]:=",ExpressionUUID->"4818cc26-6240-4d77-b848-d4220896d9e7"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"h", "=", "4"}], ";", 
  RowBox[{"k", "=", "1"}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"rulej", "=", 
   RowBox[{"Table", "[", 
    RowBox[{
     RowBox[{
      RowBox[{"F", "[", "i", "]"}], "->", 
      RowBox[{"F", "[", 
       RowBox[{
        RowBox[{"h", "*", "k"}], "+", "i"}], "]"}]}], ",", 
     RowBox[{"{", 
      RowBox[{"i", ",", "0", ",", 
       RowBox[{"h", "-", "2"}]}], "}"}]}], "]"}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{"And", "@@", 
  RowBox[{"{", "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{"0", "===", 
     RowBox[{"Coefficient", "[", 
      RowBox[{
       RowBox[{
        RowBox[{
         RowBox[{"(", 
          RowBox[{"growth", "[", 
           RowBox[{"dc", ",", "t", ",", 
            RowBox[{"\"\<TimeAggregation\>\"", "->", "h"}], ",", 
            RowBox[{"\"\<numPeriods\>\"", "->", "k"}], ",", 
            RowBox[{"\"\<v0\>\"", "->", 
             RowBox[{"Function", "[", 
              RowBox[{
               RowBox[{"{", 
                RowBox[{
                "t", ",", "j", ",", "h", ",", "k", ",", "v", ",", "im"}], 
                "}"}], ",", 
               RowBox[{"F", "[", "j", "]"}]}], "]"}]}]}], "]"}], ")"}], "/.", 
         "rulej"}], "/.", 
        RowBox[{
         RowBox[{"dc", "[", "__", "]"}], "->", "dcX"}]}], ",", "dcX", ",", 
       "0"}], "]"}]}], "//", "FullSimplify"}], "\[IndentingNewLine]", 
   "}"}]}]}], "Input",
 CellGroupingRules->{"GroupTogetherGrouping", 10000.},
 CellChangeTimes->{{3.890402894534086*^9, 3.890403056502503*^9}, {
   3.890403106126875*^9, 3.890403163304315*^9}, {3.890403209187562*^9, 
   3.890403247505231*^9}, {3.890403378719262*^9, 3.8904034073321753`*^9}, {
   3.890403458564847*^9, 3.89040346182211*^9}, {3.890403497753498*^9, 
   3.8904035198822823`*^9}, {3.890403605784066*^9, 3.890403658758933*^9}, {
   3.890403710893354*^9, 3.890403713940164*^9}, 3.890403910953129*^9, {
   3.890404525747285*^9, 3.890404527300988*^9}, {3.8905909156814938`*^9, 
   3.890590916364067*^9}, {3.89059151163885*^9, 3.890591520161364*^9}, {
   3.905133547042287*^9, 3.905133586110395*^9}, {3.905133744718692*^9, 
   3.9051337449693747`*^9}, {3.905133913564341*^9, 3.9051339168687267`*^9}},
 CellLabel->"In[32]:=",ExpressionUUID->"49db62a4-7ffd-44ab-9a6a-296cd18a629c"],

Cell[BoxData[
 RowBox[{"And", "@@", 
  RowBox[{"{", "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{
     RowBox[{"Cases", "[", 
      RowBox[{
       RowBox[{"Expand", "@", 
        RowBox[{"growth", "[", 
         RowBox[{"dc", ",", "t", ",", 
          RowBox[{"\"\<TimeAggregation\>\"", "->", "3"}], ",", 
          RowBox[{"\"\<numPeriods\>\"", "->", "1"}], ",", 
          RowBox[{"\"\<Order\>\"", "->", "0"}]}], "]"}]}], ",", 
       RowBox[{
        RowBox[{"coef_.", " ", 
         SuperscriptBox[
          RowBox[{"dc", "[", "__", "]"}], "p_."]}], ":>", "p"}]}], "]"}], "===", 
     RowBox[{"{", "}"}]}], ",", "\[IndentingNewLine]", 
    RowBox[{
     RowBox[{"Max", "@", 
      RowBox[{"Cases", "[", 
       RowBox[{
        RowBox[{"Expand", "@", 
         RowBox[{"growth", "[", 
          RowBox[{"dc", ",", "t", ",", 
           RowBox[{"\"\<TimeAggregation\>\"", "->", "3"}], ",", 
           RowBox[{"\"\<numPeriods\>\"", "->", "1"}], ",", 
           RowBox[{"\"\<Order\>\"", "->", "1"}]}], "]"}]}], ",", 
        RowBox[{
         RowBox[{"coef_.", " ", 
          SuperscriptBox[
           RowBox[{"dc", "[", "__", "]"}], "p_."]}], ":>", "p"}]}], "]"}]}], "===",
      "1"}], ",", "\[IndentingNewLine]", 
    RowBox[{
     RowBox[{"Max", "@", 
      RowBox[{"Cases", "[", 
       RowBox[{
        RowBox[{"Expand", "@", 
         RowBox[{"growth", "[", 
          RowBox[{"dc", ",", "t", ",", 
           RowBox[{"\"\<TimeAggregation\>\"", "->", "3"}], ",", 
           RowBox[{"\"\<numPeriods\>\"", "->", "1"}], ",", 
           RowBox[{"\"\<Order\>\"", "->", "2"}]}], "]"}]}], ",", 
        RowBox[{
         RowBox[{"coef_.", " ", 
          SuperscriptBox[
           RowBox[{"dc", "[", "__", "]"}], "p_."]}], ":>", "p"}]}], "]"}]}], "===",
      "2"}], ",", "\[IndentingNewLine]", 
    RowBox[{
     RowBox[{"Max", "@", 
      RowBox[{"Cases", "[", 
       RowBox[{
        RowBox[{"Expand", "@", 
         RowBox[{"growth", "[", 
          RowBox[{"dc", ",", "t", ",", 
           RowBox[{"\"\<TimeAggregation\>\"", "->", "3"}], ",", 
           RowBox[{"\"\<numPeriods\>\"", "->", "1"}], ",", 
           RowBox[{"\"\<Order\>\"", "->", "3"}]}], "]"}]}], ",", 
        RowBox[{
         RowBox[{"coef_.", " ", 
          SuperscriptBox[
           RowBox[{"dc", "[", "__", "]"}], "p_."]}], ":>", "p"}]}], "]"}]}], "===",
      "3"}]}], "\[IndentingNewLine]", "}"}]}]], "Input",
 CellGroupingRules->{"GroupTogetherGrouping", 10000.},
 CellChangeTimes->{{3.8901882726262293`*^9, 3.890188293345408*^9}, {
   3.890196060398212*^9, 3.890196060400828*^9}, 3.890363394901119*^9, {
   3.8905909165812387`*^9, 3.8905909174315653`*^9}, {3.890591533014565*^9, 
   3.8905916929688272`*^9}, {3.905132467247383*^9, 3.905132467248948*^9}, {
   3.905133589108143*^9, 3.905133589301656*^9}, {3.905133747446377*^9, 
   3.905133747731835*^9}, {3.9051339341500053`*^9, 3.905133935386661*^9}},
 CellLabel->"In[35]:=",ExpressionUUID->"d11e4059-14aa-423d-970c-fa3eaed8cfe4"],

Cell[BoxData[
 RowBox[{
  RowBox[{"And", "@@", 
   RowBox[{"{", "\[IndentingNewLine]", 
    RowBox[{
     RowBox[{
      RowBox[{"Cases", "[", 
       RowBox[{
        RowBox[{"Expand", "@", 
         RowBox[{"growth", "[", 
          RowBox[{"dd", ",", "t", ",", "i", ",", 
           RowBox[{"\"\<TimeAggregation\>\"", "->", "3"}], ",", 
           RowBox[{"\"\<numPeriods\>\"", "->", "1"}], ",", 
           RowBox[{"\"\<Order\>\"", "->", "0"}]}], "]"}]}], ",", 
        RowBox[{
         RowBox[{"coef_.", " ", 
          SuperscriptBox[
           RowBox[{"dd", "[", 
            RowBox[{"__", ",", "i"}], "]"}], "p_."]}], ":>", "p"}]}], "]"}], "===", 
      RowBox[{"{", "}"}]}], ",", "\[IndentingNewLine]", 
     RowBox[{
      RowBox[{"Max", "@", 
       RowBox[{"Cases", "[", 
        RowBox[{
         RowBox[{"Expand", "@", 
          RowBox[{"growth", "[", 
           RowBox[{"dd", ",", "t", ",", "i", ",", 
            RowBox[{"\"\<TimeAggregation\>\"", "->", "3"}], ",", 
            RowBox[{"\"\<numPeriods\>\"", "->", "1"}], ",", 
            RowBox[{"\"\<Order\>\"", "->", "1"}]}], "]"}]}], ",", 
         RowBox[{
          RowBox[{"coef_.", " ", 
           SuperscriptBox[
            RowBox[{"dd", "[", 
             RowBox[{"__", ",", "i"}], "]"}], "p_."]}], ":>", "p"}]}], 
        "]"}]}], "===", "1"}], ",", "\[IndentingNewLine]", 
     RowBox[{
      RowBox[{"Max", "@", 
       RowBox[{"Cases", "[", 
        RowBox[{
         RowBox[{"Expand", "@", 
          RowBox[{"growth", "[", 
           RowBox[{"dd", ",", "t", ",", "i", ",", 
            RowBox[{"\"\<TimeAggregation\>\"", "->", "3"}], ",", 
            RowBox[{"\"\<numPeriods\>\"", "->", "1"}], ",", 
            RowBox[{"\"\<Order\>\"", "->", "2"}]}], "]"}]}], ",", 
         RowBox[{
          RowBox[{"coef_.", " ", 
           SuperscriptBox[
            RowBox[{"dd", "[", 
             RowBox[{"__", ",", "i"}], "]"}], "p_."]}], ":>", "p"}]}], 
        "]"}]}], "===", "2"}], ",", "\[IndentingNewLine]", 
     RowBox[{
      RowBox[{"Max", "@", 
       RowBox[{"Cases", "[", 
        RowBox[{
         RowBox[{"Expand", "@", 
          RowBox[{"growth", "[", 
           RowBox[{"dd", ",", "t", ",", "i", ",", 
            RowBox[{"\"\<TimeAggregation\>\"", "->", "3"}], ",", 
            RowBox[{"\"\<numPeriods\>\"", "->", "1"}], ",", 
            RowBox[{"\"\<Order\>\"", "->", "3"}]}], "]"}]}], ",", 
         RowBox[{
          RowBox[{"coef_.", " ", 
           SuperscriptBox[
            RowBox[{"dd", "[", 
             RowBox[{"__", ",", "i"}], "]"}], "p_."]}], ":>", "p"}]}], 
        "]"}]}], "===", "3"}]}], "\[IndentingNewLine]", "}"}]}], 
  "\[IndentingNewLine]"}]], "Input",
 CellGroupingRules->{"GroupTogetherGrouping", 10000.},
 CellChangeTimes->{{3.8901883116558*^9, 3.8901883252736263`*^9}, {
   3.890196060415234*^9, 3.890196060417364*^9}, 3.8903633949014187`*^9, {
   3.8905909176312428`*^9, 3.890590918316225*^9}, {3.890591699812582*^9, 
   3.890591736901132*^9}, {3.905132467253483*^9, 3.905132467254978*^9}, {
   3.905133591814699*^9, 3.9051335920151463`*^9}, {3.905133750006571*^9, 
   3.905133750248026*^9}, {3.9051339377340393`*^9, 3.9051339391968117`*^9}},
 CellLabel->"In[36]:=",ExpressionUUID->"9947f736-5cf4-45db-a397-1a45cbc15131"],

Cell[BoxData[{
 RowBox[{
  RowBox[{
  "f", "=", "FernandoDuarte`LongRunRisk`Tools`TimeAggregation`Private`f"}], 
  ";"}], "\n", 
 RowBox[{
  RowBox[{
  "g", "=", "FernandoDuarte`LongRunRisk`Tools`TimeAggregation`Private`g"}], 
  ";"}], "\n", 
 RowBox[{
  RowBox[{
  "s", "=", "FernandoDuarte`LongRunRisk`Tools`TimeAggregation`Private`s"}], 
  ";"}], "\n", 
 RowBox[{
  RowBox[{
  "timeSeriesVector", "=", 
   "FernandoDuarte`LongRunRisk`Tools`TimeAggregation`Private`\
timeSeriesVector"}], ";"}], "\n", 
 RowBox[{
  RowBox[{
  "gt", "=", "FernandoDuarte`LongRunRisk`Tools`TimeAggregation`Private`gt"}], 
  ";"}]}], "Input",
 CellGroupingRules->{"GroupTogetherGrouping", 10000.},
 CellChangeTimes->{{3.890324214710425*^9, 3.890324291626787*^9}, {
  3.890557726208962*^9, 3.8905577330232363`*^9}, {3.890590899317346*^9, 
  3.890590899457222*^9}, {3.905132536173502*^9, 3.905132555573162*^9}},
 CellLabel->"In[37]:=",ExpressionUUID->"500999e4-9b31-4fd5-b998-726d18a5fc92"],

Cell[BoxData[
 RowBox[{
  RowBox[{"(*", 
   RowBox[{"tests", " ", "gt"}], "*)"}], "\[IndentingNewLine]", 
  RowBox[{
   RowBox[{
    RowBox[{"h", "=", "3"}], ";", 
    RowBox[{"k", "=", "2"}], ";"}], "\[IndentingNewLine]", 
   RowBox[{"And", "@@", 
    RowBox[{"{", "\[IndentingNewLine]", 
     RowBox[{
      RowBox[{
       RowBox[{"gt", "[", 
        RowBox[{"dc", ",", "t"}], "]"}], "==", 
       RowBox[{"dc", "[", "t", "]"}]}], ",", "\[IndentingNewLine]", 
      RowBox[{
       RowBox[{"gt", "[", 
        RowBox[{"dc", ",", "t", ",", 
         RowBox[{"{", 
          RowBox[{
           RowBox[{"\"\<TimeAggregation\>\"", "->", "3"}], ",", 
           RowBox[{"\"\<numPeriods\>\"", "->", "k"}]}], "}"}]}], "]"}], "==", 
       
       RowBox[{
        RowBox[{"dc", "[", 
         RowBox[{
          RowBox[{"-", "5"}], "+", "t"}], "]"}], "+", 
        RowBox[{"dc", "[", 
         RowBox[{
          RowBox[{"-", "4"}], "+", "t"}], "]"}], "+", 
        RowBox[{"dc", "[", 
         RowBox[{
          RowBox[{"-", "3"}], "+", "t"}], "]"}], "+", 
        RowBox[{"dc", "[", 
         RowBox[{
          RowBox[{"-", "2"}], "+", "t"}], "]"}], "+", 
        RowBox[{"dc", "[", 
         RowBox[{
          RowBox[{"-", "1"}], "+", "t"}], "]"}], "+", 
        RowBox[{"dc", "[", "t", "]"}], "-", 
        RowBox[{"Log", "[", 
         RowBox[{"1", "+", 
          SuperscriptBox["\[ExponentialE]", 
           RowBox[{
            RowBox[{"-", 
             RowBox[{"dc", "[", 
              RowBox[{
               RowBox[{"-", "7"}], "+", "t"}], "]"}]}], "-", 
            RowBox[{"dc", "[", 
             RowBox[{
              RowBox[{"-", "6"}], "+", "t"}], "]"}]}]], "+", 
          SuperscriptBox["\[ExponentialE]", 
           RowBox[{"-", 
            RowBox[{"dc", "[", 
             RowBox[{
              RowBox[{"-", "6"}], "+", "t"}], "]"}]}]]}], "]"}], "+", 
        RowBox[{"Log", "[", 
         RowBox[{"1", "+", 
          SuperscriptBox["\[ExponentialE]", 
           RowBox[{
            RowBox[{"-", 
             RowBox[{"dc", "[", 
              RowBox[{
               RowBox[{"-", "1"}], "+", "t"}], "]"}]}], "-", 
            RowBox[{"dc", "[", "t", "]"}]}]], "+", 
          SuperscriptBox["\[ExponentialE]", 
           RowBox[{"-", 
            RowBox[{"dc", "[", "t", "]"}]}]]}], "]"}]}]}], ",", 
      "\[IndentingNewLine]", 
      RowBox[{
       RowBox[{"gt", "[", 
        RowBox[{"dc", ",", "t", ",", 
         RowBox[{"\"\<TimeAggregation\>\"", "->", "3"}], ",", 
         RowBox[{"\"\<numPeriods\>\"", "->", "k"}]}], "]"}], "==", 
       RowBox[{
        RowBox[{"dc", "[", 
         RowBox[{
          RowBox[{"-", "5"}], "+", "t"}], "]"}], "+", 
        RowBox[{"dc", "[", 
         RowBox[{
          RowBox[{"-", "4"}], "+", "t"}], "]"}], "+", 
        RowBox[{"dc", "[", 
         RowBox[{
          RowBox[{"-", "3"}], "+", "t"}], "]"}], "+", 
        RowBox[{"dc", "[", 
         RowBox[{
          RowBox[{"-", "2"}], "+", "t"}], "]"}], "+", 
        RowBox[{"dc", "[", 
         RowBox[{
          RowBox[{"-", "1"}], "+", "t"}], "]"}], "+", 
        RowBox[{"dc", "[", "t", "]"}], "-", 
        RowBox[{"Log", "[", 
         RowBox[{"1", "+", 
          SuperscriptBox["\[ExponentialE]", 
           RowBox[{
            RowBox[{"-", 
             RowBox[{"dc", "[", 
              RowBox[{
               RowBox[{"-", "7"}], "+", "t"}], "]"}]}], "-", 
            RowBox[{"dc", "[", 
             RowBox[{
              RowBox[{"-", "6"}], "+", "t"}], "]"}]}]], "+", 
          SuperscriptBox["\[ExponentialE]", 
           RowBox[{"-", 
            RowBox[{"dc", "[", 
             RowBox[{
              RowBox[{"-", "6"}], "+", "t"}], "]"}]}]]}], "]"}], "+", 
        RowBox[{"Log", "[", 
         RowBox[{"1", "+", 
          SuperscriptBox["\[ExponentialE]", 
           RowBox[{
            RowBox[{"-", 
             RowBox[{"dc", "[", 
              RowBox[{
               RowBox[{"-", "1"}], "+", "t"}], "]"}]}], "-", 
            RowBox[{"dc", "[", "t", "]"}]}]], "+", 
          SuperscriptBox["\[ExponentialE]", 
           RowBox[{"-", 
            RowBox[{"dc", "[", "t", "]"}]}]]}], "]"}]}]}], ",", 
      "\[IndentingNewLine]", "\[IndentingNewLine]", 
      RowBox[{
       RowBox[{"gt", "[", 
        RowBox[{"dd", ",", "t", ",", "i", ",", 
         RowBox[{"{", 
          RowBox[{
           RowBox[{"\"\<TimeAggregation\>\"", "->", "3"}], ",", 
           RowBox[{"\"\<numPeriods\>\"", "->", "k"}]}], "}"}]}], "]"}], "==", 
       
       RowBox[{
        RowBox[{"dd", "[", 
         RowBox[{
          RowBox[{
           RowBox[{"-", "5"}], "+", "t"}], ",", "i"}], "]"}], "+", 
        RowBox[{"dd", "[", 
         RowBox[{
          RowBox[{
           RowBox[{"-", "4"}], "+", "t"}], ",", "i"}], "]"}], "+", 
        RowBox[{"dd", "[", 
         RowBox[{
          RowBox[{
           RowBox[{"-", "3"}], "+", "t"}], ",", "i"}], "]"}], "+", 
        RowBox[{"dd", "[", 
         RowBox[{
          RowBox[{
           RowBox[{"-", "2"}], "+", "t"}], ",", "i"}], "]"}], "+", 
        RowBox[{"dd", "[", 
         RowBox[{
          RowBox[{
           RowBox[{"-", "1"}], "+", "t"}], ",", "i"}], "]"}], "+", 
        RowBox[{"dd", "[", 
         RowBox[{"t", ",", "i"}], "]"}], "-", 
        RowBox[{"Log", "[", 
         RowBox[{"1", "+", 
          SuperscriptBox["\[ExponentialE]", 
           RowBox[{
            RowBox[{"-", 
             RowBox[{"dd", "[", 
              RowBox[{
               RowBox[{
                RowBox[{"-", "7"}], "+", "t"}], ",", "i"}], "]"}]}], "-", 
            RowBox[{"dd", "[", 
             RowBox[{
              RowBox[{
               RowBox[{"-", "6"}], "+", "t"}], ",", "i"}], "]"}]}]], "+", 
          SuperscriptBox["\[ExponentialE]", 
           RowBox[{"-", 
            RowBox[{"dd", "[", 
             RowBox[{
              RowBox[{
               RowBox[{"-", "6"}], "+", "t"}], ",", "i"}], "]"}]}]]}], "]"}], 
        "+", 
        RowBox[{"Log", "[", 
         RowBox[{"1", "+", 
          SuperscriptBox["\[ExponentialE]", 
           RowBox[{
            RowBox[{"-", 
             RowBox[{"dd", "[", 
              RowBox[{
               RowBox[{
                RowBox[{"-", "1"}], "+", "t"}], ",", "i"}], "]"}]}], "-", 
            RowBox[{"dd", "[", 
             RowBox[{"t", ",", "i"}], "]"}]}]], "+", 
          SuperscriptBox["\[ExponentialE]", 
           RowBox[{"-", 
            RowBox[{"dd", "[", 
             RowBox[{"t", ",", "i"}], "]"}]}]]}], "]"}]}]}], ",", 
      "\[IndentingNewLine]", 
      RowBox[{
       RowBox[{"gt", "[", 
        RowBox[{"dd", ",", "t", ",", "i", ",", 
         RowBox[{"\"\<TimeAggregation\>\"", "->", "3"}], ",", 
         RowBox[{"\"\<numPeriods\>\"", "->", "k"}]}], "]"}], "==", 
       RowBox[{
        RowBox[{"dd", "[", 
         RowBox[{
          RowBox[{
           RowBox[{"-", "5"}], "+", "t"}], ",", "i"}], "]"}], "+", 
        RowBox[{"dd", "[", 
         RowBox[{
          RowBox[{
           RowBox[{"-", "4"}], "+", "t"}], ",", "i"}], "]"}], "+", 
        RowBox[{"dd", "[", 
         RowBox[{
          RowBox[{
           RowBox[{"-", "3"}], "+", "t"}], ",", "i"}], "]"}], "+", 
        RowBox[{"dd", "[", 
         RowBox[{
          RowBox[{
           RowBox[{"-", "2"}], "+", "t"}], ",", "i"}], "]"}], "+", 
        RowBox[{"dd", "[", 
         RowBox[{
          RowBox[{
           RowBox[{"-", "1"}], "+", "t"}], ",", "i"}], "]"}], "+", 
        RowBox[{"dd", "[", 
         RowBox[{"t", ",", "i"}], "]"}], "-", 
        RowBox[{"Log", "[", 
         RowBox[{"1", "+", 
          SuperscriptBox["\[ExponentialE]", 
           RowBox[{
            RowBox[{"-", 
             RowBox[{"dd", "[", 
              RowBox[{
               RowBox[{
                RowBox[{"-", "7"}], "+", "t"}], ",", "i"}], "]"}]}], "-", 
            RowBox[{"dd", "[", 
             RowBox[{
              RowBox[{
               RowBox[{"-", "6"}], "+", "t"}], ",", "i"}], "]"}]}]], "+", 
          SuperscriptBox["\[ExponentialE]", 
           RowBox[{"-", 
            RowBox[{"dd", "[", 
             RowBox[{
              RowBox[{
               RowBox[{"-", "6"}], "+", "t"}], ",", "i"}], "]"}]}]]}], "]"}], 
        "+", 
        RowBox[{"Log", "[", 
         RowBox[{"1", "+", 
          SuperscriptBox["\[ExponentialE]", 
           RowBox[{
            RowBox[{"-", 
             RowBox[{"dd", "[", 
              RowBox[{
               RowBox[{
                RowBox[{"-", "1"}], "+", "t"}], ",", "i"}], "]"}]}], "-", 
            RowBox[{"dd", "[", 
             RowBox[{"t", ",", "i"}], "]"}]}]], "+", 
          SuperscriptBox["\[ExponentialE]", 
           RowBox[{"-", 
            RowBox[{"dd", "[", 
             RowBox[{"t", ",", "i"}], "]"}]}]]}], "]"}]}]}], ",", 
      "\[IndentingNewLine]", "\[IndentingNewLine]", 
      RowBox[{
       RowBox[{"gt", "[", 
        RowBox[{"dd", ",", "t", ",", "1", ",", 
         RowBox[{"{", 
          RowBox[{
           RowBox[{"\"\<TimeAggregation\>\"", "->", "3"}], ",", 
           RowBox[{"\"\<numPeriods\>\"", "->", "k"}]}], "}"}]}], "]"}], "==", 
       
       RowBox[{
        RowBox[{"dd", "[", 
         RowBox[{
          RowBox[{
           RowBox[{"-", "5"}], "+", "t"}], ",", "1"}], "]"}], "+", 
        RowBox[{"dd", "[", 
         RowBox[{
          RowBox[{
           RowBox[{"-", "4"}], "+", "t"}], ",", "1"}], "]"}], "+", 
        RowBox[{"dd", "[", 
         RowBox[{
          RowBox[{
           RowBox[{"-", "3"}], "+", "t"}], ",", "1"}], "]"}], "+", 
        RowBox[{"dd", "[", 
         RowBox[{
          RowBox[{
           RowBox[{"-", "2"}], "+", "t"}], ",", "1"}], "]"}], "+", 
        RowBox[{"dd", "[", 
         RowBox[{
          RowBox[{
           RowBox[{"-", "1"}], "+", "t"}], ",", "1"}], "]"}], "+", 
        RowBox[{"dd", "[", 
         RowBox[{"t", ",", "1"}], "]"}], "-", 
        RowBox[{"Log", "[", 
         RowBox[{"1", "+", 
          SuperscriptBox["\[ExponentialE]", 
           RowBox[{
            RowBox[{"-", 
             RowBox[{"dd", "[", 
              RowBox[{
               RowBox[{
                RowBox[{"-", "7"}], "+", "t"}], ",", "1"}], "]"}]}], "-", 
            RowBox[{"dd", "[", 
             RowBox[{
              RowBox[{
               RowBox[{"-", "6"}], "+", "t"}], ",", "1"}], "]"}]}]], "+", 
          SuperscriptBox["\[ExponentialE]", 
           RowBox[{"-", 
            RowBox[{"dd", "[", 
             RowBox[{
              RowBox[{
               RowBox[{"-", "6"}], "+", "t"}], ",", "1"}], "]"}]}]]}], "]"}], 
        "+", 
        RowBox[{"Log", "[", 
         RowBox[{"1", "+", 
          SuperscriptBox["\[ExponentialE]", 
           RowBox[{
            RowBox[{"-", 
             RowBox[{"dd", "[", 
              RowBox[{
               RowBox[{
                RowBox[{"-", "1"}], "+", "t"}], ",", "1"}], "]"}]}], "-", 
            RowBox[{"dd", "[", 
             RowBox[{"t", ",", "1"}], "]"}]}]], "+", 
          SuperscriptBox["\[ExponentialE]", 
           RowBox[{"-", 
            RowBox[{"dd", "[", 
             RowBox[{"t", ",", "1"}], "]"}]}]]}], "]"}]}]}], ",", 
      "\[IndentingNewLine]", 
      RowBox[{
       RowBox[{"gt", "[", 
        RowBox[{"dd", ",", "t", ",", "2", ",", 
         RowBox[{"\"\<TimeAggregation\>\"", "->", "3"}], ",", 
         RowBox[{"\"\<numPeriods\>\"", "->", "k"}]}], "]"}], "==", 
       RowBox[{
        RowBox[{"dd", "[", 
         RowBox[{
          RowBox[{
           RowBox[{"-", "5"}], "+", "t"}], ",", "2"}], "]"}], "+", 
        RowBox[{"dd", "[", 
         RowBox[{
          RowBox[{
           RowBox[{"-", "4"}], "+", "t"}], ",", "2"}], "]"}], "+", 
        RowBox[{"dd", "[", 
         RowBox[{
          RowBox[{
           RowBox[{"-", "3"}], "+", "t"}], ",", "2"}], "]"}], "+", 
        RowBox[{"dd", "[", 
         RowBox[{
          RowBox[{
           RowBox[{"-", "2"}], "+", "t"}], ",", "2"}], "]"}], "+", 
        RowBox[{"dd", "[", 
         RowBox[{
          RowBox[{
           RowBox[{"-", "1"}], "+", "t"}], ",", "2"}], "]"}], "+", 
        RowBox[{"dd", "[", 
         RowBox[{"t", ",", "2"}], "]"}], "-", 
        RowBox[{"Log", "[", 
         RowBox[{"1", "+", 
          SuperscriptBox["\[ExponentialE]", 
           RowBox[{
            RowBox[{"-", 
             RowBox[{"dd", "[", 
              RowBox[{
               RowBox[{
                RowBox[{"-", "7"}], "+", "t"}], ",", "2"}], "]"}]}], "-", 
            RowBox[{"dd", "[", 
             RowBox[{
              RowBox[{
               RowBox[{"-", "6"}], "+", "t"}], ",", "2"}], "]"}]}]], "+", 
          SuperscriptBox["\[ExponentialE]", 
           RowBox[{"-", 
            RowBox[{"dd", "[", 
             RowBox[{
              RowBox[{
               RowBox[{"-", "6"}], "+", "t"}], ",", "2"}], "]"}]}]]}], "]"}], 
        "+", 
        RowBox[{"Log", "[", 
         RowBox[{"1", "+", 
          SuperscriptBox["\[ExponentialE]", 
           RowBox[{
            RowBox[{"-", 
             RowBox[{"dd", "[", 
              RowBox[{
               RowBox[{
                RowBox[{"-", "1"}], "+", "t"}], ",", "2"}], "]"}]}], "-", 
            RowBox[{"dd", "[", 
             RowBox[{"t", ",", "2"}], "]"}]}]], "+", 
          SuperscriptBox["\[ExponentialE]", 
           RowBox[{"-", 
            RowBox[{"dd", "[", 
             RowBox[{"t", ",", "2"}], "]"}]}]]}], "]"}]}]}]}], 
     "\[IndentingNewLine]", "}"}]}]}]}]], "Input",
 CellGroupingRules->{"GroupTogetherGrouping", 10000.},
 CellChangeTimes->{{3.890180790288171*^9, 3.89018090596798*^9}, {
   3.890195412403283*^9, 3.890195414110985*^9}, {3.890195786875156*^9, 
   3.890195808972714*^9}, {3.89019606045087*^9, 3.890196060454335*^9}, 
   3.8903633949018908`*^9, {3.9051332233317833`*^9, 3.90513325960448*^9}, {
   3.905133596330532*^9, 3.905133596564281*^9}, {3.905133756758236*^9, 
   3.905133757029606*^9}, {3.905133945499896*^9, 3.905133954636455*^9}},
 CellLabel->"In[42]:=",ExpressionUUID->"528b869b-a929-4b3e-8a0f-dd75c4e6ca31"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"h", "=", "3"}], ";", 
  RowBox[{"k", "=", "2"}], ";"}], "\[IndentingNewLine]", 
 RowBox[{"And", "@@", 
  RowBox[{"{", "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{
     RowBox[{"gt", "[", 
      RowBox[{"dc", ",", "t"}], "]"}], "==", 
     RowBox[{"dc", "[", "t", "]"}]}], ",", "\[IndentingNewLine]", 
    RowBox[{
     RowBox[{"gt", "[", 
      RowBox[{"dc", ",", "t", ",", 
       RowBox[{"\"\<flowVariable\>\"", "->", "False"}]}], "]"}], "==", 
     RowBox[{"dc", "[", "t", "]"}]}], ",", "\[IndentingNewLine]", 
    RowBox[{
     RowBox[{"gt", "[", 
      RowBox[{"dc", ",", "t", ",", 
       RowBox[{"\"\<TimeAggregation\>\"", "->", "3"}], ",", 
       RowBox[{"\"\<flowVariable\>\"", "->", "False"}]}], "]"}], "==", 
     RowBox[{
      RowBox[{"dc", "[", 
       RowBox[{
        RowBox[{"-", "2"}], "+", "t"}], "]"}], "+", 
      RowBox[{"dc", "[", 
       RowBox[{
        RowBox[{"-", "1"}], "+", "t"}], "]"}], "+", 
      RowBox[{"dc", "[", "t", "]"}]}]}], ",", "\[IndentingNewLine]", 
    "\[IndentingNewLine]", 
    RowBox[{
     RowBox[{"gt", "[", 
      RowBox[{"dd", ",", "t", ",", "i", ",", 
       RowBox[{"{", 
        RowBox[{"\"\<numPeriods\>\"", "->", "k"}], "}"}], ",", 
       RowBox[{"\"\<flowVariable\>\"", "->", "False"}]}], "]"}], "==", 
     RowBox[{
      RowBox[{"dd", "[", 
       RowBox[{
        RowBox[{
         RowBox[{"-", "1"}], "+", "t"}], ",", "i"}], "]"}], "+", 
      RowBox[{"dd", "[", 
       RowBox[{"t", ",", "i"}], "]"}]}]}], ",", "\[IndentingNewLine]", 
    RowBox[{
     RowBox[{"gt", "[", 
      RowBox[{"dd", ",", "t", ",", "i", ",", 
       RowBox[{"\"\<flowVariable\>\"", "->", "False"}]}], "]"}], "==", 
     RowBox[{"dd", "[", 
      RowBox[{"t", ",", "i"}], "]"}]}], ",", "\[IndentingNewLine]", 
    "\[IndentingNewLine]", 
    RowBox[{
     RowBox[{"gt", "[", 
      RowBox[{"dd", ",", "t", ",", "1", ",", 
       RowBox[{"{", 
        RowBox[{"\"\<TimeAggregation\>\"", "->", "3"}], "}"}], ",", 
       RowBox[{"\"\<flowVariable\>\"", "->", "False"}]}], "]"}], "==", 
     RowBox[{
      RowBox[{"dd", "[", 
       RowBox[{
        RowBox[{
         RowBox[{"-", "2"}], "+", "t"}], ",", "1"}], "]"}], "+", 
      RowBox[{"dd", "[", 
       RowBox[{
        RowBox[{
         RowBox[{"-", "1"}], "+", "t"}], ",", "1"}], "]"}], "+", 
      RowBox[{"dd", "[", 
       RowBox[{"t", ",", "1"}], "]"}]}]}], ",", "\[IndentingNewLine]", 
    RowBox[{
     RowBox[{"gt", "[", 
      RowBox[{"dd", ",", "t", ",", "2", ",", 
       RowBox[{"\"\<flowVariable\>\"", "->", "False"}]}], "]"}], "==", 
     RowBox[{"dd", "[", 
      RowBox[{"t", ",", "2"}], "]"}]}]}], "\[IndentingNewLine]", 
   "}"}]}]}], "Input",
 CellGroupingRules->{"GroupTogetherGrouping", 10000.},
 CellChangeTimes->{{3.890197273875286*^9, 3.890197294899378*^9}, 
   3.890363394902141*^9, {3.905133153189486*^9, 3.905133178916025*^9}, {
   3.90513321252802*^9, 3.905133212988543*^9}, {3.9051336023048573`*^9, 
   3.9051336024675837`*^9}, {3.90513376046955*^9, 3.905133760692553*^9}, {
   3.90513396234122*^9, 3.905133969820135*^9}, 
   3.905136381547068*^9},ExpressionUUID->"5c29075b-e399-4225-b0f0-\
79fc5e7f9d80"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"h", "=", "3"}], ";", 
  RowBox[{"k", "=", "2"}], ";"}], "\[IndentingNewLine]", 
 RowBox[{"And", "@@", 
  RowBox[{"{", "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{
     RowBox[{"gt", "[", 
      RowBox[{"dc", ",", "t"}], "]"}], "==", 
     RowBox[{"dc", "[", "t", "]"}]}], ",", "\[IndentingNewLine]", 
    RowBox[{
     RowBox[{"gt", "[", 
      RowBox[{"dc", ",", "t", ",", 
       RowBox[{"{", 
        RowBox[{
         RowBox[{"\"\<TimeAggregation\>\"", "->", "h"}], ",", 
         RowBox[{"\"\<numPeriods\>\"", "->", "k"}]}], "}"}], ",", 
       RowBox[{"\"\<flowVariable\>\"", "->", "False"}]}], "]"}], "==", 
     RowBox[{
      RowBox[{"dc", "[", 
       RowBox[{
        RowBox[{"-", "5"}], "+", "t"}], "]"}], "+", 
      RowBox[{"dc", "[", 
       RowBox[{
        RowBox[{"-", "4"}], "+", "t"}], "]"}], "+", 
      RowBox[{"dc", "[", 
       RowBox[{
        RowBox[{"-", "3"}], "+", "t"}], "]"}], "+", 
      RowBox[{"dc", "[", 
       RowBox[{
        RowBox[{"-", "2"}], "+", "t"}], "]"}], "+", 
      RowBox[{"dc", "[", 
       RowBox[{
        RowBox[{"-", "1"}], "+", "t"}], "]"}], "+", 
      RowBox[{"dc", "[", "t", "]"}]}]}], ",", "\[IndentingNewLine]", 
    RowBox[{
     RowBox[{"gt", "[", 
      RowBox[{"dc", ",", "t", ",", 
       RowBox[{"\"\<TimeAggregation\>\"", "->", "h"}], ",", 
       RowBox[{"\"\<numPeriods\>\"", "->", "k"}], ",", 
       RowBox[{"\"\<flowVariable\>\"", "->", "False"}]}], "]"}], "==", 
     RowBox[{
      RowBox[{"dc", "[", 
       RowBox[{
        RowBox[{"-", "5"}], "+", "t"}], "]"}], "+", 
      RowBox[{"dc", "[", 
       RowBox[{
        RowBox[{"-", "4"}], "+", "t"}], "]"}], "+", 
      RowBox[{"dc", "[", 
       RowBox[{
        RowBox[{"-", "3"}], "+", "t"}], "]"}], "+", 
      RowBox[{"dc", "[", 
       RowBox[{
        RowBox[{"-", "2"}], "+", "t"}], "]"}], "+", 
      RowBox[{"dc", "[", 
       RowBox[{
        RowBox[{"-", "1"}], "+", "t"}], "]"}], "+", 
      RowBox[{"dc", "[", "t", "]"}]}]}], ",", "\[IndentingNewLine]", 
    "\[IndentingNewLine]", 
    RowBox[{
     RowBox[{"gt", "[", 
      RowBox[{"dd", ",", "t", ",", "i", ",", 
       RowBox[{"{", 
        RowBox[{
         RowBox[{"\"\<TimeAggregation\>\"", "->", "h"}], ",", 
         RowBox[{"\"\<numPeriods\>\"", "->", "k"}]}], "}"}], ",", 
       RowBox[{"\"\<flowVariable\>\"", "->", "False"}]}], "]"}], "==", 
     RowBox[{
      RowBox[{"dd", "[", 
       RowBox[{
        RowBox[{
         RowBox[{"-", "5"}], "+", "t"}], ",", "i"}], "]"}], "+", 
      RowBox[{"dd", "[", 
       RowBox[{
        RowBox[{
         RowBox[{"-", "4"}], "+", "t"}], ",", "i"}], "]"}], "+", 
      RowBox[{"dd", "[", 
       RowBox[{
        RowBox[{
         RowBox[{"-", "3"}], "+", "t"}], ",", "i"}], "]"}], "+", 
      RowBox[{"dd", "[", 
       RowBox[{
        RowBox[{
         RowBox[{"-", "2"}], "+", "t"}], ",", "i"}], "]"}], "+", 
      RowBox[{"dd", "[", 
       RowBox[{
        RowBox[{
         RowBox[{"-", "1"}], "+", "t"}], ",", "i"}], "]"}], "+", 
      RowBox[{"dd", "[", 
       RowBox[{"t", ",", "i"}], "]"}]}]}], ",", "\[IndentingNewLine]", 
    RowBox[{
     RowBox[{"gt", "[", 
      RowBox[{"dd", ",", "t", ",", "i", ",", 
       RowBox[{"\"\<TimeAggregation\>\"", "->", "h"}], ",", 
       RowBox[{"\"\<numPeriods\>\"", "->", "k"}], ",", 
       RowBox[{"\"\<flowVariable\>\"", "->", "False"}]}], "]"}], "==", 
     RowBox[{
      RowBox[{"dd", "[", 
       RowBox[{
        RowBox[{
         RowBox[{"-", "5"}], "+", "t"}], ",", "i"}], "]"}], "+", 
      RowBox[{"dd", "[", 
       RowBox[{
        RowBox[{
         RowBox[{"-", "4"}], "+", "t"}], ",", "i"}], "]"}], "+", 
      RowBox[{"dd", "[", 
       RowBox[{
        RowBox[{
         RowBox[{"-", "3"}], "+", "t"}], ",", "i"}], "]"}], "+", 
      RowBox[{"dd", "[", 
       RowBox[{
        RowBox[{
         RowBox[{"-", "2"}], "+", "t"}], ",", "i"}], "]"}], "+", 
      RowBox[{"dd", "[", 
       RowBox[{
        RowBox[{
         RowBox[{"-", "1"}], "+", "t"}], ",", "i"}], "]"}], "+", 
      RowBox[{"dd", "[", 
       RowBox[{"t", ",", "i"}], "]"}]}]}], ",", "\[IndentingNewLine]", 
    "\[IndentingNewLine]", 
    RowBox[{
     RowBox[{"gt", "[", 
      RowBox[{"dd", ",", "t", ",", "1", ",", 
       RowBox[{"{", 
        RowBox[{
         RowBox[{"\"\<TimeAggregation\>\"", "->", "h"}], ",", 
         RowBox[{"\"\<numPeriods\>\"", "->", "k"}]}], "}"}], ",", 
       RowBox[{"\"\<flowVariable\>\"", "->", "False"}]}], "]"}], "==", 
     RowBox[{
      RowBox[{"dd", "[", 
       RowBox[{
        RowBox[{
         RowBox[{"-", "5"}], "+", "t"}], ",", "1"}], "]"}], "+", 
      RowBox[{"dd", "[", 
       RowBox[{
        RowBox[{
         RowBox[{"-", "4"}], "+", "t"}], ",", "1"}], "]"}], "+", 
      RowBox[{"dd", "[", 
       RowBox[{
        RowBox[{
         RowBox[{"-", "3"}], "+", "t"}], ",", "1"}], "]"}], "+", 
      RowBox[{"dd", "[", 
       RowBox[{
        RowBox[{
         RowBox[{"-", "2"}], "+", "t"}], ",", "1"}], "]"}], "+", 
      RowBox[{"dd", "[", 
       RowBox[{
        RowBox[{
         RowBox[{"-", "1"}], "+", "t"}], ",", "1"}], "]"}], "+", 
      RowBox[{"dd", "[", 
       RowBox[{"t", ",", "1"}], "]"}]}]}], ",", "\[IndentingNewLine]", 
    RowBox[{
     RowBox[{"gt", "[", 
      RowBox[{"dd", ",", "t", ",", "2", ",", 
       RowBox[{"\"\<TimeAggregation\>\"", "->", "h"}], ",", 
       RowBox[{"\"\<numPeriods\>\"", "->", "k"}], ",", 
       RowBox[{"\"\<flowVariable\>\"", "->", "False"}]}], "]"}], "==", 
     RowBox[{
      RowBox[{"dd", "[", 
       RowBox[{
        RowBox[{
         RowBox[{"-", "5"}], "+", "t"}], ",", "2"}], "]"}], "+", 
      RowBox[{"dd", "[", 
       RowBox[{
        RowBox[{
         RowBox[{"-", "4"}], "+", "t"}], ",", "2"}], "]"}], "+", 
      RowBox[{"dd", "[", 
       RowBox[{
        RowBox[{
         RowBox[{"-", "3"}], "+", "t"}], ",", "2"}], "]"}], "+", 
      RowBox[{"dd", "[", 
       RowBox[{
        RowBox[{
         RowBox[{"-", "2"}], "+", "t"}], ",", "2"}], "]"}], "+", 
      RowBox[{"dd", "[", 
       RowBox[{
        RowBox[{
         RowBox[{"-", "1"}], "+", "t"}], ",", "2"}], "]"}], "+", 
      RowBox[{"dd", "[", 
       RowBox[{"t", ",", "2"}], "]"}]}]}]}], "\[IndentingNewLine]", 
   "}"}]}]}], "Input",
 CellGroupingRules->{"GroupTogetherGrouping", 10000.},
 CellChangeTimes->{{3.8901972418340797`*^9, 3.890197267323588*^9}, 
   3.890363394902462*^9, {3.905133045526786*^9, 3.90513314489176*^9}, {
   3.9051336098492947`*^9, 3.905133614733652*^9}, {3.905133763085433*^9, 
   3.905133763288706*^9}, {3.9051339727076263`*^9, 3.905133977340766*^9}, {
   3.905134225658861*^9, 3.905134236417222*^9}, {3.905134311221683*^9, 
   3.9051343407336597`*^9}},
 CellLabel->"In[46]:=",ExpressionUUID->"5eab25b6-62f3-4692-84c3-210227d88214"],

Cell[BoxData[
 RowBox[{
  RowBox[{"(*", 
   RowBox[{"tests", " ", 
    RowBox[{"g", "[", "timeSeriesVector", "]"}]}], "*)"}], 
  "\[IndentingNewLine]", 
  RowBox[{
   RowBox[{
    RowBox[{"h", "=", "3"}], ";", 
    RowBox[{"k", "=", "1"}], ";"}], "\[IndentingNewLine]", 
   RowBox[{"And", "@@", 
    RowBox[{"{", "\[IndentingNewLine]", 
     RowBox[{
      RowBox[{
       RowBox[{"g", "[", 
        RowBox[{
         RowBox[{"timeSeriesVector", "[", 
          RowBox[{"dc", ",", "t", ",", 
           RowBox[{"\"\<TimeAggregation\>\"", "->", "h"}]}], "]"}], ",", 
         "h"}], "]"}], "==", 
       RowBox[{
        RowBox[{"dc", "[", 
         RowBox[{
          RowBox[{"-", "2"}], "+", "t"}], "]"}], "+", 
        RowBox[{"dc", "[", 
         RowBox[{
          RowBox[{"-", "1"}], "+", "t"}], "]"}], "+", 
        RowBox[{"dc", "[", "t", "]"}], "-", 
        RowBox[{"Log", "[", 
         RowBox[{"1", "+", 
          SuperscriptBox["\[ExponentialE]", 
           RowBox[{
            RowBox[{"-", 
             RowBox[{"dc", "[", 
              RowBox[{
               RowBox[{"-", "4"}], "+", "t"}], "]"}]}], "-", 
            RowBox[{"dc", "[", 
             RowBox[{
              RowBox[{"-", "3"}], "+", "t"}], "]"}]}]], "+", 
          SuperscriptBox["\[ExponentialE]", 
           RowBox[{"-", 
            RowBox[{"dc", "[", 
             RowBox[{
              RowBox[{"-", "3"}], "+", "t"}], "]"}]}]]}], "]"}], "+", 
        RowBox[{"Log", "[", 
         RowBox[{"1", "+", 
          SuperscriptBox["\[ExponentialE]", 
           RowBox[{
            RowBox[{"-", 
             RowBox[{"dc", "[", 
              RowBox[{
               RowBox[{"-", "1"}], "+", "t"}], "]"}]}], "-", 
            RowBox[{"dc", "[", "t", "]"}]}]], "+", 
          SuperscriptBox["\[ExponentialE]", 
           RowBox[{"-", 
            RowBox[{"dc", "[", "t", "]"}]}]]}], "]"}]}]}], ",", 
      "\[IndentingNewLine]", 
      RowBox[{
       RowBox[{"g", "[", 
        RowBox[{
         RowBox[{"timeSeriesVector", "[", 
          RowBox[{"dc", ",", "t", ",", 
           RowBox[{"\"\<numPeriods\>\"", "->", "k"}]}], "]"}], ",", "1", ",", 
         "k"}], "]"}], "==", 
       RowBox[{"dc", "[", "t", "]"}]}], ",", "\[IndentingNewLine]", 
      RowBox[{
       RowBox[{"g", "[", 
        RowBox[{
         RowBox[{"timeSeriesVector", "[", 
          RowBox[{"dc", ",", "t", ",", 
           RowBox[{"{", 
            RowBox[{
             RowBox[{"\"\<TimeAggregation\>\"", "->", "h"}], ",", 
             RowBox[{"\"\<numPeriods\>\"", "->", "k"}]}], "}"}]}], "]"}], ",",
          "h", ",", "k"}], "]"}], "==", 
       RowBox[{
        RowBox[{"dc", "[", 
         RowBox[{
          RowBox[{"-", "2"}], "+", "t"}], "]"}], "+", 
        RowBox[{"dc", "[", 
         RowBox[{
          RowBox[{"-", "1"}], "+", "t"}], "]"}], "+", 
        RowBox[{"dc", "[", "t", "]"}], "-", 
        RowBox[{"Log", "[", 
         RowBox[{"1", "+", 
          SuperscriptBox["\[ExponentialE]", 
           RowBox[{
            RowBox[{"-", 
             RowBox[{"dc", "[", 
              RowBox[{
               RowBox[{"-", "4"}], "+", "t"}], "]"}]}], "-", 
            RowBox[{"dc", "[", 
             RowBox[{
              RowBox[{"-", "3"}], "+", "t"}], "]"}]}]], "+", 
          SuperscriptBox["\[ExponentialE]", 
           RowBox[{"-", 
            RowBox[{"dc", "[", 
             RowBox[{
              RowBox[{"-", "3"}], "+", "t"}], "]"}]}]]}], "]"}], "+", 
        RowBox[{"Log", "[", 
         RowBox[{"1", "+", 
          SuperscriptBox["\[ExponentialE]", 
           RowBox[{
            RowBox[{"-", 
             RowBox[{"dc", "[", 
              RowBox[{
               RowBox[{"-", "1"}], "+", "t"}], "]"}]}], "-", 
            RowBox[{"dc", "[", "t", "]"}]}]], "+", 
          SuperscriptBox["\[ExponentialE]", 
           RowBox[{"-", 
            RowBox[{"dc", "[", "t", "]"}]}]]}], "]"}]}]}], ",", 
      "\[IndentingNewLine]", 
      RowBox[{
       RowBox[{"g", "[", 
        RowBox[{
         RowBox[{"timeSeriesVector", "[", 
          RowBox[{"dc", ",", "t", ",", 
           RowBox[{"\"\<TimeAggregation\>\"", "->", "h"}], ",", 
           RowBox[{"\"\<numPeriods\>\"", "->", "k"}]}], "]"}], ",", "h", ",", 
         "k"}], "]"}], "==", 
       RowBox[{
        RowBox[{"dc", "[", 
         RowBox[{
          RowBox[{"-", "2"}], "+", "t"}], "]"}], "+", 
        RowBox[{"dc", "[", 
         RowBox[{
          RowBox[{"-", "1"}], "+", "t"}], "]"}], "+", 
        RowBox[{"dc", "[", "t", "]"}], "-", 
        RowBox[{"Log", "[", 
         RowBox[{"1", "+", 
          SuperscriptBox["\[ExponentialE]", 
           RowBox[{
            RowBox[{"-", 
             RowBox[{"dc", "[", 
              RowBox[{
               RowBox[{"-", "4"}], "+", "t"}], "]"}]}], "-", 
            RowBox[{"dc", "[", 
             RowBox[{
              RowBox[{"-", "3"}], "+", "t"}], "]"}]}]], "+", 
          SuperscriptBox["\[ExponentialE]", 
           RowBox[{"-", 
            RowBox[{"dc", "[", 
             RowBox[{
              RowBox[{"-", "3"}], "+", "t"}], "]"}]}]]}], "]"}], "+", 
        RowBox[{"Log", "[", 
         RowBox[{"1", "+", 
          SuperscriptBox["\[ExponentialE]", 
           RowBox[{
            RowBox[{"-", 
             RowBox[{"dc", "[", 
              RowBox[{
               RowBox[{"-", "1"}], "+", "t"}], "]"}]}], "-", 
            RowBox[{"dc", "[", "t", "]"}]}]], "+", 
          SuperscriptBox["\[ExponentialE]", 
           RowBox[{"-", 
            RowBox[{"dc", "[", "t", "]"}]}]]}], "]"}]}]}]}], 
     "\[IndentingNewLine]", "}"}]}]}]}]], "Input",
 CellGroupingRules->{"GroupTogetherGrouping", 10000.},
 CellChangeTimes->{{3.8901720531736927`*^9, 3.8901721635258904`*^9}, {
   3.890179904157103*^9, 3.890179924111239*^9}, {3.890180004340312*^9, 
   3.890180028753381*^9}, {3.8901801807801247`*^9, 3.890180246889792*^9}, {
   3.890185045383835*^9, 3.89018507800213*^9}, 3.890185360549662*^9, {
   3.890185418059861*^9, 3.890185418309677*^9}, {3.890195419832499*^9, 
   3.8901954226019363`*^9}, {3.890195490048667*^9, 3.8901954913676*^9}, {
   3.8901960604641733`*^9, 3.890196060465534*^9}, 3.890363394902726*^9, {
   3.890404606481097*^9, 3.890404612989439*^9}, {3.890406202847101*^9, 
   3.890406203168273*^9}, {3.890406271250958*^9, 3.890406276098238*^9}, {
   3.905133022573615*^9, 3.90513304065716*^9}, {3.9051336267053432`*^9, 
   3.9051336302967577`*^9}, {3.9051337663589363`*^9, 
   3.9051337665614767`*^9}, {3.905133983700873*^9, 3.905133988085473*^9}},
 CellLabel->"In[48]:=",ExpressionUUID->"11f2edfb-c19d-40ca-b587-57ace3039a69"],

Cell[BoxData[
 RowBox[{
  RowBox[{"(*", 
   RowBox[{"should", " ", "return", " ", "unevaluated"}], "*)"}], 
  "\[IndentingNewLine]", 
  RowBox[{"(*", 
   RowBox[{
   "wrong", " ", "length", " ", "for", " ", "first", " ", "argument", " ", 
    "of", " ", "g"}], "*)"}], "\[IndentingNewLine]", 
  RowBox[{
   RowBox[{
    RowBox[{"h", "=", "3"}], ";", 
    RowBox[{"k", "=", "1"}], ";"}], "\[IndentingNewLine]", 
   RowBox[{"And", "@@", 
    RowBox[{"{", "\[IndentingNewLine]", 
     RowBox[{
      RowBox[{
       RowBox[{"g", "[", 
        RowBox[{
         RowBox[{"timeSeriesVector", "[", 
          RowBox[{"dc", ",", "t"}], "]"}], ",", "h"}], "]"}], "==", 
       RowBox[{
       "FernandoDuarte`LongRunRisk`Tools`TimeAggregation`Private`g", "[", 
        RowBox[{
         RowBox[{"{", 
          RowBox[{"dc", "[", "t", "]"}], "}"}], ",", "3"}], "]"}]}], ",", 
      "\[IndentingNewLine]", 
      RowBox[{
       RowBox[{"g", "[", 
        RowBox[{
         RowBox[{
          RowBox[{"timeSeriesVector", "[", 
           RowBox[{"dc", ",", "t", ",", 
            RowBox[{"\"\<TimeAggregation\>\"", "->", "h"}]}], "]"}], "[", 
          RowBox[{"[", 
           RowBox[{";;", 
            RowBox[{"-", "2"}]}], "]"}], "]"}], ",", "h"}], "]"}], "==", 
       RowBox[{
       "FernandoDuarte`LongRunRisk`Tools`TimeAggregation`Private`g", "[", 
        RowBox[{
         RowBox[{"{", 
          RowBox[{
           RowBox[{"dc", "[", "t", "]"}], ",", 
           RowBox[{"dc", "[", 
            RowBox[{
             RowBox[{"-", "1"}], "+", "t"}], "]"}], ",", 
           RowBox[{"dc", "[", 
            RowBox[{
             RowBox[{"-", "2"}], "+", "t"}], "]"}], ",", 
           RowBox[{"dc", "[", 
            RowBox[{
             RowBox[{"-", "3"}], "+", "t"}], "]"}]}], "}"}], ",", "3"}], 
        "]"}]}], ",", "\[IndentingNewLine]", 
      RowBox[{
       RowBox[{"g", "[", 
        RowBox[{
         RowBox[{
          RowBox[{"timeSeriesVector", "[", 
           RowBox[{"dc", ",", "t", ",", 
            RowBox[{"\"\<numPeriods\>\"", "->", "k"}]}], "]"}], "[", 
          RowBox[{"[", 
           RowBox[{";;", 
            RowBox[{"-", "2"}]}], "]"}], "]"}], ",", "1", ",", "k"}], "]"}], "==", 
       RowBox[{
       "FernandoDuarte`LongRunRisk`Tools`TimeAggregation`Private`g", "[", 
        RowBox[{
         RowBox[{"{", "}"}], ",", "1", ",", "1"}], "]"}]}], ",", 
      "\[IndentingNewLine]", 
      RowBox[{
       RowBox[{"g", "[", 
        RowBox[{
         RowBox[{
          RowBox[{"timeSeriesVector", "[", 
           RowBox[{"dc", ",", "t", ",", 
            RowBox[{"{", 
             RowBox[{
              RowBox[{"\"\<TimeAggregation\>\"", "->", "h"}], ",", 
              RowBox[{"\"\<numPeriods\>\"", "->", "k"}]}], "}"}]}], "]"}], 
          "[", 
          RowBox[{"[", 
           RowBox[{";;", 
            RowBox[{"-", "2"}]}], "]"}], "]"}], ",", "h", ",", "k"}], "]"}], "==", 
       RowBox[{
       "FernandoDuarte`LongRunRisk`Tools`TimeAggregation`Private`g", "[", 
        RowBox[{
         RowBox[{"{", 
          RowBox[{
           RowBox[{"dc", "[", "t", "]"}], ",", 
           RowBox[{"dc", "[", 
            RowBox[{
             RowBox[{"-", "1"}], "+", "t"}], "]"}], ",", 
           RowBox[{"dc", "[", 
            RowBox[{
             RowBox[{"-", "2"}], "+", "t"}], "]"}], ",", 
           RowBox[{"dc", "[", 
            RowBox[{
             RowBox[{"-", "3"}], "+", "t"}], "]"}]}], "}"}], ",", "3", ",", 
         "1"}], "]"}]}], ",", "\[IndentingNewLine]", 
      RowBox[{
       RowBox[{"g", "[", 
        RowBox[{
         RowBox[{
          RowBox[{"timeSeriesVector", "[", 
           RowBox[{"dc", ",", "t", ",", 
            RowBox[{"\"\<TimeAggregation\>\"", "->", "h"}], ",", 
            RowBox[{"\"\<numPeriods\>\"", "->", "k"}]}], "]"}], "[", 
          RowBox[{"[", 
           RowBox[{";;", 
            RowBox[{"-", "2"}]}], "]"}], "]"}], ",", "h", ",", "k"}], "]"}], "==", 
       RowBox[{
       "FernandoDuarte`LongRunRisk`Tools`TimeAggregation`Private`g", "[", 
        RowBox[{
         RowBox[{"{", 
          RowBox[{
           RowBox[{"dc", "[", "t", "]"}], ",", 
           RowBox[{"dc", "[", 
            RowBox[{
             RowBox[{"-", "1"}], "+", "t"}], "]"}], ",", 
           RowBox[{"dc", "[", 
            RowBox[{
             RowBox[{"-", "2"}], "+", "t"}], "]"}], ",", 
           RowBox[{"dc", "[", 
            RowBox[{
             RowBox[{"-", "3"}], "+", "t"}], "]"}]}], "}"}], ",", "3", ",", 
         "1"}], "]"}]}]}], "\[IndentingNewLine]", "}"}]}]}]}]], "Input",
 CellGroupingRules->{"GroupTogetherGrouping", 10000.},
 CellChangeTimes->{{3.890190589143209*^9, 3.890190638588849*^9}, {
   3.890196060471004*^9, 3.890196060472418*^9}, 3.890363394903002*^9, {
   3.890406292664609*^9, 3.890406389608964*^9}, {3.905132987358062*^9, 
   3.9051330151743717`*^9}, {3.905133634095339*^9, 3.905133634395752*^9}, {
   3.90513376903858*^9, 3.905133769224579*^9}, {3.905133992293367*^9, 
   3.905133996652595*^9}},
 CellLabel->"In[50]:=",ExpressionUUID->"642353bd-1bf0-4675-a9ef-440c60901782"],

Cell[BoxData[
 RowBox[{
  RowBox[{"(*", 
   RowBox[{
   "TimeAggregation", " ", "aggregation", " ", "and", " ", "numPeriods", " ", 
    "for", " ", "flow", " ", "variables"}], "*)"}], "\[IndentingNewLine]", 
  RowBox[{
   RowBox[{
    RowBox[{"h", "=", "3"}], ";", 
    RowBox[{"k", "=", "1"}], ";"}], "\[IndentingNewLine]", 
   RowBox[{"And", "@@", 
    RowBox[{"{", "\[IndentingNewLine]", 
     RowBox[{
      RowBox[{
       RowBox[{"g", "[", 
        RowBox[{
         RowBox[{"timeSeriesVector", "[", 
          RowBox[{"dc", ",", "t", ",", 
           RowBox[{"\"\<TimeAggregation\>\"", "->", "h"}]}], "]"}], ",", "h", 
         ",", 
         RowBox[{"\"\<flowVariable\>\"", "->", "True"}]}], "]"}], "==", 
       RowBox[{
        RowBox[{"dc", "[", 
         RowBox[{
          RowBox[{"-", "2"}], "+", "t"}], "]"}], "+", 
        RowBox[{"dc", "[", 
         RowBox[{
          RowBox[{"-", "1"}], "+", "t"}], "]"}], "+", 
        RowBox[{"dc", "[", "t", "]"}], "-", 
        RowBox[{"Log", "[", 
         RowBox[{"1", "+", 
          SuperscriptBox["\[ExponentialE]", 
           RowBox[{
            RowBox[{"-", 
             RowBox[{"dc", "[", 
              RowBox[{
               RowBox[{"-", "4"}], "+", "t"}], "]"}]}], "-", 
            RowBox[{"dc", "[", 
             RowBox[{
              RowBox[{"-", "3"}], "+", "t"}], "]"}]}]], "+", 
          SuperscriptBox["\[ExponentialE]", 
           RowBox[{"-", 
            RowBox[{"dc", "[", 
             RowBox[{
              RowBox[{"-", "3"}], "+", "t"}], "]"}]}]]}], "]"}], "+", 
        RowBox[{"Log", "[", 
         RowBox[{"1", "+", 
          SuperscriptBox["\[ExponentialE]", 
           RowBox[{
            RowBox[{"-", 
             RowBox[{"dc", "[", 
              RowBox[{
               RowBox[{"-", "1"}], "+", "t"}], "]"}]}], "-", 
            RowBox[{"dc", "[", "t", "]"}]}]], "+", 
          SuperscriptBox["\[ExponentialE]", 
           RowBox[{"-", 
            RowBox[{"dc", "[", "t", "]"}]}]]}], "]"}]}]}], ",", 
      "\[IndentingNewLine]", 
      RowBox[{
       RowBox[{"g", "[", 
        RowBox[{
         RowBox[{"timeSeriesVector", "[", 
          RowBox[{"dc", ",", "t", ",", 
           RowBox[{"\"\<numPeriods\>\"", "->", "k"}]}], "]"}], ",", "1", ",", 
         "k", ",", 
         RowBox[{"\"\<flowVariable\>\"", "->", "True"}]}], "]"}], "==", 
       RowBox[{"dc", "[", "t", "]"}]}], ",", "\[IndentingNewLine]", 
      RowBox[{
       RowBox[{"g", "[", 
        RowBox[{
         RowBox[{"timeSeriesVector", "[", 
          RowBox[{"dc", ",", "t", ",", 
           RowBox[{"{", 
            RowBox[{
             RowBox[{"\"\<TimeAggregation\>\"", "->", "h"}], ",", 
             RowBox[{"\"\<numPeriods\>\"", "->", "k"}]}], "}"}]}], "]"}], ",",
          "h", ",", "k", ",", 
         RowBox[{"\"\<flowVariable\>\"", "->", "True"}]}], "]"}], "==", 
       RowBox[{
        RowBox[{"dc", "[", 
         RowBox[{
          RowBox[{"-", "2"}], "+", "t"}], "]"}], "+", 
        RowBox[{"dc", "[", 
         RowBox[{
          RowBox[{"-", "1"}], "+", "t"}], "]"}], "+", 
        RowBox[{"dc", "[", "t", "]"}], "-", 
        RowBox[{"Log", "[", 
         RowBox[{"1", "+", 
          SuperscriptBox["\[ExponentialE]", 
           RowBox[{
            RowBox[{"-", 
             RowBox[{"dc", "[", 
              RowBox[{
               RowBox[{"-", "4"}], "+", "t"}], "]"}]}], "-", 
            RowBox[{"dc", "[", 
             RowBox[{
              RowBox[{"-", "3"}], "+", "t"}], "]"}]}]], "+", 
          SuperscriptBox["\[ExponentialE]", 
           RowBox[{"-", 
            RowBox[{"dc", "[", 
             RowBox[{
              RowBox[{"-", "3"}], "+", "t"}], "]"}]}]]}], "]"}], "+", 
        RowBox[{"Log", "[", 
         RowBox[{"1", "+", 
          SuperscriptBox["\[ExponentialE]", 
           RowBox[{
            RowBox[{"-", 
             RowBox[{"dc", "[", 
              RowBox[{
               RowBox[{"-", "1"}], "+", "t"}], "]"}]}], "-", 
            RowBox[{"dc", "[", "t", "]"}]}]], "+", 
          SuperscriptBox["\[ExponentialE]", 
           RowBox[{"-", 
            RowBox[{"dc", "[", "t", "]"}]}]]}], "]"}]}]}], ",", 
      "\[IndentingNewLine]", 
      RowBox[{
       RowBox[{"g", "[", 
        RowBox[{
         RowBox[{"timeSeriesVector", "[", 
          RowBox[{"dc", ",", "t", ",", 
           RowBox[{"\"\<TimeAggregation\>\"", "->", "h"}], ",", 
           RowBox[{"\"\<numPeriods\>\"", "->", "k"}]}], "]"}], ",", "h", ",", 
         "k", ",", 
         RowBox[{"\"\<flowVariable\>\"", "->", "True"}]}], "]"}], "==", 
       RowBox[{
        RowBox[{"dc", "[", 
         RowBox[{
          RowBox[{"-", "2"}], "+", "t"}], "]"}], "+", 
        RowBox[{"dc", "[", 
         RowBox[{
          RowBox[{"-", "1"}], "+", "t"}], "]"}], "+", 
        RowBox[{"dc", "[", "t", "]"}], "-", 
        RowBox[{"Log", "[", 
         RowBox[{"1", "+", 
          SuperscriptBox["\[ExponentialE]", 
           RowBox[{
            RowBox[{"-", 
             RowBox[{"dc", "[", 
              RowBox[{
               RowBox[{"-", "4"}], "+", "t"}], "]"}]}], "-", 
            RowBox[{"dc", "[", 
             RowBox[{
              RowBox[{"-", "3"}], "+", "t"}], "]"}]}]], "+", 
          SuperscriptBox["\[ExponentialE]", 
           RowBox[{"-", 
            RowBox[{"dc", "[", 
             RowBox[{
              RowBox[{"-", "3"}], "+", "t"}], "]"}]}]]}], "]"}], "+", 
        RowBox[{"Log", "[", 
         RowBox[{"1", "+", 
          SuperscriptBox["\[ExponentialE]", 
           RowBox[{
            RowBox[{"-", 
             RowBox[{"dc", "[", 
              RowBox[{
               RowBox[{"-", "1"}], "+", "t"}], "]"}]}], "-", 
            RowBox[{"dc", "[", "t", "]"}]}]], "+", 
          SuperscriptBox["\[ExponentialE]", 
           RowBox[{"-", 
            RowBox[{"dc", "[", "t", "]"}]}]]}], "]"}]}]}]}], 
     "\[IndentingNewLine]", "}"}]}]}]}]], "Input",
 CellGroupingRules->{"GroupTogetherGrouping", 10000.},
 CellChangeTimes->{{3.890190302026493*^9, 3.890190316677984*^9}, {
   3.890190372940201*^9, 3.890190378010035*^9}, {3.890190417141127*^9, 
   3.89019041796427*^9}, {3.8901960604780188`*^9, 3.890196060479423*^9}, 
   3.890363394903254*^9, 3.8904063618869658`*^9, {3.890406395154607*^9, 
   3.890406427363122*^9}, {3.905132967599986*^9, 3.905132982756688*^9}, {
   3.905133637665764*^9, 3.905133637899835*^9}, {3.905133772230812*^9, 
   3.905133772460923*^9}, {3.9051340040771027`*^9, 3.905134007157502*^9}},
 CellLabel->"In[52]:=",ExpressionUUID->"48b15f6f-a8f9-4140-a593-073aa3bddd33"],

Cell[BoxData[
 RowBox[{
  RowBox[{"(*", 
   RowBox[{
   "TimeAggregation", " ", "aggregation", " ", "and", " ", "numPeriods", " ", 
    "for", " ", "stock", " ", "variables"}], "*)"}], "\[IndentingNewLine]", 
  RowBox[{
   RowBox[{
    RowBox[{"h", "=", "3"}], ";", 
    RowBox[{"k", "=", "1"}], ";"}], "\[IndentingNewLine]", 
   RowBox[{"And", "@@", 
    RowBox[{"{", "\[IndentingNewLine]", 
     RowBox[{
      RowBox[{
       RowBox[{"g", "[", 
        RowBox[{
         RowBox[{"timeSeriesVector", "[", 
          RowBox[{"dc", ",", "t", ",", 
           RowBox[{"\"\<TimeAggregation\>\"", "->", "h"}]}], "]"}], ",", "h", 
         ",", 
         RowBox[{"\"\<flowVariable\>\"", "->", "False"}]}], "]"}], "==", 
       RowBox[{
        RowBox[{"dc", "[", 
         RowBox[{
          RowBox[{"-", "2"}], "+", "t"}], "]"}], "+", 
        RowBox[{"dc", "[", 
         RowBox[{
          RowBox[{"-", "1"}], "+", "t"}], "]"}], "+", 
        RowBox[{"dc", "[", "t", "]"}]}]}], ",", "\[IndentingNewLine]", 
      RowBox[{
       RowBox[{"g", "[", 
        RowBox[{
         RowBox[{"timeSeriesVector", "[", 
          RowBox[{"dc", ",", "t", ",", 
           RowBox[{"\"\<numPeriods\>\"", "->", "k"}]}], "]"}], ",", "1", ",", 
         "k", ",", 
         RowBox[{"\"\<flowVariable\>\"", "->", "False"}]}], "]"}], "==", 
       RowBox[{"dc", "[", "t", "]"}]}], ",", "\[IndentingNewLine]", 
      RowBox[{
       RowBox[{"g", "[", 
        RowBox[{
         RowBox[{"timeSeriesVector", "[", 
          RowBox[{"dc", ",", "t", ",", 
           RowBox[{"{", 
            RowBox[{
             RowBox[{"\"\<TimeAggregation\>\"", "->", "h"}], ",", 
             RowBox[{"\"\<numPeriods\>\"", "->", "k"}]}], "}"}]}], "]"}], ",",
          "h", ",", "k", ",", 
         RowBox[{"\"\<flowVariable\>\"", "->", "False"}]}], "]"}], "==", 
       RowBox[{
        RowBox[{"dc", "[", 
         RowBox[{
          RowBox[{"-", "2"}], "+", "t"}], "]"}], "+", 
        RowBox[{"dc", "[", 
         RowBox[{
          RowBox[{"-", "1"}], "+", "t"}], "]"}], "+", 
        RowBox[{"dc", "[", "t", "]"}]}]}], ",", "\[IndentingNewLine]", 
      RowBox[{
       RowBox[{"g", "[", 
        RowBox[{
         RowBox[{"timeSeriesVector", "[", 
          RowBox[{"dc", ",", "t", ",", 
           RowBox[{"\"\<TimeAggregation\>\"", "->", "h"}], ",", 
           RowBox[{"\"\<numPeriods\>\"", "->", "k"}]}], "]"}], ",", "h", ",", 
         "k", ",", 
         RowBox[{"\"\<flowVariable\>\"", "->", "False"}]}], "]"}], "==", 
       RowBox[{
        RowBox[{"dc", "[", 
         RowBox[{
          RowBox[{"-", "2"}], "+", "t"}], "]"}], "+", 
        RowBox[{"dc", "[", 
         RowBox[{
          RowBox[{"-", "1"}], "+", "t"}], "]"}], "+", 
        RowBox[{"dc", "[", "t", "]"}]}]}]}], "\[IndentingNewLine]", 
     "}"}]}]}]}]], "Input",
 CellGroupingRules->{"GroupTogetherGrouping", 10000.},
 CellChangeTimes->{{3.890190425865121*^9, 3.890190431513938*^9}, {
   3.890196060485079*^9, 3.890196060486471*^9}, 3.8903633949035063`*^9, {
   3.890406429507084*^9, 3.890406451889192*^9}, {3.905132946959127*^9, 
   3.905132962788682*^9}, {3.905133640520669*^9, 3.905133640699399*^9}, {
   3.905133774702096*^9, 3.905133774864623*^9}, {3.9051340130206842`*^9, 
   3.905134015516468*^9}},
 CellLabel->"In[54]:=",ExpressionUUID->"e51c0f77-2e86-4661-970d-9ab7f86260d0"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"h", "=", "3"}], ";", 
  RowBox[{"k", "=", "1"}], ";"}], "\[IndentingNewLine]", 
 RowBox[{"And", "@@", 
  RowBox[{"{", "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{
     RowBox[{"g", "[", 
      RowBox[{
       RowBox[{"timeSeriesVector", "[", 
        RowBox[{"dc", ",", "t"}], "]"}], ",", "1", ",", 
       RowBox[{"\"\<flowVariable\>\"", "->", "False"}]}], "]"}], "==", 
     RowBox[{"dc", "[", "t", "]"}]}], ",", "\[IndentingNewLine]", 
    RowBox[{
     RowBox[{"g", "[", 
      RowBox[{
       RowBox[{
        RowBox[{"timeSeriesVector", "[", 
         RowBox[{"dc", ",", "t", ",", 
          RowBox[{"\"\<TimeAggregation\>\"", "->", "h"}]}], "]"}], "[", 
        RowBox[{"[", 
         RowBox[{";;", 
          RowBox[{"h", "*", "k"}]}], "]"}], "]"}], ",", "h", ",", 
       RowBox[{"\"\<flowVariable\>\"", "->", "False"}]}], "]"}], "==", 
     RowBox[{
      RowBox[{"dc", "[", 
       RowBox[{
        RowBox[{"-", "2"}], "+", "t"}], "]"}], "+", 
      RowBox[{"dc", "[", 
       RowBox[{
        RowBox[{"-", "1"}], "+", "t"}], "]"}], "+", 
      RowBox[{"dc", "[", "t", "]"}]}]}], ",", "\[IndentingNewLine]", 
    RowBox[{
     RowBox[{"g", "[", 
      RowBox[{
       RowBox[{"timeSeriesVector", "[", 
        RowBox[{"dc", ",", "t", ",", 
         RowBox[{"\"\<numPeriods\>\"", "->", "k"}]}], "]"}], ",", "1", ",", 
       "k", ",", 
       RowBox[{"\"\<flowVariable\>\"", "->", "False"}]}], "]"}], "==", 
     RowBox[{"dc", "[", "t", "]"}]}], ",", "\[IndentingNewLine]", 
    RowBox[{
     RowBox[{"g", "[", 
      RowBox[{
       RowBox[{
        RowBox[{"timeSeriesVector", "[", 
         RowBox[{"dc", ",", "t", ",", 
          RowBox[{"{", 
           RowBox[{
            RowBox[{"\"\<TimeAggregation\>\"", "->", "h"}], ",", 
            RowBox[{"\"\<numPeriods\>\"", "->", "k"}]}], "}"}]}], "]"}], "[", 
        
        RowBox[{"[", 
         RowBox[{";;", 
          RowBox[{"h", "*", "k"}]}], "]"}], "]"}], ",", "h", ",", "k", ",", 
       RowBox[{"\"\<flowVariable\>\"", "->", "False"}]}], "]"}], "==", 
     RowBox[{
      RowBox[{"dc", "[", 
       RowBox[{
        RowBox[{"-", "2"}], "+", "t"}], "]"}], "+", 
      RowBox[{"dc", "[", 
       RowBox[{
        RowBox[{"-", "1"}], "+", "t"}], "]"}], "+", 
      RowBox[{"dc", "[", "t", "]"}]}]}], ",", "\[IndentingNewLine]", 
    RowBox[{
     RowBox[{"g", "[", 
      RowBox[{
       RowBox[{
        RowBox[{"timeSeriesVector", "[", 
         RowBox[{"dc", ",", "t", ",", 
          RowBox[{"\"\<TimeAggregation\>\"", "->", "h"}], ",", 
          RowBox[{"\"\<numPeriods\>\"", "->", "k"}]}], "]"}], "[", 
        RowBox[{"[", 
         RowBox[{";;", 
          RowBox[{"h", "*", "k"}]}], "]"}], "]"}], ",", "h", ",", "k", ",", 
       RowBox[{"\"\<flowVariable\>\"", "->", "False"}]}], "]"}], "==", 
     RowBox[{
      RowBox[{"dc", "[", 
       RowBox[{
        RowBox[{"-", "2"}], "+", "t"}], "]"}], "+", 
      RowBox[{"dc", "[", 
       RowBox[{
        RowBox[{"-", "1"}], "+", "t"}], "]"}], "+", 
      RowBox[{"dc", "[", "t", "]"}]}]}]}], "\[IndentingNewLine]", 
   "}"}]}]}], "Input",
 CellGroupingRules->{"GroupTogetherGrouping", 10000.},
 CellChangeTimes->{{3.890190462731379*^9, 3.890190476979701*^9}, {
   3.890190516041791*^9, 3.8901905382493*^9}, {3.890196060492339*^9, 
   3.890196060493836*^9}, 3.890363394903771*^9, {3.89059187204002*^9, 
   3.8905918723175907`*^9}, {3.90513292213623*^9, 3.905132941170207*^9}, {
   3.9051336429697847`*^9, 3.905133643174705*^9}, {3.905133777326174*^9, 
   3.905133777488515*^9}, {3.9051340189323597`*^9, 3.905134022068589*^9}},
 CellLabel->"In[56]:=",ExpressionUUID->"abae58ce-7b89-46e2-8884-6dac3e22a063"],

Cell[BoxData[
 RowBox[{
  RowBox[{"(*", 
   RowBox[{"should", " ", "return", " ", "unevaluated"}], "*)"}], 
  "\[IndentingNewLine]", 
  RowBox[{
   RowBox[{
    RowBox[{"h", "=", "3"}], ";", 
    RowBox[{"k", "=", "1"}], ";"}], "\[IndentingNewLine]", 
   RowBox[{"And", "@@", 
    RowBox[{"{", "\[IndentingNewLine]", 
     RowBox[{
      RowBox[{
       RowBox[{"g", "[", 
        RowBox[{
         RowBox[{"timeSeriesVector", "[", 
          RowBox[{"dc", ",", "t"}], "]"}], ",", 
         RowBox[{"\"\<flowVariable\>\"", "->", "False"}]}], "]"}], "==", 
       RowBox[{
       "FernandoDuarte`LongRunRisk`Tools`TimeAggregation`Private`g", "[", 
        RowBox[{
         RowBox[{"{", 
          RowBox[{"dc", "[", "t", "]"}], "}"}], ",", 
         RowBox[{"\"\<flowVariable\>\"", "\[Rule]", "False"}]}], "]"}]}], ",",
       "\[IndentingNewLine]", 
      RowBox[{
       RowBox[{"g", "[", 
        RowBox[{
         RowBox[{
          RowBox[{"timeSeriesVector", "[", 
           RowBox[{"dc", ",", "t", ",", 
            RowBox[{"\"\<TimeAggregation\>\"", "->", "h"}]}], "]"}], "[", 
          RowBox[{"[", 
           RowBox[{";;", 
            RowBox[{
             RowBox[{"h", "*", "k"}], "+", "1"}]}], "]"}], "]"}], ",", "h", 
         ",", 
         RowBox[{"\"\<flowVariable\>\"", "->", "False"}]}], "]"}], "==", 
       RowBox[{
       "FernandoDuarte`LongRunRisk`Tools`TimeAggregation`Private`g", "[", 
        RowBox[{
         RowBox[{"{", 
          RowBox[{
           RowBox[{"dc", "[", "t", "]"}], ",", 
           RowBox[{"dc", "[", 
            RowBox[{
             RowBox[{"-", "1"}], "+", "t"}], "]"}], ",", 
           RowBox[{"dc", "[", 
            RowBox[{
             RowBox[{"-", "2"}], "+", "t"}], "]"}], ",", 
           RowBox[{"dc", "[", 
            RowBox[{
             RowBox[{"-", "3"}], "+", "t"}], "]"}]}], "}"}], ",", "3", ",", 
         RowBox[{"\"\<flowVariable\>\"", "\[Rule]", "False"}]}], "]"}]}], ",",
       "\[IndentingNewLine]", 
      RowBox[{
       RowBox[{"g", "[", 
        RowBox[{
         RowBox[{
          RowBox[{"timeSeriesVector", "[", 
           RowBox[{"dc", ",", "t", ",", 
            RowBox[{"{", 
             RowBox[{
              RowBox[{"\"\<TimeAggregation\>\"", "->", "h"}], ",", 
              RowBox[{"\"\<numPeriods\>\"", "->", "k"}]}], "}"}]}], "]"}], 
          "[", 
          RowBox[{"[", 
           RowBox[{";;", 
            RowBox[{
             RowBox[{"h", "*", "k"}], "+", "1"}]}], "]"}], "]"}], ",", "h", 
         ",", "k", ",", 
         RowBox[{"\"\<flowVariable\>\"", "->", "False"}]}], "]"}], "==", 
       RowBox[{
       "FernandoDuarte`LongRunRisk`Tools`TimeAggregation`Private`g", "[", 
        RowBox[{
         RowBox[{"{", 
          RowBox[{
           RowBox[{"dc", "[", "t", "]"}], ",", 
           RowBox[{"dc", "[", 
            RowBox[{
             RowBox[{"-", "1"}], "+", "t"}], "]"}], ",", 
           RowBox[{"dc", "[", 
            RowBox[{
             RowBox[{"-", "2"}], "+", "t"}], "]"}], ",", 
           RowBox[{"dc", "[", 
            RowBox[{
             RowBox[{"-", "3"}], "+", "t"}], "]"}]}], "}"}], ",", "3", ",", 
         "1", ",", 
         RowBox[{"\"\<flowVariable\>\"", "\[Rule]", "False"}]}], "]"}]}], ",",
       "\[IndentingNewLine]", 
      RowBox[{
       RowBox[{"g", "[", 
        RowBox[{
         RowBox[{
          RowBox[{"timeSeriesVector", "[", 
           RowBox[{"dc", ",", "t", ",", 
            RowBox[{"\"\<TimeAggregation\>\"", "->", "h"}], ",", 
            RowBox[{"\"\<numPeriods\>\"", "->", "k"}]}], "]"}], "[", 
          RowBox[{"[", 
           RowBox[{";;", 
            RowBox[{
             RowBox[{"h", "*", "k"}], "+", "1"}]}], "]"}], "]"}], ",", "h", 
         ",", "k", ",", 
         RowBox[{"\"\<flowVariable\>\"", "->", "False"}]}], "]"}], "==", 
       RowBox[{
       "FernandoDuarte`LongRunRisk`Tools`TimeAggregation`Private`g", "[", 
        RowBox[{
         RowBox[{"{", 
          RowBox[{
           RowBox[{"dc", "[", "t", "]"}], ",", 
           RowBox[{"dc", "[", 
            RowBox[{
             RowBox[{"-", "1"}], "+", "t"}], "]"}], ",", 
           RowBox[{"dc", "[", 
            RowBox[{
             RowBox[{"-", "2"}], "+", "t"}], "]"}], ",", 
           RowBox[{"dc", "[", 
            RowBox[{
             RowBox[{"-", "3"}], "+", "t"}], "]"}]}], "}"}], ",", "3", ",", 
         "1", ",", 
         RowBox[{"\"\<flowVariable\>\"", "\[Rule]", "False"}]}], "]"}]}]}], 
     "\[IndentingNewLine]", "}"}]}]}]}]], "Input",
 CellGroupingRules->{"GroupTogetherGrouping", 10000.},
 CellChangeTimes->{{3.890190551568864*^9, 3.890190569801456*^9}, {
   3.8901960605035553`*^9, 3.890196060505065*^9}, 3.890363394904015*^9, {
   3.890406448912299*^9, 3.89040644913935*^9}, {3.9051328943255177`*^9, 
   3.905132916682325*^9}, {3.905133646506585*^9, 3.905133646716509*^9}, {
   3.905133779789558*^9, 3.905133779939404*^9}, {3.905134025189911*^9, 
   3.905134028245502*^9}},
 CellLabel->"In[58]:=",ExpressionUUID->"fabb9fb9-1540-4bff-a000-fc4e8e742429"],

Cell[BoxData[
 RowBox[{
  RowBox[{"(*", 
   RowBox[{
   "optional", " ", "values", " ", "in", " ", "lists", " ", "or", " ", "as", 
    " ", "separate", " ", "arguments"}], "*)"}], "\[IndentingNewLine]", 
  RowBox[{
   RowBox[{
    RowBox[{"h", "=", "3"}], ";", 
    RowBox[{"k", "=", "1"}], ";"}], "\[IndentingNewLine]", 
   RowBox[{"And", "@@", 
    RowBox[{"{", "\[IndentingNewLine]", 
     RowBox[{
      RowBox[{
       RowBox[{"g", "[", 
        RowBox[{
         RowBox[{"timeSeriesVector", "[", 
          RowBox[{"dd", ",", "t", ",", "i"}], "]"}], ",", "1"}], "]"}], "==", 
       
       RowBox[{"dd", "[", 
        RowBox[{"t", ",", "i"}], "]"}]}], ",", "\[IndentingNewLine]", 
      RowBox[{
       RowBox[{"g", "[", 
        RowBox[{
         RowBox[{"timeSeriesVector", "[", 
          RowBox[{"dd", ",", "t", ",", "i", ",", 
           RowBox[{"\"\<TimeAggregation\>\"", "->", "h"}]}], "]"}], ",", 
         "h"}], "]"}], "==", 
       RowBox[{
        RowBox[{"dd", "[", 
         RowBox[{
          RowBox[{
           RowBox[{"-", "2"}], "+", "t"}], ",", "i"}], "]"}], "+", 
        RowBox[{"dd", "[", 
         RowBox[{
          RowBox[{
           RowBox[{"-", "1"}], "+", "t"}], ",", "i"}], "]"}], "+", 
        RowBox[{"dd", "[", 
         RowBox[{"t", ",", "i"}], "]"}], "-", 
        RowBox[{"Log", "[", 
         RowBox[{"1", "+", 
          SuperscriptBox["\[ExponentialE]", 
           RowBox[{
            RowBox[{"-", 
             RowBox[{"dd", "[", 
              RowBox[{
               RowBox[{
                RowBox[{"-", "4"}], "+", "t"}], ",", "i"}], "]"}]}], "-", 
            RowBox[{"dd", "[", 
             RowBox[{
              RowBox[{
               RowBox[{"-", "3"}], "+", "t"}], ",", "i"}], "]"}]}]], "+", 
          SuperscriptBox["\[ExponentialE]", 
           RowBox[{"-", 
            RowBox[{"dd", "[", 
             RowBox[{
              RowBox[{
               RowBox[{"-", "3"}], "+", "t"}], ",", "i"}], "]"}]}]]}], "]"}], 
        "+", 
        RowBox[{"Log", "[", 
         RowBox[{"1", "+", 
          SuperscriptBox["\[ExponentialE]", 
           RowBox[{
            RowBox[{"-", 
             RowBox[{"dd", "[", 
              RowBox[{
               RowBox[{
                RowBox[{"-", "1"}], "+", "t"}], ",", "i"}], "]"}]}], "-", 
            RowBox[{"dd", "[", 
             RowBox[{"t", ",", "i"}], "]"}]}]], "+", 
          SuperscriptBox["\[ExponentialE]", 
           RowBox[{"-", 
            RowBox[{"dd", "[", 
             RowBox[{"t", ",", "i"}], "]"}]}]]}], "]"}]}]}], ",", 
      "\[IndentingNewLine]", 
      RowBox[{
       RowBox[{"g", "[", 
        RowBox[{
         RowBox[{"timeSeriesVector", "[", 
          RowBox[{"dd", ",", "t", ",", "i", ",", 
           RowBox[{"\"\<numPeriods\>\"", "->", "k"}]}], "]"}], ",", "1", ",", 
         "k"}], "]"}], "==", 
       RowBox[{"dd", "[", 
        RowBox[{"t", ",", "i"}], "]"}]}], ",", "\[IndentingNewLine]", 
      RowBox[{
       RowBox[{"g", "[", 
        RowBox[{
         RowBox[{"timeSeriesVector", "[", 
          RowBox[{"dd", ",", "t", ",", "i", ",", 
           RowBox[{"{", 
            RowBox[{
             RowBox[{"\"\<TimeAggregation\>\"", "->", "h"}], ",", 
             RowBox[{"\"\<numPeriods\>\"", "->", "k"}]}], "}"}]}], "]"}], ",",
          "h", ",", "k"}], "]"}], "==", 
       RowBox[{
        RowBox[{"dd", "[", 
         RowBox[{
          RowBox[{
           RowBox[{"-", "2"}], "+", "t"}], ",", "i"}], "]"}], "+", 
        RowBox[{"dd", "[", 
         RowBox[{
          RowBox[{
           RowBox[{"-", "1"}], "+", "t"}], ",", "i"}], "]"}], "+", 
        RowBox[{"dd", "[", 
         RowBox[{"t", ",", "i"}], "]"}], "-", 
        RowBox[{"Log", "[", 
         RowBox[{"1", "+", 
          SuperscriptBox["\[ExponentialE]", 
           RowBox[{
            RowBox[{"-", 
             RowBox[{"dd", "[", 
              RowBox[{
               RowBox[{
                RowBox[{"-", "4"}], "+", "t"}], ",", "i"}], "]"}]}], "-", 
            RowBox[{"dd", "[", 
             RowBox[{
              RowBox[{
               RowBox[{"-", "3"}], "+", "t"}], ",", "i"}], "]"}]}]], "+", 
          SuperscriptBox["\[ExponentialE]", 
           RowBox[{"-", 
            RowBox[{"dd", "[", 
             RowBox[{
              RowBox[{
               RowBox[{"-", "3"}], "+", "t"}], ",", "i"}], "]"}]}]]}], "]"}], 
        "+", 
        RowBox[{"Log", "[", 
         RowBox[{"1", "+", 
          SuperscriptBox["\[ExponentialE]", 
           RowBox[{
            RowBox[{"-", 
             RowBox[{"dd", "[", 
              RowBox[{
               RowBox[{
                RowBox[{"-", "1"}], "+", "t"}], ",", "i"}], "]"}]}], "-", 
            RowBox[{"dd", "[", 
             RowBox[{"t", ",", "i"}], "]"}]}]], "+", 
          SuperscriptBox["\[ExponentialE]", 
           RowBox[{"-", 
            RowBox[{"dd", "[", 
             RowBox[{"t", ",", "i"}], "]"}]}]]}], "]"}]}]}], ",", 
      "\[IndentingNewLine]", 
      RowBox[{
       RowBox[{"g", "[", 
        RowBox[{
         RowBox[{"timeSeriesVector", "[", 
          RowBox[{"dd", ",", "t", ",", "i", ",", 
           RowBox[{"\"\<TimeAggregation\>\"", "->", "h"}], ",", 
           RowBox[{"\"\<numPeriods\>\"", "->", "k"}]}], "]"}], ",", "h", ",", 
         "k"}], "]"}], "==", 
       RowBox[{
        RowBox[{"dd", "[", 
         RowBox[{
          RowBox[{
           RowBox[{"-", "2"}], "+", "t"}], ",", "i"}], "]"}], "+", 
        RowBox[{"dd", "[", 
         RowBox[{
          RowBox[{
           RowBox[{"-", "1"}], "+", "t"}], ",", "i"}], "]"}], "+", 
        RowBox[{"dd", "[", 
         RowBox[{"t", ",", "i"}], "]"}], "-", 
        RowBox[{"Log", "[", 
         RowBox[{"1", "+", 
          SuperscriptBox["\[ExponentialE]", 
           RowBox[{
            RowBox[{"-", 
             RowBox[{"dd", "[", 
              RowBox[{
               RowBox[{
                RowBox[{"-", "4"}], "+", "t"}], ",", "i"}], "]"}]}], "-", 
            RowBox[{"dd", "[", 
             RowBox[{
              RowBox[{
               RowBox[{"-", "3"}], "+", "t"}], ",", "i"}], "]"}]}]], "+", 
          SuperscriptBox["\[ExponentialE]", 
           RowBox[{"-", 
            RowBox[{"dd", "[", 
             RowBox[{
              RowBox[{
               RowBox[{"-", "3"}], "+", "t"}], ",", "i"}], "]"}]}]]}], "]"}], 
        "+", 
        RowBox[{"Log", "[", 
         RowBox[{"1", "+", 
          SuperscriptBox["\[ExponentialE]", 
           RowBox[{
            RowBox[{"-", 
             RowBox[{"dd", "[", 
              RowBox[{
               RowBox[{
                RowBox[{"-", "1"}], "+", "t"}], ",", "i"}], "]"}]}], "-", 
            RowBox[{"dd", "[", 
             RowBox[{"t", ",", "i"}], "]"}]}]], "+", 
          SuperscriptBox["\[ExponentialE]", 
           RowBox[{"-", 
            RowBox[{"dd", "[", 
             RowBox[{"t", ",", "i"}], "]"}]}]]}], "]"}]}]}]}], 
     "\[IndentingNewLine]", "}"}]}]}]}]], "Input",
 CellGroupingRules->{"GroupTogetherGrouping", 10000.},
 CellChangeTimes->{{3.8901720531736927`*^9, 3.8901721635258904`*^9}, {
   3.890179904157103*^9, 3.890179924111239*^9}, {3.890180004340312*^9, 
   3.890180028753381*^9}, {3.8901801807801247`*^9, 3.890180246889792*^9}, {
   3.890185045383835*^9, 3.890185047656562*^9}, {3.8901850872725763`*^9, 
   3.890185113017942*^9}, {3.890196060514386*^9, 3.890196060515778*^9}, 
   3.890363394904229*^9, {3.890406478649135*^9, 3.89040649121669*^9}, {
   3.8905918849071083`*^9, 3.890591885001882*^9}, {3.905132845663828*^9, 
   3.905132862891549*^9}, {3.905133649698393*^9, 3.905133649878684*^9}, {
   3.9051337821356907`*^9, 3.905133782273745*^9}, {3.905134031173457*^9, 
   3.905134034538186*^9}},
 CellLabel->"In[60]:=",ExpressionUUID->"ea849ef2-7eac-4895-8d77-d429fba88a13"],

Cell[BoxData[
 RowBox[{
  RowBox[{"(*", 
   RowBox[{"bond", " ", "returns"}], "*)"}], "\[IndentingNewLine]", 
  RowBox[{
   RowBox[{
    RowBox[{"h", "=", "3"}], ";", 
    RowBox[{"k", "=", "1"}], ";"}], "\[IndentingNewLine]", 
   RowBox[{"And", "@@", 
    RowBox[{"{", "\[IndentingNewLine]", 
     RowBox[{
      RowBox[{
       RowBox[{"g", "[", 
        RowBox[{
         RowBox[{"timeSeriesVector", "[", 
          RowBox[{"bondret", ",", "t", ",", "m", ",", 
           RowBox[{"\"\<TimeAggregation\>\"", "->", "h"}]}], "]"}], ",", 
         "h"}], "]"}], "==", 
       RowBox[{
        RowBox[{"bondret", "[", 
         RowBox[{
          RowBox[{
           RowBox[{"-", "2"}], "+", "t"}], ",", "m"}], "]"}], "+", 
        RowBox[{"bondret", "[", 
         RowBox[{
          RowBox[{
           RowBox[{"-", "1"}], "+", "t"}], ",", "m"}], "]"}], "+", 
        RowBox[{"bondret", "[", 
         RowBox[{"t", ",", "m"}], "]"}], "-", 
        RowBox[{"Log", "[", 
         RowBox[{"1", "+", 
          SuperscriptBox["\[ExponentialE]", 
           RowBox[{
            RowBox[{"-", 
             RowBox[{"bondret", "[", 
              RowBox[{
               RowBox[{
                RowBox[{"-", "4"}], "+", "t"}], ",", "m"}], "]"}]}], "-", 
            RowBox[{"bondret", "[", 
             RowBox[{
              RowBox[{
               RowBox[{"-", "3"}], "+", "t"}], ",", "m"}], "]"}]}]], "+", 
          SuperscriptBox["\[ExponentialE]", 
           RowBox[{"-", 
            RowBox[{"bondret", "[", 
             RowBox[{
              RowBox[{
               RowBox[{"-", "3"}], "+", "t"}], ",", "m"}], "]"}]}]]}], "]"}], 
        "+", 
        RowBox[{"Log", "[", 
         RowBox[{"1", "+", 
          SuperscriptBox["\[ExponentialE]", 
           RowBox[{
            RowBox[{"-", 
             RowBox[{"bondret", "[", 
              RowBox[{
               RowBox[{
                RowBox[{"-", "1"}], "+", "t"}], ",", "m"}], "]"}]}], "-", 
            RowBox[{"bondret", "[", 
             RowBox[{"t", ",", "m"}], "]"}]}]], "+", 
          SuperscriptBox["\[ExponentialE]", 
           RowBox[{"-", 
            RowBox[{"bondret", "[", 
             RowBox[{"t", ",", "m"}], "]"}]}]]}], "]"}]}]}], ",", 
      "\[IndentingNewLine]", 
      RowBox[{
       RowBox[{"g", "[", 
        RowBox[{
         RowBox[{"timeSeriesVector", "[", 
          RowBox[{"bondret", ",", "t", ",", "m", ",", 
           RowBox[{"\"\<numPeriods\>\"", "->", "k"}]}], "]"}], ",", "1", ",", 
         "k"}], "]"}], "==", 
       RowBox[{"bondret", "[", 
        RowBox[{"t", ",", "m"}], "]"}]}], ",", "\[IndentingNewLine]", 
      RowBox[{
       RowBox[{"g", "[", 
        RowBox[{
         RowBox[{"timeSeriesVector", "[", 
          RowBox[{"bondret", ",", "t", ",", "m", ",", 
           RowBox[{"{", 
            RowBox[{
             RowBox[{"\"\<TimeAggregation\>\"", "->", "h"}], ",", 
             RowBox[{"\"\<numPeriods\>\"", "->", "k"}]}], "}"}]}], "]"}], ",",
          "h", ",", "k"}], "]"}], "==", 
       RowBox[{
        RowBox[{"bondret", "[", 
         RowBox[{
          RowBox[{
           RowBox[{"-", "2"}], "+", "t"}], ",", "m"}], "]"}], "+", 
        RowBox[{"bondret", "[", 
         RowBox[{
          RowBox[{
           RowBox[{"-", "1"}], "+", "t"}], ",", "m"}], "]"}], "+", 
        RowBox[{"bondret", "[", 
         RowBox[{"t", ",", "m"}], "]"}], "-", 
        RowBox[{"Log", "[", 
         RowBox[{"1", "+", 
          SuperscriptBox["\[ExponentialE]", 
           RowBox[{
            RowBox[{"-", 
             RowBox[{"bondret", "[", 
              RowBox[{
               RowBox[{
                RowBox[{"-", "4"}], "+", "t"}], ",", "m"}], "]"}]}], "-", 
            RowBox[{"bondret", "[", 
             RowBox[{
              RowBox[{
               RowBox[{"-", "3"}], "+", "t"}], ",", "m"}], "]"}]}]], "+", 
          SuperscriptBox["\[ExponentialE]", 
           RowBox[{"-", 
            RowBox[{"bondret", "[", 
             RowBox[{
              RowBox[{
               RowBox[{"-", "3"}], "+", "t"}], ",", "m"}], "]"}]}]]}], "]"}], 
        "+", 
        RowBox[{"Log", "[", 
         RowBox[{"1", "+", 
          SuperscriptBox["\[ExponentialE]", 
           RowBox[{
            RowBox[{"-", 
             RowBox[{"bondret", "[", 
              RowBox[{
               RowBox[{
                RowBox[{"-", "1"}], "+", "t"}], ",", "m"}], "]"}]}], "-", 
            RowBox[{"bondret", "[", 
             RowBox[{"t", ",", "m"}], "]"}]}]], "+", 
          SuperscriptBox["\[ExponentialE]", 
           RowBox[{"-", 
            RowBox[{"bondret", "[", 
             RowBox[{"t", ",", "m"}], "]"}]}]]}], "]"}]}]}], ",", 
      "\[IndentingNewLine]", 
      RowBox[{
       RowBox[{"g", "[", 
        RowBox[{
         RowBox[{"timeSeriesVector", "[", 
          RowBox[{"bondret", ",", "t", ",", "m", ",", 
           RowBox[{"\"\<TimeAggregation\>\"", "->", "h"}], ",", 
           RowBox[{"\"\<numPeriods\>\"", "->", "k"}]}], "]"}], ",", "h", ",", 
         "k"}], "]"}], "==", 
       RowBox[{
        RowBox[{"bondret", "[", 
         RowBox[{
          RowBox[{
           RowBox[{"-", "2"}], "+", "t"}], ",", "m"}], "]"}], "+", 
        RowBox[{"bondret", "[", 
         RowBox[{
          RowBox[{
           RowBox[{"-", "1"}], "+", "t"}], ",", "m"}], "]"}], "+", 
        RowBox[{"bondret", "[", 
         RowBox[{"t", ",", "m"}], "]"}], "-", 
        RowBox[{"Log", "[", 
         RowBox[{"1", "+", 
          SuperscriptBox["\[ExponentialE]", 
           RowBox[{
            RowBox[{"-", 
             RowBox[{"bondret", "[", 
              RowBox[{
               RowBox[{
                RowBox[{"-", "4"}], "+", "t"}], ",", "m"}], "]"}]}], "-", 
            RowBox[{"bondret", "[", 
             RowBox[{
              RowBox[{
               RowBox[{"-", "3"}], "+", "t"}], ",", "m"}], "]"}]}]], "+", 
          SuperscriptBox["\[ExponentialE]", 
           RowBox[{"-", 
            RowBox[{"bondret", "[", 
             RowBox[{
              RowBox[{
               RowBox[{"-", "3"}], "+", "t"}], ",", "m"}], "]"}]}]]}], "]"}], 
        "+", 
        RowBox[{"Log", "[", 
         RowBox[{"1", "+", 
          SuperscriptBox["\[ExponentialE]", 
           RowBox[{
            RowBox[{"-", 
             RowBox[{"bondret", "[", 
              RowBox[{
               RowBox[{
                RowBox[{"-", "1"}], "+", "t"}], ",", "m"}], "]"}]}], "-", 
            RowBox[{"bondret", "[", 
             RowBox[{"t", ",", "m"}], "]"}]}]], "+", 
          SuperscriptBox["\[ExponentialE]", 
           RowBox[{"-", 
            RowBox[{"bondret", "[", 
             RowBox[{"t", ",", "m"}], "]"}]}]]}], "]"}]}]}]}], 
     "\[IndentingNewLine]", "}"}]}]}]}]], "Input",
 CellGroupingRules->{"GroupTogetherGrouping", 10000.},
 CellChangeTimes->{{3.8901720531736927`*^9, 3.8901721635258904`*^9}, {
   3.890179904157103*^9, 3.890179924111239*^9}, {3.890180004340312*^9, 
   3.890180028753381*^9}, {3.8901801807801247`*^9, 3.890180246889792*^9}, {
   3.890185045383835*^9, 3.890185047656562*^9}, {3.890196060521418*^9, 
   3.8901960605227633`*^9}, 3.8903633949044743`*^9, {3.890406502744421*^9, 
   3.890406515178454*^9}, {3.9051328249518757`*^9, 3.905132841145595*^9}, {
   3.9051336527838793`*^9, 3.9051336530510674`*^9}, {3.905133785270789*^9, 
   3.905133785433055*^9}, {3.9051340375494432`*^9, 3.905134038588225*^9}, 
   3.905134361793556*^9, {3.9051344428486643`*^9, 3.905134443010805*^9}, 
   3.905136393547915*^9},ExpressionUUID->"86511222-6d7b-49cd-b7c5-\
4897c088d14d"],

Cell[BoxData[
 RowBox[{
  RowBox[{"(*", 
   RowBox[{"tests", " ", "timeSeriesVector"}], "*)"}], "\[IndentingNewLine]", 
  
  RowBox[{"And", "@@", 
   RowBox[{"{", "\[IndentingNewLine]", 
    RowBox[{
     RowBox[{
      RowBox[{"timeSeriesVector", "[", 
       RowBox[{"dc", ",", "t"}], "]"}], "==", 
      RowBox[{"{", 
       RowBox[{"dc", "[", "t", "]"}], "}"}]}], ",", "\[IndentingNewLine]", 
     RowBox[{
      RowBox[{"timeSeriesVector", "[", 
       RowBox[{"dc", ",", "t", ",", 
        RowBox[{"\"\<TimeAggregation\>\"", "->", "3"}]}], "]"}], "==", 
      RowBox[{"{", 
       RowBox[{
        RowBox[{"dc", "[", "t", "]"}], ",", 
        RowBox[{"dc", "[", 
         RowBox[{
          RowBox[{"-", "1"}], "+", "t"}], "]"}], ",", 
        RowBox[{"dc", "[", 
         RowBox[{
          RowBox[{"-", "2"}], "+", "t"}], "]"}], ",", 
        RowBox[{"dc", "[", 
         RowBox[{
          RowBox[{"-", "3"}], "+", "t"}], "]"}], ",", 
        RowBox[{"dc", "[", 
         RowBox[{
          RowBox[{"-", "4"}], "+", "t"}], "]"}]}], "}"}]}], ",", 
     "\[IndentingNewLine]", 
     RowBox[{
      RowBox[{"timeSeriesVector", "[", 
       RowBox[{"dc", ",", "t", ",", 
        RowBox[{"\"\<numPeriods\>\"", "->", "6"}]}], "]"}], "==", 
      RowBox[{"{", 
       RowBox[{
        RowBox[{"dc", "[", "t", "]"}], ",", 
        RowBox[{"dc", "[", 
         RowBox[{
          RowBox[{"-", "1"}], "+", "t"}], "]"}], ",", 
        RowBox[{"dc", "[", 
         RowBox[{
          RowBox[{"-", "2"}], "+", "t"}], "]"}], ",", 
        RowBox[{"dc", "[", 
         RowBox[{
          RowBox[{"-", "3"}], "+", "t"}], "]"}], ",", 
        RowBox[{"dc", "[", 
         RowBox[{
          RowBox[{"-", "4"}], "+", "t"}], "]"}], ",", 
        RowBox[{"dc", "[", 
         RowBox[{
          RowBox[{"-", "5"}], "+", "t"}], "]"}]}], "}"}]}], ",", 
     "\[IndentingNewLine]", 
     RowBox[{
      RowBox[{"timeSeriesVector", "[", 
       RowBox[{"dc", ",", "t", ",", 
        RowBox[{"{", 
         RowBox[{
          RowBox[{"\"\<TimeAggregation\>\"", "->", "12"}], ",", 
          RowBox[{"\"\<numPeriods\>\"", "->", "3"}]}], "}"}]}], "]"}], "==", 
      RowBox[{"{", 
       RowBox[{
        RowBox[{"dc", "[", "t", "]"}], ",", 
        RowBox[{"dc", "[", 
         RowBox[{
          RowBox[{"-", "1"}], "+", "t"}], "]"}], ",", 
        RowBox[{"dc", "[", 
         RowBox[{
          RowBox[{"-", "2"}], "+", "t"}], "]"}], ",", 
        RowBox[{"dc", "[", 
         RowBox[{
          RowBox[{"-", "3"}], "+", "t"}], "]"}], ",", 
        RowBox[{"dc", "[", 
         RowBox[{
          RowBox[{"-", "4"}], "+", "t"}], "]"}], ",", 
        RowBox[{"dc", "[", 
         RowBox[{
          RowBox[{"-", "5"}], "+", "t"}], "]"}], ",", 
        RowBox[{"dc", "[", 
         RowBox[{
          RowBox[{"-", "6"}], "+", "t"}], "]"}], ",", 
        RowBox[{"dc", "[", 
         RowBox[{
          RowBox[{"-", "7"}], "+", "t"}], "]"}], ",", 
        RowBox[{"dc", "[", 
         RowBox[{
          RowBox[{"-", "8"}], "+", "t"}], "]"}], ",", 
        RowBox[{"dc", "[", 
         RowBox[{
          RowBox[{"-", "9"}], "+", "t"}], "]"}], ",", 
        RowBox[{"dc", "[", 
         RowBox[{
          RowBox[{"-", "10"}], "+", "t"}], "]"}], ",", 
        RowBox[{"dc", "[", 
         RowBox[{
          RowBox[{"-", "11"}], "+", "t"}], "]"}], ",", 
        RowBox[{"dc", "[", 
         RowBox[{
          RowBox[{"-", "12"}], "+", "t"}], "]"}], ",", 
        RowBox[{"dc", "[", 
         RowBox[{
          RowBox[{"-", "13"}], "+", "t"}], "]"}], ",", 
        RowBox[{"dc", "[", 
         RowBox[{
          RowBox[{"-", "14"}], "+", "t"}], "]"}], ",", 
        RowBox[{"dc", "[", 
         RowBox[{
          RowBox[{"-", "15"}], "+", "t"}], "]"}], ",", 
        RowBox[{"dc", "[", 
         RowBox[{
          RowBox[{"-", "16"}], "+", "t"}], "]"}], ",", 
        RowBox[{"dc", "[", 
         RowBox[{
          RowBox[{"-", "17"}], "+", "t"}], "]"}], ",", 
        RowBox[{"dc", "[", 
         RowBox[{
          RowBox[{"-", "18"}], "+", "t"}], "]"}], ",", 
        RowBox[{"dc", "[", 
         RowBox[{
          RowBox[{"-", "19"}], "+", "t"}], "]"}], ",", 
        RowBox[{"dc", "[", 
         RowBox[{
          RowBox[{"-", "20"}], "+", "t"}], "]"}], ",", 
        RowBox[{"dc", "[", 
         RowBox[{
          RowBox[{"-", "21"}], "+", "t"}], "]"}], ",", 
        RowBox[{"dc", "[", 
         RowBox[{
          RowBox[{"-", "22"}], "+", "t"}], "]"}], ",", 
        RowBox[{"dc", "[", 
         RowBox[{
          RowBox[{"-", "23"}], "+", "t"}], "]"}], ",", 
        RowBox[{"dc", "[", 
         RowBox[{
          RowBox[{"-", "24"}], "+", "t"}], "]"}], ",", 
        RowBox[{"dc", "[", 
         RowBox[{
          RowBox[{"-", "25"}], "+", "t"}], "]"}], ",", 
        RowBox[{"dc", "[", 
         RowBox[{
          RowBox[{"-", "26"}], "+", "t"}], "]"}], ",", 
        RowBox[{"dc", "[", 
         RowBox[{
          RowBox[{"-", "27"}], "+", "t"}], "]"}], ",", 
        RowBox[{"dc", "[", 
         RowBox[{
          RowBox[{"-", "28"}], "+", "t"}], "]"}], ",", 
        RowBox[{"dc", "[", 
         RowBox[{
          RowBox[{"-", "29"}], "+", "t"}], "]"}], ",", 
        RowBox[{"dc", "[", 
         RowBox[{
          RowBox[{"-", "30"}], "+", "t"}], "]"}], ",", 
        RowBox[{"dc", "[", 
         RowBox[{
          RowBox[{"-", "31"}], "+", "t"}], "]"}], ",", 
        RowBox[{"dc", "[", 
         RowBox[{
          RowBox[{"-", "32"}], "+", "t"}], "]"}], ",", 
        RowBox[{"dc", "[", 
         RowBox[{
          RowBox[{"-", "33"}], "+", "t"}], "]"}], ",", 
        RowBox[{"dc", "[", 
         RowBox[{
          RowBox[{"-", "34"}], "+", "t"}], "]"}], ",", 
        RowBox[{"dc", "[", 
         RowBox[{
          RowBox[{"-", "35"}], "+", "t"}], "]"}], ",", 
        RowBox[{"dc", "[", 
         RowBox[{
          RowBox[{"-", "36"}], "+", "t"}], "]"}], ",", 
        RowBox[{"dc", "[", 
         RowBox[{
          RowBox[{"-", "37"}], "+", "t"}], "]"}], ",", 
        RowBox[{"dc", "[", 
         RowBox[{
          RowBox[{"-", "38"}], "+", "t"}], "]"}], ",", 
        RowBox[{"dc", "[", 
         RowBox[{
          RowBox[{"-", "39"}], "+", "t"}], "]"}], ",", 
        RowBox[{"dc", "[", 
         RowBox[{
          RowBox[{"-", "40"}], "+", "t"}], "]"}], ",", 
        RowBox[{"dc", "[", 
         RowBox[{
          RowBox[{"-", "41"}], "+", "t"}], "]"}], ",", 
        RowBox[{"dc", "[", 
         RowBox[{
          RowBox[{"-", "42"}], "+", "t"}], "]"}], ",", 
        RowBox[{"dc", "[", 
         RowBox[{
          RowBox[{"-", "43"}], "+", "t"}], "]"}], ",", 
        RowBox[{"dc", "[", 
         RowBox[{
          RowBox[{"-", "44"}], "+", "t"}], "]"}], ",", 
        RowBox[{"dc", "[", 
         RowBox[{
          RowBox[{"-", "45"}], "+", "t"}], "]"}], ",", 
        RowBox[{"dc", "[", 
         RowBox[{
          RowBox[{"-", "46"}], "+", "t"}], "]"}]}], "}"}]}], ",", 
     "\[IndentingNewLine]", 
     RowBox[{
      RowBox[{"timeSeriesVector", "[", 
       RowBox[{"dc", ",", "t", ",", 
        RowBox[{"\"\<TimeAggregation\>\"", "->", "12"}], ",", 
        RowBox[{"\"\<numPeriods\>\"", "->", "3"}]}], "]"}], "==", 
      RowBox[{"{", 
       RowBox[{
        RowBox[{"dc", "[", "t", "]"}], ",", 
        RowBox[{"dc", "[", 
         RowBox[{
          RowBox[{"-", "1"}], "+", "t"}], "]"}], ",", 
        RowBox[{"dc", "[", 
         RowBox[{
          RowBox[{"-", "2"}], "+", "t"}], "]"}], ",", 
        RowBox[{"dc", "[", 
         RowBox[{
          RowBox[{"-", "3"}], "+", "t"}], "]"}], ",", 
        RowBox[{"dc", "[", 
         RowBox[{
          RowBox[{"-", "4"}], "+", "t"}], "]"}], ",", 
        RowBox[{"dc", "[", 
         RowBox[{
          RowBox[{"-", "5"}], "+", "t"}], "]"}], ",", 
        RowBox[{"dc", "[", 
         RowBox[{
          RowBox[{"-", "6"}], "+", "t"}], "]"}], ",", 
        RowBox[{"dc", "[", 
         RowBox[{
          RowBox[{"-", "7"}], "+", "t"}], "]"}], ",", 
        RowBox[{"dc", "[", 
         RowBox[{
          RowBox[{"-", "8"}], "+", "t"}], "]"}], ",", 
        RowBox[{"dc", "[", 
         RowBox[{
          RowBox[{"-", "9"}], "+", "t"}], "]"}], ",", 
        RowBox[{"dc", "[", 
         RowBox[{
          RowBox[{"-", "10"}], "+", "t"}], "]"}], ",", 
        RowBox[{"dc", "[", 
         RowBox[{
          RowBox[{"-", "11"}], "+", "t"}], "]"}], ",", 
        RowBox[{"dc", "[", 
         RowBox[{
          RowBox[{"-", "12"}], "+", "t"}], "]"}], ",", 
        RowBox[{"dc", "[", 
         RowBox[{
          RowBox[{"-", "13"}], "+", "t"}], "]"}], ",", 
        RowBox[{"dc", "[", 
         RowBox[{
          RowBox[{"-", "14"}], "+", "t"}], "]"}], ",", 
        RowBox[{"dc", "[", 
         RowBox[{
          RowBox[{"-", "15"}], "+", "t"}], "]"}], ",", 
        RowBox[{"dc", "[", 
         RowBox[{
          RowBox[{"-", "16"}], "+", "t"}], "]"}], ",", 
        RowBox[{"dc", "[", 
         RowBox[{
          RowBox[{"-", "17"}], "+", "t"}], "]"}], ",", 
        RowBox[{"dc", "[", 
         RowBox[{
          RowBox[{"-", "18"}], "+", "t"}], "]"}], ",", 
        RowBox[{"dc", "[", 
         RowBox[{
          RowBox[{"-", "19"}], "+", "t"}], "]"}], ",", 
        RowBox[{"dc", "[", 
         RowBox[{
          RowBox[{"-", "20"}], "+", "t"}], "]"}], ",", 
        RowBox[{"dc", "[", 
         RowBox[{
          RowBox[{"-", "21"}], "+", "t"}], "]"}], ",", 
        RowBox[{"dc", "[", 
         RowBox[{
          RowBox[{"-", "22"}], "+", "t"}], "]"}], ",", 
        RowBox[{"dc", "[", 
         RowBox[{
          RowBox[{"-", "23"}], "+", "t"}], "]"}], ",", 
        RowBox[{"dc", "[", 
         RowBox[{
          RowBox[{"-", "24"}], "+", "t"}], "]"}], ",", 
        RowBox[{"dc", "[", 
         RowBox[{
          RowBox[{"-", "25"}], "+", "t"}], "]"}], ",", 
        RowBox[{"dc", "[", 
         RowBox[{
          RowBox[{"-", "26"}], "+", "t"}], "]"}], ",", 
        RowBox[{"dc", "[", 
         RowBox[{
          RowBox[{"-", "27"}], "+", "t"}], "]"}], ",", 
        RowBox[{"dc", "[", 
         RowBox[{
          RowBox[{"-", "28"}], "+", "t"}], "]"}], ",", 
        RowBox[{"dc", "[", 
         RowBox[{
          RowBox[{"-", "29"}], "+", "t"}], "]"}], ",", 
        RowBox[{"dc", "[", 
         RowBox[{
          RowBox[{"-", "30"}], "+", "t"}], "]"}], ",", 
        RowBox[{"dc", "[", 
         RowBox[{
          RowBox[{"-", "31"}], "+", "t"}], "]"}], ",", 
        RowBox[{"dc", "[", 
         RowBox[{
          RowBox[{"-", "32"}], "+", "t"}], "]"}], ",", 
        RowBox[{"dc", "[", 
         RowBox[{
          RowBox[{"-", "33"}], "+", "t"}], "]"}], ",", 
        RowBox[{"dc", "[", 
         RowBox[{
          RowBox[{"-", "34"}], "+", "t"}], "]"}], ",", 
        RowBox[{"dc", "[", 
         RowBox[{
          RowBox[{"-", "35"}], "+", "t"}], "]"}], ",", 
        RowBox[{"dc", "[", 
         RowBox[{
          RowBox[{"-", "36"}], "+", "t"}], "]"}], ",", 
        RowBox[{"dc", "[", 
         RowBox[{
          RowBox[{"-", "37"}], "+", "t"}], "]"}], ",", 
        RowBox[{"dc", "[", 
         RowBox[{
          RowBox[{"-", "38"}], "+", "t"}], "]"}], ",", 
        RowBox[{"dc", "[", 
         RowBox[{
          RowBox[{"-", "39"}], "+", "t"}], "]"}], ",", 
        RowBox[{"dc", "[", 
         RowBox[{
          RowBox[{"-", "40"}], "+", "t"}], "]"}], ",", 
        RowBox[{"dc", "[", 
         RowBox[{
          RowBox[{"-", "41"}], "+", "t"}], "]"}], ",", 
        RowBox[{"dc", "[", 
         RowBox[{
          RowBox[{"-", "42"}], "+", "t"}], "]"}], ",", 
        RowBox[{"dc", "[", 
         RowBox[{
          RowBox[{"-", "43"}], "+", "t"}], "]"}], ",", 
        RowBox[{"dc", "[", 
         RowBox[{
          RowBox[{"-", "44"}], "+", "t"}], "]"}], ",", 
        RowBox[{"dc", "[", 
         RowBox[{
          RowBox[{"-", "45"}], "+", "t"}], "]"}], ",", 
        RowBox[{"dc", "[", 
         RowBox[{
          RowBox[{"-", "46"}], "+", "t"}], "]"}]}], "}"}]}]}], 
    "\[IndentingNewLine]", "}"}]}]}]], "Input",
 CellGroupingRules->{"GroupTogetherGrouping", 10000.},
 CellChangeTimes->{{3.890171068020504*^9, 3.8901710810264053`*^9}, {
   3.890171371499096*^9, 3.8901714119542933`*^9}, {3.8901714813721037`*^9, 
   3.890171498297214*^9}, {3.890171555073202*^9, 3.890171561776828*^9}, {
   3.890171766081479*^9, 3.890171783357297*^9}, {3.8901718642454357`*^9, 
   3.8901718665105333`*^9}, 3.890171945514958*^9, {3.8901960605278063`*^9, 
   3.8901960605290613`*^9}, 3.890363394904688*^9, {3.9051328004639463`*^9, 
   3.905132820641307*^9}, {3.905133655512431*^9, 3.90513365574645*^9}, {
   3.9051337878630733`*^9, 3.9051337880337763`*^9}, {3.905134042347932*^9, 
   3.905134046052977*^9}},
 CellLabel->"In[64]:=",ExpressionUUID->"769bc524-d97d-4eba-a8ec-8d104e71f203"],

Cell[BoxData[
 RowBox[{"And", "@@", 
  RowBox[{"{", "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{
     RowBox[{"timeSeriesVector", "[", 
      RowBox[{"dd", ",", "t", ",", "i"}], "]"}], "==", 
     RowBox[{"{", 
      RowBox[{"dd", "[", 
       RowBox[{"t", ",", "i"}], "]"}], "}"}]}], ",", "\[IndentingNewLine]", 
    RowBox[{
     RowBox[{"timeSeriesVector", "[", 
      RowBox[{"dd", ",", "t", ",", "i", ",", 
       RowBox[{"\"\<TimeAggregation\>\"", "->", "3"}]}], "]"}], "==", 
     RowBox[{"{", 
      RowBox[{
       RowBox[{"dd", "[", 
        RowBox[{"t", ",", "i"}], "]"}], ",", 
       RowBox[{"dd", "[", 
        RowBox[{
         RowBox[{
          RowBox[{"-", "1"}], "+", "t"}], ",", "i"}], "]"}], ",", 
       RowBox[{"dd", "[", 
        RowBox[{
         RowBox[{
          RowBox[{"-", "2"}], "+", "t"}], ",", "i"}], "]"}], ",", 
       RowBox[{"dd", "[", 
        RowBox[{
         RowBox[{
          RowBox[{"-", "3"}], "+", "t"}], ",", "i"}], "]"}], ",", 
       RowBox[{"dd", "[", 
        RowBox[{
         RowBox[{
          RowBox[{"-", "4"}], "+", "t"}], ",", "i"}], "]"}]}], "}"}]}], ",", 
    "\[IndentingNewLine]", 
    RowBox[{
     RowBox[{"timeSeriesVector", "[", 
      RowBox[{"dd", ",", "t", ",", "i", ",", 
       RowBox[{"\"\<numPeriods\>\"", "->", "6"}]}], "]"}], "==", 
     RowBox[{"{", 
      RowBox[{
       RowBox[{"dd", "[", 
        RowBox[{"t", ",", "i"}], "]"}], ",", 
       RowBox[{"dd", "[", 
        RowBox[{
         RowBox[{
          RowBox[{"-", "1"}], "+", "t"}], ",", "i"}], "]"}], ",", 
       RowBox[{"dd", "[", 
        RowBox[{
         RowBox[{
          RowBox[{"-", "2"}], "+", "t"}], ",", "i"}], "]"}], ",", 
       RowBox[{"dd", "[", 
        RowBox[{
         RowBox[{
          RowBox[{"-", "3"}], "+", "t"}], ",", "i"}], "]"}], ",", 
       RowBox[{"dd", "[", 
        RowBox[{
         RowBox[{
          RowBox[{"-", "4"}], "+", "t"}], ",", "i"}], "]"}], ",", 
       RowBox[{"dd", "[", 
        RowBox[{
         RowBox[{
          RowBox[{"-", "5"}], "+", "t"}], ",", "i"}], "]"}]}], "}"}]}], ",", 
    "\[IndentingNewLine]", 
    RowBox[{
     RowBox[{"timeSeriesVector", "[", 
      RowBox[{"dd", ",", "t", ",", "i", ",", 
       RowBox[{"{", 
        RowBox[{
         RowBox[{"\"\<TimeAggregation\>\"", "->", "12"}], ",", 
         RowBox[{"\"\<numPeriods\>\"", "->", "3"}]}], "}"}]}], "]"}], "==", 
     RowBox[{"{", 
      RowBox[{
       RowBox[{"dd", "[", 
        RowBox[{"t", ",", "i"}], "]"}], ",", 
       RowBox[{"dd", "[", 
        RowBox[{
         RowBox[{
          RowBox[{"-", "1"}], "+", "t"}], ",", "i"}], "]"}], ",", 
       RowBox[{"dd", "[", 
        RowBox[{
         RowBox[{
          RowBox[{"-", "2"}], "+", "t"}], ",", "i"}], "]"}], ",", 
       RowBox[{"dd", "[", 
        RowBox[{
         RowBox[{
          RowBox[{"-", "3"}], "+", "t"}], ",", "i"}], "]"}], ",", 
       RowBox[{"dd", "[", 
        RowBox[{
         RowBox[{
          RowBox[{"-", "4"}], "+", "t"}], ",", "i"}], "]"}], ",", 
       RowBox[{"dd", "[", 
        RowBox[{
         RowBox[{
          RowBox[{"-", "5"}], "+", "t"}], ",", "i"}], "]"}], ",", 
       RowBox[{"dd", "[", 
        RowBox[{
         RowBox[{
          RowBox[{"-", "6"}], "+", "t"}], ",", "i"}], "]"}], ",", 
       RowBox[{"dd", "[", 
        RowBox[{
         RowBox[{
          RowBox[{"-", "7"}], "+", "t"}], ",", "i"}], "]"}], ",", 
       RowBox[{"dd", "[", 
        RowBox[{
         RowBox[{
          RowBox[{"-", "8"}], "+", "t"}], ",", "i"}], "]"}], ",", 
       RowBox[{"dd", "[", 
        RowBox[{
         RowBox[{
          RowBox[{"-", "9"}], "+", "t"}], ",", "i"}], "]"}], ",", 
       RowBox[{"dd", "[", 
        RowBox[{
         RowBox[{
          RowBox[{"-", "10"}], "+", "t"}], ",", "i"}], "]"}], ",", 
       RowBox[{"dd", "[", 
        RowBox[{
         RowBox[{
          RowBox[{"-", "11"}], "+", "t"}], ",", "i"}], "]"}], ",", 
       RowBox[{"dd", "[", 
        RowBox[{
         RowBox[{
          RowBox[{"-", "12"}], "+", "t"}], ",", "i"}], "]"}], ",", 
       RowBox[{"dd", "[", 
        RowBox[{
         RowBox[{
          RowBox[{"-", "13"}], "+", "t"}], ",", "i"}], "]"}], ",", 
       RowBox[{"dd", "[", 
        RowBox[{
         RowBox[{
          RowBox[{"-", "14"}], "+", "t"}], ",", "i"}], "]"}], ",", 
       RowBox[{"dd", "[", 
        RowBox[{
         RowBox[{
          RowBox[{"-", "15"}], "+", "t"}], ",", "i"}], "]"}], ",", 
       RowBox[{"dd", "[", 
        RowBox[{
         RowBox[{
          RowBox[{"-", "16"}], "+", "t"}], ",", "i"}], "]"}], ",", 
       RowBox[{"dd", "[", 
        RowBox[{
         RowBox[{
          RowBox[{"-", "17"}], "+", "t"}], ",", "i"}], "]"}], ",", 
       RowBox[{"dd", "[", 
        RowBox[{
         RowBox[{
          RowBox[{"-", "18"}], "+", "t"}], ",", "i"}], "]"}], ",", 
       RowBox[{"dd", "[", 
        RowBox[{
         RowBox[{
          RowBox[{"-", "19"}], "+", "t"}], ",", "i"}], "]"}], ",", 
       RowBox[{"dd", "[", 
        RowBox[{
         RowBox[{
          RowBox[{"-", "20"}], "+", "t"}], ",", "i"}], "]"}], ",", 
       RowBox[{"dd", "[", 
        RowBox[{
         RowBox[{
          RowBox[{"-", "21"}], "+", "t"}], ",", "i"}], "]"}], ",", 
       RowBox[{"dd", "[", 
        RowBox[{
         RowBox[{
          RowBox[{"-", "22"}], "+", "t"}], ",", "i"}], "]"}], ",", 
       RowBox[{"dd", "[", 
        RowBox[{
         RowBox[{
          RowBox[{"-", "23"}], "+", "t"}], ",", "i"}], "]"}], ",", 
       RowBox[{"dd", "[", 
        RowBox[{
         RowBox[{
          RowBox[{"-", "24"}], "+", "t"}], ",", "i"}], "]"}], ",", 
       RowBox[{"dd", "[", 
        RowBox[{
         RowBox[{
          RowBox[{"-", "25"}], "+", "t"}], ",", "i"}], "]"}], ",", 
       RowBox[{"dd", "[", 
        RowBox[{
         RowBox[{
          RowBox[{"-", "26"}], "+", "t"}], ",", "i"}], "]"}], ",", 
       RowBox[{"dd", "[", 
        RowBox[{
         RowBox[{
          RowBox[{"-", "27"}], "+", "t"}], ",", "i"}], "]"}], ",", 
       RowBox[{"dd", "[", 
        RowBox[{
         RowBox[{
          RowBox[{"-", "28"}], "+", "t"}], ",", "i"}], "]"}], ",", 
       RowBox[{"dd", "[", 
        RowBox[{
         RowBox[{
          RowBox[{"-", "29"}], "+", "t"}], ",", "i"}], "]"}], ",", 
       RowBox[{"dd", "[", 
        RowBox[{
         RowBox[{
          RowBox[{"-", "30"}], "+", "t"}], ",", "i"}], "]"}], ",", 
       RowBox[{"dd", "[", 
        RowBox[{
         RowBox[{
          RowBox[{"-", "31"}], "+", "t"}], ",", "i"}], "]"}], ",", 
       RowBox[{"dd", "[", 
        RowBox[{
         RowBox[{
          RowBox[{"-", "32"}], "+", "t"}], ",", "i"}], "]"}], ",", 
       RowBox[{"dd", "[", 
        RowBox[{
         RowBox[{
          RowBox[{"-", "33"}], "+", "t"}], ",", "i"}], "]"}], ",", 
       RowBox[{"dd", "[", 
        RowBox[{
         RowBox[{
          RowBox[{"-", "34"}], "+", "t"}], ",", "i"}], "]"}], ",", 
       RowBox[{"dd", "[", 
        RowBox[{
         RowBox[{
          RowBox[{"-", "35"}], "+", "t"}], ",", "i"}], "]"}], ",", 
       RowBox[{"dd", "[", 
        RowBox[{
         RowBox[{
          RowBox[{"-", "36"}], "+", "t"}], ",", "i"}], "]"}], ",", 
       RowBox[{"dd", "[", 
        RowBox[{
         RowBox[{
          RowBox[{"-", "37"}], "+", "t"}], ",", "i"}], "]"}], ",", 
       RowBox[{"dd", "[", 
        RowBox[{
         RowBox[{
          RowBox[{"-", "38"}], "+", "t"}], ",", "i"}], "]"}], ",", 
       RowBox[{"dd", "[", 
        RowBox[{
         RowBox[{
          RowBox[{"-", "39"}], "+", "t"}], ",", "i"}], "]"}], ",", 
       RowBox[{"dd", "[", 
        RowBox[{
         RowBox[{
          RowBox[{"-", "40"}], "+", "t"}], ",", "i"}], "]"}], ",", 
       RowBox[{"dd", "[", 
        RowBox[{
         RowBox[{
          RowBox[{"-", "41"}], "+", "t"}], ",", "i"}], "]"}], ",", 
       RowBox[{"dd", "[", 
        RowBox[{
         RowBox[{
          RowBox[{"-", "42"}], "+", "t"}], ",", "i"}], "]"}], ",", 
       RowBox[{"dd", "[", 
        RowBox[{
         RowBox[{
          RowBox[{"-", "43"}], "+", "t"}], ",", "i"}], "]"}], ",", 
       RowBox[{"dd", "[", 
        RowBox[{
         RowBox[{
          RowBox[{"-", "44"}], "+", "t"}], ",", "i"}], "]"}], ",", 
       RowBox[{"dd", "[", 
        RowBox[{
         RowBox[{
          RowBox[{"-", "45"}], "+", "t"}], ",", "i"}], "]"}], ",", 
       RowBox[{"dd", "[", 
        RowBox[{
         RowBox[{
          RowBox[{"-", "46"}], "+", "t"}], ",", "i"}], "]"}]}], "}"}]}], ",", 
    "\[IndentingNewLine]", 
    RowBox[{
     RowBox[{"timeSeriesVector", "[", 
      RowBox[{"dd", ",", "t", ",", "i", ",", 
       RowBox[{"\"\<TimeAggregation\>\"", "->", "12"}], ",", 
       RowBox[{"\"\<numPeriods\>\"", "->", "3"}]}], "]"}], "==", 
     RowBox[{"{", 
      RowBox[{
       RowBox[{"dd", "[", 
        RowBox[{"t", ",", "i"}], "]"}], ",", 
       RowBox[{"dd", "[", 
        RowBox[{
         RowBox[{
          RowBox[{"-", "1"}], "+", "t"}], ",", "i"}], "]"}], ",", 
       RowBox[{"dd", "[", 
        RowBox[{
         RowBox[{
          RowBox[{"-", "2"}], "+", "t"}], ",", "i"}], "]"}], ",", 
       RowBox[{"dd", "[", 
        RowBox[{
         RowBox[{
          RowBox[{"-", "3"}], "+", "t"}], ",", "i"}], "]"}], ",", 
       RowBox[{"dd", "[", 
        RowBox[{
         RowBox[{
          RowBox[{"-", "4"}], "+", "t"}], ",", "i"}], "]"}], ",", 
       RowBox[{"dd", "[", 
        RowBox[{
         RowBox[{
          RowBox[{"-", "5"}], "+", "t"}], ",", "i"}], "]"}], ",", 
       RowBox[{"dd", "[", 
        RowBox[{
         RowBox[{
          RowBox[{"-", "6"}], "+", "t"}], ",", "i"}], "]"}], ",", 
       RowBox[{"dd", "[", 
        RowBox[{
         RowBox[{
          RowBox[{"-", "7"}], "+", "t"}], ",", "i"}], "]"}], ",", 
       RowBox[{"dd", "[", 
        RowBox[{
         RowBox[{
          RowBox[{"-", "8"}], "+", "t"}], ",", "i"}], "]"}], ",", 
       RowBox[{"dd", "[", 
        RowBox[{
         RowBox[{
          RowBox[{"-", "9"}], "+", "t"}], ",", "i"}], "]"}], ",", 
       RowBox[{"dd", "[", 
        RowBox[{
         RowBox[{
          RowBox[{"-", "10"}], "+", "t"}], ",", "i"}], "]"}], ",", 
       RowBox[{"dd", "[", 
        RowBox[{
         RowBox[{
          RowBox[{"-", "11"}], "+", "t"}], ",", "i"}], "]"}], ",", 
       RowBox[{"dd", "[", 
        RowBox[{
         RowBox[{
          RowBox[{"-", "12"}], "+", "t"}], ",", "i"}], "]"}], ",", 
       RowBox[{"dd", "[", 
        RowBox[{
         RowBox[{
          RowBox[{"-", "13"}], "+", "t"}], ",", "i"}], "]"}], ",", 
       RowBox[{"dd", "[", 
        RowBox[{
         RowBox[{
          RowBox[{"-", "14"}], "+", "t"}], ",", "i"}], "]"}], ",", 
       RowBox[{"dd", "[", 
        RowBox[{
         RowBox[{
          RowBox[{"-", "15"}], "+", "t"}], ",", "i"}], "]"}], ",", 
       RowBox[{"dd", "[", 
        RowBox[{
         RowBox[{
          RowBox[{"-", "16"}], "+", "t"}], ",", "i"}], "]"}], ",", 
       RowBox[{"dd", "[", 
        RowBox[{
         RowBox[{
          RowBox[{"-", "17"}], "+", "t"}], ",", "i"}], "]"}], ",", 
       RowBox[{"dd", "[", 
        RowBox[{
         RowBox[{
          RowBox[{"-", "18"}], "+", "t"}], ",", "i"}], "]"}], ",", 
       RowBox[{"dd", "[", 
        RowBox[{
         RowBox[{
          RowBox[{"-", "19"}], "+", "t"}], ",", "i"}], "]"}], ",", 
       RowBox[{"dd", "[", 
        RowBox[{
         RowBox[{
          RowBox[{"-", "20"}], "+", "t"}], ",", "i"}], "]"}], ",", 
       RowBox[{"dd", "[", 
        RowBox[{
         RowBox[{
          RowBox[{"-", "21"}], "+", "t"}], ",", "i"}], "]"}], ",", 
       RowBox[{"dd", "[", 
        RowBox[{
         RowBox[{
          RowBox[{"-", "22"}], "+", "t"}], ",", "i"}], "]"}], ",", 
       RowBox[{"dd", "[", 
        RowBox[{
         RowBox[{
          RowBox[{"-", "23"}], "+", "t"}], ",", "i"}], "]"}], ",", 
       RowBox[{"dd", "[", 
        RowBox[{
         RowBox[{
          RowBox[{"-", "24"}], "+", "t"}], ",", "i"}], "]"}], ",", 
       RowBox[{"dd", "[", 
        RowBox[{
         RowBox[{
          RowBox[{"-", "25"}], "+", "t"}], ",", "i"}], "]"}], ",", 
       RowBox[{"dd", "[", 
        RowBox[{
         RowBox[{
          RowBox[{"-", "26"}], "+", "t"}], ",", "i"}], "]"}], ",", 
       RowBox[{"dd", "[", 
        RowBox[{
         RowBox[{
          RowBox[{"-", "27"}], "+", "t"}], ",", "i"}], "]"}], ",", 
       RowBox[{"dd", "[", 
        RowBox[{
         RowBox[{
          RowBox[{"-", "28"}], "+", "t"}], ",", "i"}], "]"}], ",", 
       RowBox[{"dd", "[", 
        RowBox[{
         RowBox[{
          RowBox[{"-", "29"}], "+", "t"}], ",", "i"}], "]"}], ",", 
       RowBox[{"dd", "[", 
        RowBox[{
         RowBox[{
          RowBox[{"-", "30"}], "+", "t"}], ",", "i"}], "]"}], ",", 
       RowBox[{"dd", "[", 
        RowBox[{
         RowBox[{
          RowBox[{"-", "31"}], "+", "t"}], ",", "i"}], "]"}], ",", 
       RowBox[{"dd", "[", 
        RowBox[{
         RowBox[{
          RowBox[{"-", "32"}], "+", "t"}], ",", "i"}], "]"}], ",", 
       RowBox[{"dd", "[", 
        RowBox[{
         RowBox[{
          RowBox[{"-", "33"}], "+", "t"}], ",", "i"}], "]"}], ",", 
       RowBox[{"dd", "[", 
        RowBox[{
         RowBox[{
          RowBox[{"-", "34"}], "+", "t"}], ",", "i"}], "]"}], ",", 
       RowBox[{"dd", "[", 
        RowBox[{
         RowBox[{
          RowBox[{"-", "35"}], "+", "t"}], ",", "i"}], "]"}], ",", 
       RowBox[{"dd", "[", 
        RowBox[{
         RowBox[{
          RowBox[{"-", "36"}], "+", "t"}], ",", "i"}], "]"}], ",", 
       RowBox[{"dd", "[", 
        RowBox[{
         RowBox[{
          RowBox[{"-", "37"}], "+", "t"}], ",", "i"}], "]"}], ",", 
       RowBox[{"dd", "[", 
        RowBox[{
         RowBox[{
          RowBox[{"-", "38"}], "+", "t"}], ",", "i"}], "]"}], ",", 
       RowBox[{"dd", "[", 
        RowBox[{
         RowBox[{
          RowBox[{"-", "39"}], "+", "t"}], ",", "i"}], "]"}], ",", 
       RowBox[{"dd", "[", 
        RowBox[{
         RowBox[{
          RowBox[{"-", "40"}], "+", "t"}], ",", "i"}], "]"}], ",", 
       RowBox[{"dd", "[", 
        RowBox[{
         RowBox[{
          RowBox[{"-", "41"}], "+", "t"}], ",", "i"}], "]"}], ",", 
       RowBox[{"dd", "[", 
        RowBox[{
         RowBox[{
          RowBox[{"-", "42"}], "+", "t"}], ",", "i"}], "]"}], ",", 
       RowBox[{"dd", "[", 
        RowBox[{
         RowBox[{
          RowBox[{"-", "43"}], "+", "t"}], ",", "i"}], "]"}], ",", 
       RowBox[{"dd", "[", 
        RowBox[{
         RowBox[{
          RowBox[{"-", "44"}], "+", "t"}], ",", "i"}], "]"}], ",", 
       RowBox[{"dd", "[", 
        RowBox[{
         RowBox[{
          RowBox[{"-", "45"}], "+", "t"}], ",", "i"}], "]"}], ",", 
       RowBox[{"dd", "[", 
        RowBox[{
         RowBox[{
          RowBox[{"-", "46"}], "+", "t"}], ",", "i"}], "]"}]}], "}"}]}], ",", 
    "\[IndentingNewLine]", "\[IndentingNewLine]", 
    RowBox[{
     RowBox[{"timeSeriesVector", "[", 
      RowBox[{"dd", ",", "t", ",", "1"}], "]"}], "==", 
     RowBox[{"{", 
      RowBox[{"dd", "[", 
       RowBox[{"t", ",", "1"}], "]"}], "}"}]}], ",", "\[IndentingNewLine]", 
    RowBox[{
     RowBox[{"timeSeriesVector", "[", 
      RowBox[{"dd", ",", "t", ",", "1", ",", 
       RowBox[{"\"\<TimeAggregation\>\"", "->", "3"}]}], "]"}], "==", 
     RowBox[{"{", 
      RowBox[{
       RowBox[{"dd", "[", 
        RowBox[{"t", ",", "1"}], "]"}], ",", 
       RowBox[{"dd", "[", 
        RowBox[{
         RowBox[{
          RowBox[{"-", "1"}], "+", "t"}], ",", "1"}], "]"}], ",", 
       RowBox[{"dd", "[", 
        RowBox[{
         RowBox[{
          RowBox[{"-", "2"}], "+", "t"}], ",", "1"}], "]"}], ",", 
       RowBox[{"dd", "[", 
        RowBox[{
         RowBox[{
          RowBox[{"-", "3"}], "+", "t"}], ",", "1"}], "]"}], ",", 
       RowBox[{"dd", "[", 
        RowBox[{
         RowBox[{
          RowBox[{"-", "4"}], "+", "t"}], ",", "1"}], "]"}]}], "}"}]}], ",", 
    "\[IndentingNewLine]", 
    RowBox[{
     RowBox[{"timeSeriesVector", "[", 
      RowBox[{"dd", ",", "t", ",", "1", ",", 
       RowBox[{"\"\<numPeriods\>\"", "->", "6"}]}], "]"}], "==", 
     RowBox[{"{", 
      RowBox[{
       RowBox[{"dd", "[", 
        RowBox[{"t", ",", "1"}], "]"}], ",", 
       RowBox[{"dd", "[", 
        RowBox[{
         RowBox[{
          RowBox[{"-", "1"}], "+", "t"}], ",", "1"}], "]"}], ",", 
       RowBox[{"dd", "[", 
        RowBox[{
         RowBox[{
          RowBox[{"-", "2"}], "+", "t"}], ",", "1"}], "]"}], ",", 
       RowBox[{"dd", "[", 
        RowBox[{
         RowBox[{
          RowBox[{"-", "3"}], "+", "t"}], ",", "1"}], "]"}], ",", 
       RowBox[{"dd", "[", 
        RowBox[{
         RowBox[{
          RowBox[{"-", "4"}], "+", "t"}], ",", "1"}], "]"}], ",", 
       RowBox[{"dd", "[", 
        RowBox[{
         RowBox[{
          RowBox[{"-", "5"}], "+", "t"}], ",", "1"}], "]"}]}], "}"}]}], ",", 
    "\[IndentingNewLine]", 
    RowBox[{
     RowBox[{"timeSeriesVector", "[", 
      RowBox[{"dd", ",", "t", ",", "1", ",", 
       RowBox[{"{", 
        RowBox[{
         RowBox[{"\"\<TimeAggregation\>\"", "->", "12"}], ",", 
         RowBox[{"\"\<numPeriods\>\"", "->", "3"}]}], "}"}]}], "]"}], "==", 
     RowBox[{"{", 
      RowBox[{
       RowBox[{"dd", "[", 
        RowBox[{"t", ",", "1"}], "]"}], ",", 
       RowBox[{"dd", "[", 
        RowBox[{
         RowBox[{
          RowBox[{"-", "1"}], "+", "t"}], ",", "1"}], "]"}], ",", 
       RowBox[{"dd", "[", 
        RowBox[{
         RowBox[{
          RowBox[{"-", "2"}], "+", "t"}], ",", "1"}], "]"}], ",", 
       RowBox[{"dd", "[", 
        RowBox[{
         RowBox[{
          RowBox[{"-", "3"}], "+", "t"}], ",", "1"}], "]"}], ",", 
       RowBox[{"dd", "[", 
        RowBox[{
         RowBox[{
          RowBox[{"-", "4"}], "+", "t"}], ",", "1"}], "]"}], ",", 
       RowBox[{"dd", "[", 
        RowBox[{
         RowBox[{
          RowBox[{"-", "5"}], "+", "t"}], ",", "1"}], "]"}], ",", 
       RowBox[{"dd", "[", 
        RowBox[{
         RowBox[{
          RowBox[{"-", "6"}], "+", "t"}], ",", "1"}], "]"}], ",", 
       RowBox[{"dd", "[", 
        RowBox[{
         RowBox[{
          RowBox[{"-", "7"}], "+", "t"}], ",", "1"}], "]"}], ",", 
       RowBox[{"dd", "[", 
        RowBox[{
         RowBox[{
          RowBox[{"-", "8"}], "+", "t"}], ",", "1"}], "]"}], ",", 
       RowBox[{"dd", "[", 
        RowBox[{
         RowBox[{
          RowBox[{"-", "9"}], "+", "t"}], ",", "1"}], "]"}], ",", 
       RowBox[{"dd", "[", 
        RowBox[{
         RowBox[{
          RowBox[{"-", "10"}], "+", "t"}], ",", "1"}], "]"}], ",", 
       RowBox[{"dd", "[", 
        RowBox[{
         RowBox[{
          RowBox[{"-", "11"}], "+", "t"}], ",", "1"}], "]"}], ",", 
       RowBox[{"dd", "[", 
        RowBox[{
         RowBox[{
          RowBox[{"-", "12"}], "+", "t"}], ",", "1"}], "]"}], ",", 
       RowBox[{"dd", "[", 
        RowBox[{
         RowBox[{
          RowBox[{"-", "13"}], "+", "t"}], ",", "1"}], "]"}], ",", 
       RowBox[{"dd", "[", 
        RowBox[{
         RowBox[{
          RowBox[{"-", "14"}], "+", "t"}], ",", "1"}], "]"}], ",", 
       RowBox[{"dd", "[", 
        RowBox[{
         RowBox[{
          RowBox[{"-", "15"}], "+", "t"}], ",", "1"}], "]"}], ",", 
       RowBox[{"dd", "[", 
        RowBox[{
         RowBox[{
          RowBox[{"-", "16"}], "+", "t"}], ",", "1"}], "]"}], ",", 
       RowBox[{"dd", "[", 
        RowBox[{
         RowBox[{
          RowBox[{"-", "17"}], "+", "t"}], ",", "1"}], "]"}], ",", 
       RowBox[{"dd", "[", 
        RowBox[{
         RowBox[{
          RowBox[{"-", "18"}], "+", "t"}], ",", "1"}], "]"}], ",", 
       RowBox[{"dd", "[", 
        RowBox[{
         RowBox[{
          RowBox[{"-", "19"}], "+", "t"}], ",", "1"}], "]"}], ",", 
       RowBox[{"dd", "[", 
        RowBox[{
         RowBox[{
          RowBox[{"-", "20"}], "+", "t"}], ",", "1"}], "]"}], ",", 
       RowBox[{"dd", "[", 
        RowBox[{
         RowBox[{
          RowBox[{"-", "21"}], "+", "t"}], ",", "1"}], "]"}], ",", 
       RowBox[{"dd", "[", 
        RowBox[{
         RowBox[{
          RowBox[{"-", "22"}], "+", "t"}], ",", "1"}], "]"}], ",", 
       RowBox[{"dd", "[", 
        RowBox[{
         RowBox[{
          RowBox[{"-", "23"}], "+", "t"}], ",", "1"}], "]"}], ",", 
       RowBox[{"dd", "[", 
        RowBox[{
         RowBox[{
          RowBox[{"-", "24"}], "+", "t"}], ",", "1"}], "]"}], ",", 
       RowBox[{"dd", "[", 
        RowBox[{
         RowBox[{
          RowBox[{"-", "25"}], "+", "t"}], ",", "1"}], "]"}], ",", 
       RowBox[{"dd", "[", 
        RowBox[{
         RowBox[{
          RowBox[{"-", "26"}], "+", "t"}], ",", "1"}], "]"}], ",", 
       RowBox[{"dd", "[", 
        RowBox[{
         RowBox[{
          RowBox[{"-", "27"}], "+", "t"}], ",", "1"}], "]"}], ",", 
       RowBox[{"dd", "[", 
        RowBox[{
         RowBox[{
          RowBox[{"-", "28"}], "+", "t"}], ",", "1"}], "]"}], ",", 
       RowBox[{"dd", "[", 
        RowBox[{
         RowBox[{
          RowBox[{"-", "29"}], "+", "t"}], ",", "1"}], "]"}], ",", 
       RowBox[{"dd", "[", 
        RowBox[{
         RowBox[{
          RowBox[{"-", "30"}], "+", "t"}], ",", "1"}], "]"}], ",", 
       RowBox[{"dd", "[", 
        RowBox[{
         RowBox[{
          RowBox[{"-", "31"}], "+", "t"}], ",", "1"}], "]"}], ",", 
       RowBox[{"dd", "[", 
        RowBox[{
         RowBox[{
          RowBox[{"-", "32"}], "+", "t"}], ",", "1"}], "]"}], ",", 
       RowBox[{"dd", "[", 
        RowBox[{
         RowBox[{
          RowBox[{"-", "33"}], "+", "t"}], ",", "1"}], "]"}], ",", 
       RowBox[{"dd", "[", 
        RowBox[{
         RowBox[{
          RowBox[{"-", "34"}], "+", "t"}], ",", "1"}], "]"}], ",", 
       RowBox[{"dd", "[", 
        RowBox[{
         RowBox[{
          RowBox[{"-", "35"}], "+", "t"}], ",", "1"}], "]"}], ",", 
       RowBox[{"dd", "[", 
        RowBox[{
         RowBox[{
          RowBox[{"-", "36"}], "+", "t"}], ",", "1"}], "]"}], ",", 
       RowBox[{"dd", "[", 
        RowBox[{
         RowBox[{
          RowBox[{"-", "37"}], "+", "t"}], ",", "1"}], "]"}], ",", 
       RowBox[{"dd", "[", 
        RowBox[{
         RowBox[{
          RowBox[{"-", "38"}], "+", "t"}], ",", "1"}], "]"}], ",", 
       RowBox[{"dd", "[", 
        RowBox[{
         RowBox[{
          RowBox[{"-", "39"}], "+", "t"}], ",", "1"}], "]"}], ",", 
       RowBox[{"dd", "[", 
        RowBox[{
         RowBox[{
          RowBox[{"-", "40"}], "+", "t"}], ",", "1"}], "]"}], ",", 
       RowBox[{"dd", "[", 
        RowBox[{
         RowBox[{
          RowBox[{"-", "41"}], "+", "t"}], ",", "1"}], "]"}], ",", 
       RowBox[{"dd", "[", 
        RowBox[{
         RowBox[{
          RowBox[{"-", "42"}], "+", "t"}], ",", "1"}], "]"}], ",", 
       RowBox[{"dd", "[", 
        RowBox[{
         RowBox[{
          RowBox[{"-", "43"}], "+", "t"}], ",", "1"}], "]"}], ",", 
       RowBox[{"dd", "[", 
        RowBox[{
         RowBox[{
          RowBox[{"-", "44"}], "+", "t"}], ",", "1"}], "]"}], ",", 
       RowBox[{"dd", "[", 
        RowBox[{
         RowBox[{
          RowBox[{"-", "45"}], "+", "t"}], ",", "1"}], "]"}], ",", 
       RowBox[{"dd", "[", 
        RowBox[{
         RowBox[{
          RowBox[{"-", "46"}], "+", "t"}], ",", "1"}], "]"}]}], "}"}]}], ",", 
    "\[IndentingNewLine]", 
    RowBox[{
     RowBox[{"timeSeriesVector", "[", 
      RowBox[{"dd", ",", "t", ",", "1", ",", 
       RowBox[{"\"\<TimeAggregation\>\"", "->", "12"}], ",", 
       RowBox[{"\"\<numPeriods\>\"", "->", "3"}]}], "]"}], "==", 
     RowBox[{"{", 
      RowBox[{
       RowBox[{"dd", "[", 
        RowBox[{"t", ",", "1"}], "]"}], ",", 
       RowBox[{"dd", "[", 
        RowBox[{
         RowBox[{
          RowBox[{"-", "1"}], "+", "t"}], ",", "1"}], "]"}], ",", 
       RowBox[{"dd", "[", 
        RowBox[{
         RowBox[{
          RowBox[{"-", "2"}], "+", "t"}], ",", "1"}], "]"}], ",", 
       RowBox[{"dd", "[", 
        RowBox[{
         RowBox[{
          RowBox[{"-", "3"}], "+", "t"}], ",", "1"}], "]"}], ",", 
       RowBox[{"dd", "[", 
        RowBox[{
         RowBox[{
          RowBox[{"-", "4"}], "+", "t"}], ",", "1"}], "]"}], ",", 
       RowBox[{"dd", "[", 
        RowBox[{
         RowBox[{
          RowBox[{"-", "5"}], "+", "t"}], ",", "1"}], "]"}], ",", 
       RowBox[{"dd", "[", 
        RowBox[{
         RowBox[{
          RowBox[{"-", "6"}], "+", "t"}], ",", "1"}], "]"}], ",", 
       RowBox[{"dd", "[", 
        RowBox[{
         RowBox[{
          RowBox[{"-", "7"}], "+", "t"}], ",", "1"}], "]"}], ",", 
       RowBox[{"dd", "[", 
        RowBox[{
         RowBox[{
          RowBox[{"-", "8"}], "+", "t"}], ",", "1"}], "]"}], ",", 
       RowBox[{"dd", "[", 
        RowBox[{
         RowBox[{
          RowBox[{"-", "9"}], "+", "t"}], ",", "1"}], "]"}], ",", 
       RowBox[{"dd", "[", 
        RowBox[{
         RowBox[{
          RowBox[{"-", "10"}], "+", "t"}], ",", "1"}], "]"}], ",", 
       RowBox[{"dd", "[", 
        RowBox[{
         RowBox[{
          RowBox[{"-", "11"}], "+", "t"}], ",", "1"}], "]"}], ",", 
       RowBox[{"dd", "[", 
        RowBox[{
         RowBox[{
          RowBox[{"-", "12"}], "+", "t"}], ",", "1"}], "]"}], ",", 
       RowBox[{"dd", "[", 
        RowBox[{
         RowBox[{
          RowBox[{"-", "13"}], "+", "t"}], ",", "1"}], "]"}], ",", 
       RowBox[{"dd", "[", 
        RowBox[{
         RowBox[{
          RowBox[{"-", "14"}], "+", "t"}], ",", "1"}], "]"}], ",", 
       RowBox[{"dd", "[", 
        RowBox[{
         RowBox[{
          RowBox[{"-", "15"}], "+", "t"}], ",", "1"}], "]"}], ",", 
       RowBox[{"dd", "[", 
        RowBox[{
         RowBox[{
          RowBox[{"-", "16"}], "+", "t"}], ",", "1"}], "]"}], ",", 
       RowBox[{"dd", "[", 
        RowBox[{
         RowBox[{
          RowBox[{"-", "17"}], "+", "t"}], ",", "1"}], "]"}], ",", 
       RowBox[{"dd", "[", 
        RowBox[{
         RowBox[{
          RowBox[{"-", "18"}], "+", "t"}], ",", "1"}], "]"}], ",", 
       RowBox[{"dd", "[", 
        RowBox[{
         RowBox[{
          RowBox[{"-", "19"}], "+", "t"}], ",", "1"}], "]"}], ",", 
       RowBox[{"dd", "[", 
        RowBox[{
         RowBox[{
          RowBox[{"-", "20"}], "+", "t"}], ",", "1"}], "]"}], ",", 
       RowBox[{"dd", "[", 
        RowBox[{
         RowBox[{
          RowBox[{"-", "21"}], "+", "t"}], ",", "1"}], "]"}], ",", 
       RowBox[{"dd", "[", 
        RowBox[{
         RowBox[{
          RowBox[{"-", "22"}], "+", "t"}], ",", "1"}], "]"}], ",", 
       RowBox[{"dd", "[", 
        RowBox[{
         RowBox[{
          RowBox[{"-", "23"}], "+", "t"}], ",", "1"}], "]"}], ",", 
       RowBox[{"dd", "[", 
        RowBox[{
         RowBox[{
          RowBox[{"-", "24"}], "+", "t"}], ",", "1"}], "]"}], ",", 
       RowBox[{"dd", "[", 
        RowBox[{
         RowBox[{
          RowBox[{"-", "25"}], "+", "t"}], ",", "1"}], "]"}], ",", 
       RowBox[{"dd", "[", 
        RowBox[{
         RowBox[{
          RowBox[{"-", "26"}], "+", "t"}], ",", "1"}], "]"}], ",", 
       RowBox[{"dd", "[", 
        RowBox[{
         RowBox[{
          RowBox[{"-", "27"}], "+", "t"}], ",", "1"}], "]"}], ",", 
       RowBox[{"dd", "[", 
        RowBox[{
         RowBox[{
          RowBox[{"-", "28"}], "+", "t"}], ",", "1"}], "]"}], ",", 
       RowBox[{"dd", "[", 
        RowBox[{
         RowBox[{
          RowBox[{"-", "29"}], "+", "t"}], ",", "1"}], "]"}], ",", 
       RowBox[{"dd", "[", 
        RowBox[{
         RowBox[{
          RowBox[{"-", "30"}], "+", "t"}], ",", "1"}], "]"}], ",", 
       RowBox[{"dd", "[", 
        RowBox[{
         RowBox[{
          RowBox[{"-", "31"}], "+", "t"}], ",", "1"}], "]"}], ",", 
       RowBox[{"dd", "[", 
        RowBox[{
         RowBox[{
          RowBox[{"-", "32"}], "+", "t"}], ",", "1"}], "]"}], ",", 
       RowBox[{"dd", "[", 
        RowBox[{
         RowBox[{
          RowBox[{"-", "33"}], "+", "t"}], ",", "1"}], "]"}], ",", 
       RowBox[{"dd", "[", 
        RowBox[{
         RowBox[{
          RowBox[{"-", "34"}], "+", "t"}], ",", "1"}], "]"}], ",", 
       RowBox[{"dd", "[", 
        RowBox[{
         RowBox[{
          RowBox[{"-", "35"}], "+", "t"}], ",", "1"}], "]"}], ",", 
       RowBox[{"dd", "[", 
        RowBox[{
         RowBox[{
          RowBox[{"-", "36"}], "+", "t"}], ",", "1"}], "]"}], ",", 
       RowBox[{"dd", "[", 
        RowBox[{
         RowBox[{
          RowBox[{"-", "37"}], "+", "t"}], ",", "1"}], "]"}], ",", 
       RowBox[{"dd", "[", 
        RowBox[{
         RowBox[{
          RowBox[{"-", "38"}], "+", "t"}], ",", "1"}], "]"}], ",", 
       RowBox[{"dd", "[", 
        RowBox[{
         RowBox[{
          RowBox[{"-", "39"}], "+", "t"}], ",", "1"}], "]"}], ",", 
       RowBox[{"dd", "[", 
        RowBox[{
         RowBox[{
          RowBox[{"-", "40"}], "+", "t"}], ",", "1"}], "]"}], ",", 
       RowBox[{"dd", "[", 
        RowBox[{
         RowBox[{
          RowBox[{"-", "41"}], "+", "t"}], ",", "1"}], "]"}], ",", 
       RowBox[{"dd", "[", 
        RowBox[{
         RowBox[{
          RowBox[{"-", "42"}], "+", "t"}], ",", "1"}], "]"}], ",", 
       RowBox[{"dd", "[", 
        RowBox[{
         RowBox[{
          RowBox[{"-", "43"}], "+", "t"}], ",", "1"}], "]"}], ",", 
       RowBox[{"dd", "[", 
        RowBox[{
         RowBox[{
          RowBox[{"-", "44"}], "+", "t"}], ",", "1"}], "]"}], ",", 
       RowBox[{"dd", "[", 
        RowBox[{
         RowBox[{
          RowBox[{"-", "45"}], "+", "t"}], ",", "1"}], "]"}], ",", 
       RowBox[{"dd", "[", 
        RowBox[{
         RowBox[{
          RowBox[{"-", "46"}], "+", "t"}], ",", "1"}], "]"}]}], "}"}]}]}], 
   "\[IndentingNewLine]", "}"}]}]], "Input",
 CellGroupingRules->{"GroupTogetherGrouping", 10000.},
 CellChangeTimes->{{3.89017195607129*^9, 3.890171988932729*^9}, {
   3.8901960605356627`*^9, 3.890196060539205*^9}, 3.890363394904916*^9, {
   3.905132708216536*^9, 3.905132793515432*^9}, {3.905133659812319*^9, 
   3.905133660049605*^9}, {3.9051337947606697`*^9, 3.905133794930244*^9}, {
   3.905134050703233*^9, 3.9051340661815557`*^9}},
 CellLabel->"In[65]:=",ExpressionUUID->"a68f7ec3-3865-4d76-8556-c5586fe56018"]
}, Open  ]],

Cell[BoxData[
 RowBox[{
  RowBox[{"(*", 
   RowBox[{
    RowBox[{"tests", " ", 
     RowBox[{"numberQ", "[", "t", "]"}]}], "\[Implies]", 
    RowBox[{"t", ">=", "0"}]}], "*)"}], "\[IndentingNewLine]", 
  RowBox[{"(*", 
   RowBox[{"should", " ", "return", " ", "evaluated"}], "*)"}], 
  "\[IndentingNewLine]", 
  RowBox[{"And", "@@", 
   RowBox[{"{", "\[IndentingNewLine]", 
    RowBox[{
     RowBox[{
      RowBox[{"timeSeriesVector", "[", 
       RowBox[{"dc", ",", "0"}], "]"}], "==", 
      RowBox[{"{", 
       RowBox[{"dc", "[", "0", "]"}], "}"}]}], ",", "\[IndentingNewLine]", 
     RowBox[{
      RowBox[{"timeSeriesVector", "[", 
       RowBox[{"dc", ",", "0", ",", 
        RowBox[{"\"\<TimeAggregation\>\"", "->", "3"}]}], "]"}], "==", 
      RowBox[{"{", 
       RowBox[{
        RowBox[{"dc", "[", "0", "]"}], ",", 
        RowBox[{"dc", "[", 
         RowBox[{"-", "1"}], "]"}], ",", 
        RowBox[{"dc", "[", 
         RowBox[{"-", "2"}], "]"}], ",", 
        RowBox[{"dc", "[", 
         RowBox[{"-", "3"}], "]"}], ",", 
        RowBox[{"dc", "[", 
         RowBox[{"-", "4"}], "]"}]}], "}"}]}], ",", "\[IndentingNewLine]", 
     RowBox[{
      RowBox[{"timeSeriesVector", "[", 
       RowBox[{"dc", ",", "1"}], "]"}], "==", 
      RowBox[{"{", 
       RowBox[{"dc", "[", "1", "]"}], "}"}]}], ",", "\[IndentingNewLine]", 
     RowBox[{
      RowBox[{"timeSeriesVector", "[", 
       RowBox[{"dc", ",", "3", ",", 
        RowBox[{"\"\<TimeAggregation\>\"", "->", "3"}]}], "]"}], "==", 
      RowBox[{"{", 
       RowBox[{
        RowBox[{"dc", "[", "3", "]"}], ",", 
        RowBox[{"dc", "[", "2", "]"}], ",", 
        RowBox[{"dc", "[", "1", "]"}], ",", 
        RowBox[{"dc", "[", "0", "]"}], ",", 
        RowBox[{"dc", "[", 
         RowBox[{"-", "1"}], "]"}]}], "}"}]}], ",", "\[IndentingNewLine]", 
     RowBox[{
      RowBox[{"timeSeriesVector", "[", 
       RowBox[{"dc", ",", "3", ",", 
        RowBox[{"\"\<numPeriods\>\"", "->", "6"}]}], "]"}], "==", 
      RowBox[{"{", 
       RowBox[{
        RowBox[{"dc", "[", "3", "]"}], ",", 
        RowBox[{"dc", "[", "2", "]"}], ",", 
        RowBox[{"dc", "[", "1", "]"}], ",", 
        RowBox[{"dc", "[", "0", "]"}], ",", 
        RowBox[{"dc", "[", 
         RowBox[{"-", "1"}], "]"}], ",", 
        RowBox[{"dc", "[", 
         RowBox[{"-", "2"}], "]"}]}], "}"}]}], ",", "\[IndentingNewLine]", 
     RowBox[{
      RowBox[{"timeSeriesVector", "[", 
       RowBox[{"dc", ",", "1", ",", 
        RowBox[{"{", 
         RowBox[{
          RowBox[{"\"\<TimeAggregation\>\"", "->", "12"}], ",", 
          RowBox[{"\"\<numPeriods\>\"", "->", "3"}]}], "}"}]}], "]"}], "==", 
      RowBox[{"{", 
       RowBox[{
        RowBox[{"dc", "[", "1", "]"}], ",", 
        RowBox[{"dc", "[", "0", "]"}], ",", 
        RowBox[{"dc", "[", 
         RowBox[{"-", "1"}], "]"}], ",", 
        RowBox[{"dc", "[", 
         RowBox[{"-", "2"}], "]"}], ",", 
        RowBox[{"dc", "[", 
         RowBox[{"-", "3"}], "]"}], ",", 
        RowBox[{"dc", "[", 
         RowBox[{"-", "4"}], "]"}], ",", 
        RowBox[{"dc", "[", 
         RowBox[{"-", "5"}], "]"}], ",", 
        RowBox[{"dc", "[", 
         RowBox[{"-", "6"}], "]"}], ",", 
        RowBox[{"dc", "[", 
         RowBox[{"-", "7"}], "]"}], ",", 
        RowBox[{"dc", "[", 
         RowBox[{"-", "8"}], "]"}], ",", 
        RowBox[{"dc", "[", 
         RowBox[{"-", "9"}], "]"}], ",", 
        RowBox[{"dc", "[", 
         RowBox[{"-", "10"}], "]"}], ",", 
        RowBox[{"dc", "[", 
         RowBox[{"-", "11"}], "]"}], ",", 
        RowBox[{"dc", "[", 
         RowBox[{"-", "12"}], "]"}], ",", 
        RowBox[{"dc", "[", 
         RowBox[{"-", "13"}], "]"}], ",", 
        RowBox[{"dc", "[", 
         RowBox[{"-", "14"}], "]"}], ",", 
        RowBox[{"dc", "[", 
         RowBox[{"-", "15"}], "]"}], ",", 
        RowBox[{"dc", "[", 
         RowBox[{"-", "16"}], "]"}], ",", 
        RowBox[{"dc", "[", 
         RowBox[{"-", "17"}], "]"}], ",", 
        RowBox[{"dc", "[", 
         RowBox[{"-", "18"}], "]"}], ",", 
        RowBox[{"dc", "[", 
         RowBox[{"-", "19"}], "]"}], ",", 
        RowBox[{"dc", "[", 
         RowBox[{"-", "20"}], "]"}], ",", 
        RowBox[{"dc", "[", 
         RowBox[{"-", "21"}], "]"}], ",", 
        RowBox[{"dc", "[", 
         RowBox[{"-", "22"}], "]"}], ",", 
        RowBox[{"dc", "[", 
         RowBox[{"-", "23"}], "]"}], ",", 
        RowBox[{"dc", "[", 
         RowBox[{"-", "24"}], "]"}], ",", 
        RowBox[{"dc", "[", 
         RowBox[{"-", "25"}], "]"}], ",", 
        RowBox[{"dc", "[", 
         RowBox[{"-", "26"}], "]"}], ",", 
        RowBox[{"dc", "[", 
         RowBox[{"-", "27"}], "]"}], ",", 
        RowBox[{"dc", "[", 
         RowBox[{"-", "28"}], "]"}], ",", 
        RowBox[{"dc", "[", 
         RowBox[{"-", "29"}], "]"}], ",", 
        RowBox[{"dc", "[", 
         RowBox[{"-", "30"}], "]"}], ",", 
        RowBox[{"dc", "[", 
         RowBox[{"-", "31"}], "]"}], ",", 
        RowBox[{"dc", "[", 
         RowBox[{"-", "32"}], "]"}], ",", 
        RowBox[{"dc", "[", 
         RowBox[{"-", "33"}], "]"}], ",", 
        RowBox[{"dc", "[", 
         RowBox[{"-", "34"}], "]"}], ",", 
        RowBox[{"dc", "[", 
         RowBox[{"-", "35"}], "]"}], ",", 
        RowBox[{"dc", "[", 
         RowBox[{"-", "36"}], "]"}], ",", 
        RowBox[{"dc", "[", 
         RowBox[{"-", "37"}], "]"}], ",", 
        RowBox[{"dc", "[", 
         RowBox[{"-", "38"}], "]"}], ",", 
        RowBox[{"dc", "[", 
         RowBox[{"-", "39"}], "]"}], ",", 
        RowBox[{"dc", "[", 
         RowBox[{"-", "40"}], "]"}], ",", 
        RowBox[{"dc", "[", 
         RowBox[{"-", "41"}], "]"}], ",", 
        RowBox[{"dc", "[", 
         RowBox[{"-", "42"}], "]"}], ",", 
        RowBox[{"dc", "[", 
         RowBox[{"-", "43"}], "]"}], ",", 
        RowBox[{"dc", "[", 
         RowBox[{"-", "44"}], "]"}], ",", 
        RowBox[{"dc", "[", 
         RowBox[{"-", "45"}], "]"}]}], "}"}]}], ",", "\[IndentingNewLine]", 
     RowBox[{
      RowBox[{"timeSeriesVector", "[", 
       RowBox[{"dc", ",", 
        RowBox[{"m", "-", "2"}], ",", 
        RowBox[{"\"\<TimeAggregation\>\"", "->", "12"}], ",", 
        RowBox[{"\"\<numPeriods\>\"", "->", "3"}]}], "]"}], "==", 
      RowBox[{"{", 
       RowBox[{
        RowBox[{"dc", "[", 
         RowBox[{
          RowBox[{"-", "2"}], "+", "m"}], "]"}], ",", 
        RowBox[{"dc", "[", 
         RowBox[{
          RowBox[{"-", "3"}], "+", "m"}], "]"}], ",", 
        RowBox[{"dc", "[", 
         RowBox[{
          RowBox[{"-", "4"}], "+", "m"}], "]"}], ",", 
        RowBox[{"dc", "[", 
         RowBox[{
          RowBox[{"-", "5"}], "+", "m"}], "]"}], ",", 
        RowBox[{"dc", "[", 
         RowBox[{
          RowBox[{"-", "6"}], "+", "m"}], "]"}], ",", 
        RowBox[{"dc", "[", 
         RowBox[{
          RowBox[{"-", "7"}], "+", "m"}], "]"}], ",", 
        RowBox[{"dc", "[", 
         RowBox[{
          RowBox[{"-", "8"}], "+", "m"}], "]"}], ",", 
        RowBox[{"dc", "[", 
         RowBox[{
          RowBox[{"-", "9"}], "+", "m"}], "]"}], ",", 
        RowBox[{"dc", "[", 
         RowBox[{
          RowBox[{"-", "10"}], "+", "m"}], "]"}], ",", 
        RowBox[{"dc", "[", 
         RowBox[{
          RowBox[{"-", "11"}], "+", "m"}], "]"}], ",", 
        RowBox[{"dc", "[", 
         RowBox[{
          RowBox[{"-", "12"}], "+", "m"}], "]"}], ",", 
        RowBox[{"dc", "[", 
         RowBox[{
          RowBox[{"-", "13"}], "+", "m"}], "]"}], ",", 
        RowBox[{"dc", "[", 
         RowBox[{
          RowBox[{"-", "14"}], "+", "m"}], "]"}], ",", 
        RowBox[{"dc", "[", 
         RowBox[{
          RowBox[{"-", "15"}], "+", "m"}], "]"}], ",", 
        RowBox[{"dc", "[", 
         RowBox[{
          RowBox[{"-", "16"}], "+", "m"}], "]"}], ",", 
        RowBox[{"dc", "[", 
         RowBox[{
          RowBox[{"-", "17"}], "+", "m"}], "]"}], ",", 
        RowBox[{"dc", "[", 
         RowBox[{
          RowBox[{"-", "18"}], "+", "m"}], "]"}], ",", 
        RowBox[{"dc", "[", 
         RowBox[{
          RowBox[{"-", "19"}], "+", "m"}], "]"}], ",", 
        RowBox[{"dc", "[", 
         RowBox[{
          RowBox[{"-", "20"}], "+", "m"}], "]"}], ",", 
        RowBox[{"dc", "[", 
         RowBox[{
          RowBox[{"-", "21"}], "+", "m"}], "]"}], ",", 
        RowBox[{"dc", "[", 
         RowBox[{
          RowBox[{"-", "22"}], "+", "m"}], "]"}], ",", 
        RowBox[{"dc", "[", 
         RowBox[{
          RowBox[{"-", "23"}], "+", "m"}], "]"}], ",", 
        RowBox[{"dc", "[", 
         RowBox[{
          RowBox[{"-", "24"}], "+", "m"}], "]"}], ",", 
        RowBox[{"dc", "[", 
         RowBox[{
          RowBox[{"-", "25"}], "+", "m"}], "]"}], ",", 
        RowBox[{"dc", "[", 
         RowBox[{
          RowBox[{"-", "26"}], "+", "m"}], "]"}], ",", 
        RowBox[{"dc", "[", 
         RowBox[{
          RowBox[{"-", "27"}], "+", "m"}], "]"}], ",", 
        RowBox[{"dc", "[", 
         RowBox[{
          RowBox[{"-", "28"}], "+", "m"}], "]"}], ",", 
        RowBox[{"dc", "[", 
         RowBox[{
          RowBox[{"-", "29"}], "+", "m"}], "]"}], ",", 
        RowBox[{"dc", "[", 
         RowBox[{
          RowBox[{"-", "30"}], "+", "m"}], "]"}], ",", 
        RowBox[{"dc", "[", 
         RowBox[{
          RowBox[{"-", "31"}], "+", "m"}], "]"}], ",", 
        RowBox[{"dc", "[", 
         RowBox[{
          RowBox[{"-", "32"}], "+", "m"}], "]"}], ",", 
        RowBox[{"dc", "[", 
         RowBox[{
          RowBox[{"-", "33"}], "+", "m"}], "]"}], ",", 
        RowBox[{"dc", "[", 
         RowBox[{
          RowBox[{"-", "34"}], "+", "m"}], "]"}], ",", 
        RowBox[{"dc", "[", 
         RowBox[{
          RowBox[{"-", "35"}], "+", "m"}], "]"}], ",", 
        RowBox[{"dc", "[", 
         RowBox[{
          RowBox[{"-", "36"}], "+", "m"}], "]"}], ",", 
        RowBox[{"dc", "[", 
         RowBox[{
          RowBox[{"-", "37"}], "+", "m"}], "]"}], ",", 
        RowBox[{"dc", "[", 
         RowBox[{
          RowBox[{"-", "38"}], "+", "m"}], "]"}], ",", 
        RowBox[{"dc", "[", 
         RowBox[{
          RowBox[{"-", "39"}], "+", "m"}], "]"}], ",", 
        RowBox[{"dc", "[", 
         RowBox[{
          RowBox[{"-", "40"}], "+", "m"}], "]"}], ",", 
        RowBox[{"dc", "[", 
         RowBox[{
          RowBox[{"-", "41"}], "+", "m"}], "]"}], ",", 
        RowBox[{"dc", "[", 
         RowBox[{
          RowBox[{"-", "42"}], "+", "m"}], "]"}], ",", 
        RowBox[{"dc", "[", 
         RowBox[{
          RowBox[{"-", "43"}], "+", "m"}], "]"}], ",", 
        RowBox[{"dc", "[", 
         RowBox[{
          RowBox[{"-", "44"}], "+", "m"}], "]"}], ",", 
        RowBox[{"dc", "[", 
         RowBox[{
          RowBox[{"-", "45"}], "+", "m"}], "]"}], ",", 
        RowBox[{"dc", "[", 
         RowBox[{
          RowBox[{"-", "46"}], "+", "m"}], "]"}], ",", 
        RowBox[{"dc", "[", 
         RowBox[{
          RowBox[{"-", "47"}], "+", "m"}], "]"}], ",", 
        RowBox[{"dc", "[", 
         RowBox[{
          RowBox[{"-", "48"}], "+", "m"}], "]"}]}], "}"}]}], ",", 
     "\[IndentingNewLine]", 
     RowBox[{
      RowBox[{"timeSeriesVector", "[", 
       RowBox[{"dc", ",", "Pi", ",", 
        RowBox[{"\"\<TimeAggregation\>\"", "->", "12"}], ",", 
        RowBox[{"\"\<numPeriods\>\"", "->", "3"}]}], "]"}], "==", 
      RowBox[{"{", 
       RowBox[{
        RowBox[{"dc", "[", "\[Pi]", "]"}], ",", 
        RowBox[{"dc", "[", 
         RowBox[{
          RowBox[{"-", "1"}], "+", "\[Pi]"}], "]"}], ",", 
        RowBox[{"dc", "[", 
         RowBox[{
          RowBox[{"-", "2"}], "+", "\[Pi]"}], "]"}], ",", 
        RowBox[{"dc", "[", 
         RowBox[{
          RowBox[{"-", "3"}], "+", "\[Pi]"}], "]"}], ",", 
        RowBox[{"dc", "[", 
         RowBox[{
          RowBox[{"-", "4"}], "+", "\[Pi]"}], "]"}], ",", 
        RowBox[{"dc", "[", 
         RowBox[{
          RowBox[{"-", "5"}], "+", "\[Pi]"}], "]"}], ",", 
        RowBox[{"dc", "[", 
         RowBox[{
          RowBox[{"-", "6"}], "+", "\[Pi]"}], "]"}], ",", 
        RowBox[{"dc", "[", 
         RowBox[{
          RowBox[{"-", "7"}], "+", "\[Pi]"}], "]"}], ",", 
        RowBox[{"dc", "[", 
         RowBox[{
          RowBox[{"-", "8"}], "+", "\[Pi]"}], "]"}], ",", 
        RowBox[{"dc", "[", 
         RowBox[{
          RowBox[{"-", "9"}], "+", "\[Pi]"}], "]"}], ",", 
        RowBox[{"dc", "[", 
         RowBox[{
          RowBox[{"-", "10"}], "+", "\[Pi]"}], "]"}], ",", 
        RowBox[{"dc", "[", 
         RowBox[{
          RowBox[{"-", "11"}], "+", "\[Pi]"}], "]"}], ",", 
        RowBox[{"dc", "[", 
         RowBox[{
          RowBox[{"-", "12"}], "+", "\[Pi]"}], "]"}], ",", 
        RowBox[{"dc", "[", 
         RowBox[{
          RowBox[{"-", "13"}], "+", "\[Pi]"}], "]"}], ",", 
        RowBox[{"dc", "[", 
         RowBox[{
          RowBox[{"-", "14"}], "+", "\[Pi]"}], "]"}], ",", 
        RowBox[{"dc", "[", 
         RowBox[{
          RowBox[{"-", "15"}], "+", "\[Pi]"}], "]"}], ",", 
        RowBox[{"dc", "[", 
         RowBox[{
          RowBox[{"-", "16"}], "+", "\[Pi]"}], "]"}], ",", 
        RowBox[{"dc", "[", 
         RowBox[{
          RowBox[{"-", "17"}], "+", "\[Pi]"}], "]"}], ",", 
        RowBox[{"dc", "[", 
         RowBox[{
          RowBox[{"-", "18"}], "+", "\[Pi]"}], "]"}], ",", 
        RowBox[{"dc", "[", 
         RowBox[{
          RowBox[{"-", "19"}], "+", "\[Pi]"}], "]"}], ",", 
        RowBox[{"dc", "[", 
         RowBox[{
          RowBox[{"-", "20"}], "+", "\[Pi]"}], "]"}], ",", 
        RowBox[{"dc", "[", 
         RowBox[{
          RowBox[{"-", "21"}], "+", "\[Pi]"}], "]"}], ",", 
        RowBox[{"dc", "[", 
         RowBox[{
          RowBox[{"-", "22"}], "+", "\[Pi]"}], "]"}], ",", 
        RowBox[{"dc", "[", 
         RowBox[{
          RowBox[{"-", "23"}], "+", "\[Pi]"}], "]"}], ",", 
        RowBox[{"dc", "[", 
         RowBox[{
          RowBox[{"-", "24"}], "+", "\[Pi]"}], "]"}], ",", 
        RowBox[{"dc", "[", 
         RowBox[{
          RowBox[{"-", "25"}], "+", "\[Pi]"}], "]"}], ",", 
        RowBox[{"dc", "[", 
         RowBox[{
          RowBox[{"-", "26"}], "+", "\[Pi]"}], "]"}], ",", 
        RowBox[{"dc", "[", 
         RowBox[{
          RowBox[{"-", "27"}], "+", "\[Pi]"}], "]"}], ",", 
        RowBox[{"dc", "[", 
         RowBox[{
          RowBox[{"-", "28"}], "+", "\[Pi]"}], "]"}], ",", 
        RowBox[{"dc", "[", 
         RowBox[{
          RowBox[{"-", "29"}], "+", "\[Pi]"}], "]"}], ",", 
        RowBox[{"dc", "[", 
         RowBox[{
          RowBox[{"-", "30"}], "+", "\[Pi]"}], "]"}], ",", 
        RowBox[{"dc", "[", 
         RowBox[{
          RowBox[{"-", "31"}], "+", "\[Pi]"}], "]"}], ",", 
        RowBox[{"dc", "[", 
         RowBox[{
          RowBox[{"-", "32"}], "+", "\[Pi]"}], "]"}], ",", 
        RowBox[{"dc", "[", 
         RowBox[{
          RowBox[{"-", "33"}], "+", "\[Pi]"}], "]"}], ",", 
        RowBox[{"dc", "[", 
         RowBox[{
          RowBox[{"-", "34"}], "+", "\[Pi]"}], "]"}], ",", 
        RowBox[{"dc", "[", 
         RowBox[{
          RowBox[{"-", "35"}], "+", "\[Pi]"}], "]"}], ",", 
        RowBox[{"dc", "[", 
         RowBox[{
          RowBox[{"-", "36"}], "+", "\[Pi]"}], "]"}], ",", 
        RowBox[{"dc", "[", 
         RowBox[{
          RowBox[{"-", "37"}], "+", "\[Pi]"}], "]"}], ",", 
        RowBox[{"dc", "[", 
         RowBox[{
          RowBox[{"-", "38"}], "+", "\[Pi]"}], "]"}], ",", 
        RowBox[{"dc", "[", 
         RowBox[{
          RowBox[{"-", "39"}], "+", "\[Pi]"}], "]"}], ",", 
        RowBox[{"dc", "[", 
         RowBox[{
          RowBox[{"-", "40"}], "+", "\[Pi]"}], "]"}], ",", 
        RowBox[{"dc", "[", 
         RowBox[{
          RowBox[{"-", "41"}], "+", "\[Pi]"}], "]"}], ",", 
        RowBox[{"dc", "[", 
         RowBox[{
          RowBox[{"-", "42"}], "+", "\[Pi]"}], "]"}], ",", 
        RowBox[{"dc", "[", 
         RowBox[{
          RowBox[{"-", "43"}], "+", "\[Pi]"}], "]"}], ",", 
        RowBox[{"dc", "[", 
         RowBox[{
          RowBox[{"-", "44"}], "+", "\[Pi]"}], "]"}], ",", 
        RowBox[{"dc", "[", 
         RowBox[{
          RowBox[{"-", "45"}], "+", "\[Pi]"}], "]"}], ",", 
        RowBox[{"dc", "[", 
         RowBox[{
          RowBox[{"-", "46"}], "+", "\[Pi]"}], "]"}]}], "}"}]}]}], 
    "\[IndentingNewLine]", "}"}]}]}]], "Input",
 CellChangeTimes->{{3.8904065478873653`*^9, 3.890406570751514*^9}, {
   3.890406601009001*^9, 3.890406617574583*^9}, {3.890406652426482*^9, 
   3.890406705533577*^9}, {3.9051326511394997`*^9, 3.905132697501327*^9}, {
   3.905133672378325*^9, 3.9051336726310463`*^9}, {3.905133799327797*^9, 
   3.905133799471146*^9}, {3.9051340733095007`*^9, 3.9051340785329533`*^9}, 
   3.905134464124179*^9},
 CellLabel->"In[66]:=",ExpressionUUID->"eb74b92a-1898-4d3e-8b05-bc2beee1de57"],

Cell[BoxData[
 RowBox[{
  RowBox[{"(*", 
   RowBox[{
    RowBox[{"tests", " ", 
     RowBox[{"numberQ", "[", "t", "]"}]}], "\[Implies]", 
    RowBox[{"t", ">=", 
     RowBox[{"0", " ", "should", " ", "return", " ", "unevaluated"}]}]}], 
   "*)"}], "\[IndentingNewLine]", 
  RowBox[{"And", "@@", 
   RowBox[{"{", "\[IndentingNewLine]", 
    RowBox[{
     RowBox[{
      RowBox[{"timeSeriesVector", "[", 
       RowBox[{"dc", ",", 
        RowBox[{"-", "1"}], ",", 
        RowBox[{"\"\<numPeriods\>\"", "->", "6"}]}], "]"}], "==", 
      RowBox[{
      "FernandoDuarte`LongRunRisk`Tools`TimeAggregation`Private`\
timeSeriesVector", "[", 
       RowBox[{"dc", ",", 
        RowBox[{"-", "1"}], ",", 
        RowBox[{"\"\<numPeriods\>\"", "\[Rule]", "6"}]}], "]"}]}], ",", 
     "\[IndentingNewLine]", 
     RowBox[{
      RowBox[{"timeSeriesVector", "[", 
       RowBox[{"dc", ",", 
        RowBox[{"-", "4"}], ",", 
        RowBox[{"{", 
         RowBox[{
          RowBox[{"\"\<TimeAggregation\>\"", "->", "12"}], ",", 
          RowBox[{"\"\<numPeriods\>\"", "->", "3"}]}], "}"}]}], "]"}], "==", 
      RowBox[{
      "FernandoDuarte`LongRunRisk`Tools`TimeAggregation`Private`\
timeSeriesVector", "[", 
       RowBox[{"dc", ",", 
        RowBox[{"-", "4"}], ",", 
        RowBox[{"{", 
         RowBox[{
          RowBox[{"\"\<TimeAggregation\>\"", "\[Rule]", "12"}], ",", 
          RowBox[{"\"\<numPeriods\>\"", "\[Rule]", "3"}]}], "}"}]}], 
       "]"}]}]}], "\[IndentingNewLine]", "}"}]}]}]], "Input",
 CellChangeTimes->{{3.890406628410715*^9, 3.890406709283149*^9}, 
   3.890591916700327*^9, {3.905132634729501*^9, 3.9051326425770187`*^9}, {
   3.905133676863701*^9, 3.905133677161736*^9}, {3.90513380199774*^9, 
   3.9051338021764917`*^9}, 3.905134083947012*^9},
 CellLabel->"In[67]:=",ExpressionUUID->"8a7fac19-758c-4f27-b075-0cceccdb60ed"]
}, Open  ]]
},
WindowSize->{1005, 942},
WindowMargins->{{184, Automatic}, {Automatic, 1}},
WindowStatusArea->"",
DockedCells->{},
TaggingRules-><|"TryRealOnly" -> False|>,
Magnification:>1.25 Inherited,
FrontEndVersion->"13.3 for Mac OS X ARM (64-bit) (July 24, 2023)",
StyleDefinitions->"Default.nb",
ExpressionUUID->"daf7f6b8-b235-4aba-acf2-7e9b2fd490e0"
]
(* End of Notebook Content *)

(* Internal cache information *)
(*CellTagsOutline
CellTagsIndex->{}
*)
(*CellTagsIndex
CellTagsIndex->{}
*)
(*NotebookFileOutline
Notebook[{
Cell[558, 20, 214, 4, 37, "Input",ExpressionUUID->"dda61001-ce48-4d45-a5b3-2135aa2acac3"],
Cell[775, 26, 1790, 35, 194, "Input",ExpressionUUID->"102fd283-06e0-4854-992c-a6106a40388c"],
Cell[CellGroupData[{
Cell[2590, 65, 255, 4, 67, "Subsection",ExpressionUUID->"c05efb78-3a73-4dd4-8b80-9b4c753d7cc0"],
Cell[2848, 71, 341, 9, 37, "Input",ExpressionUUID->"2fbf259f-8c1a-43ca-8918-66ba525863c9"],
Cell[3192, 82, 664, 12, 64, "Input",ExpressionUUID->"efc95b58-b6d3-467b-bde8-5ead84d010be"],
Cell[3859, 96, 303, 4, 37, "Input",ExpressionUUID->"1aac25b2-2776-4294-9ec0-2b1b496b37e6"],
Cell[4165, 102, 813, 16, 116, "Input",ExpressionUUID->"293d26ed-8bdf-463d-823c-ba1b18dc9d0c"],
Cell[4981, 120, 1093, 19, 90, "Input",ExpressionUUID->"f31349aa-ef4d-4620-92ad-6cb7d3436447"],
Cell[6077, 141, 1321, 23, 142, "Input",ExpressionUUID->"ee74792d-c9ba-4cfb-8ec3-64ecbfa4668c"],
Cell[7401, 166, 1052, 21, 142, "Input",ExpressionUUID->"327e0cfe-f1e3-480a-8aad-4fca2b97b22f"],
Cell[8456, 189, 1195, 24, 194, "Input",ExpressionUUID->"607e6d9e-675a-4dc7-a580-fcf0d26f3161"],
Cell[9654, 215, 1425, 32, 246, "Input",ExpressionUUID->"13506a6f-0858-4ac3-8c23-7d01f68bc276"],
Cell[11082, 249, 4625, 127, 449, "Input",ExpressionUUID->"0e36b0a7-38f9-4c40-848f-728f64a96c32"],
Cell[15710, 378, 9667, 231, 870, "Input",ExpressionUUID->"3c8a5a97-d0e2-451a-b7dc-17474dc0fd3f"],
Cell[25380, 611, 3500, 83, 308, "Input",ExpressionUUID->"d2efaf6e-daa9-4915-bfba-b61a5bdc8cfe"],
Cell[28883, 696, 2744, 59, 246, "Input",ExpressionUUID->"f2722336-7dc0-4a63-b634-0c1270e1cbca"],
Cell[31630, 757, 6153, 140, 662, "Input",ExpressionUUID->"0fa2de49-cb7b-4808-ba31-e60067c6ab3a"],
Cell[37786, 899, 10767, 252, 948, "Input",ExpressionUUID->"70d21983-02b1-459f-b6af-f74afa8d088d"],
Cell[48556, 1153, 1924, 41, 220, "Input",ExpressionUUID->"70a50edd-5174-4495-a8cf-751ed24e5868"],
Cell[CellGroupData[{
Cell[50505, 1198, 3536, 81, 312, "Input",ExpressionUUID->"0ff8e355-ff5e-42e5-a3dd-1b2bf9893cc3",
 CellGroupingRules->{"GroupTogetherGrouping", 10000.}],
Cell[54044, 1281, 4590, 103, 376, "Input",ExpressionUUID->"7688961b-1061-4156-a522-f82bc0ad236a",
 CellGroupingRules->{"GroupTogetherGrouping", 10000.}],
Cell[58637, 1386, 2269, 48, 220, "Input",ExpressionUUID->"7802887a-aa09-4e15-81e4-a073200a241f",
 CellGroupingRules->{"GroupTogetherGrouping", 10000.}],
Cell[60909, 1436, 2710, 60, 220, "Input",ExpressionUUID->"246e94a5-ddc4-4b7c-841b-d19628c8534f",
 CellGroupingRules->{"GroupTogetherGrouping", 10000.}],
Cell[63622, 1498, 2673, 58, 298, "Input",ExpressionUUID->"a2f692df-aeba-4a29-bb21-21cf090ba8c4",
 CellGroupingRules->{"GroupTogetherGrouping", 10000.}],
Cell[66298, 1558, 2643, 57, 298, "Input",ExpressionUUID->"4c14dcfe-23d7-472d-a807-a03a788455f5",
 CellGroupingRules->{"GroupTogetherGrouping", 10000.}],
Cell[68944, 1617, 2688, 58, 298, "Input",ExpressionUUID->"a9bc070c-0929-41a9-827a-24bdc555940f",
 CellGroupingRules->{"GroupTogetherGrouping", 10000.}],
Cell[71635, 1677, 3390, 76, 359, "Input",ExpressionUUID->"a688bd48-8847-4980-ac41-d0d8f9c7ef38",
 CellGroupingRules->{"GroupTogetherGrouping", 10000.}],
Cell[75028, 1755, 3605, 81, 359, "Input",ExpressionUUID->"7a68d55a-0249-4a31-8b63-defa34ad0ac4",
 CellGroupingRules->{"GroupTogetherGrouping", 10000.}],
Cell[78636, 1838, 1361, 29, 220, "Input",ExpressionUUID->"2a049c0f-3308-4fbc-b2b2-b9aa08c2aec7",
 CellGroupingRules->{"GroupTogetherGrouping", 10000.}],
Cell[80000, 1869, 15052, 392, 769, "Input",ExpressionUUID->"b33cb6ba-09ed-4e90-b73a-1464c8707383",
 CellGroupingRules->{"GroupTogetherGrouping", 10000.}],
Cell[95055, 2263, 3683, 85, 428, "Input",ExpressionUUID->"96b96ed2-83d4-40b9-a136-1aceb6ceb4aa",
 CellGroupingRules->{"GroupTogetherGrouping", 10000.}],
Cell[98741, 2350, 7595, 193, 532, "Input",ExpressionUUID->"1b9f0bd5-59e6-4be5-bea4-ddda117620dc",
 CellGroupingRules->{"GroupTogetherGrouping", 10000.}],
Cell[106339, 2545, 7161, 175, 457, "Input",ExpressionUUID->"c0e59154-8adb-49fd-8d7f-555585b70706",
 CellGroupingRules->{"GroupTogetherGrouping", 10000.}],
Cell[113503, 2722, 5629, 140, 532, "Input",ExpressionUUID->"9388c04a-5a59-490b-850f-3b36a1535809",
 CellGroupingRules->{"GroupTogetherGrouping", 10000.}],
Cell[119135, 2864, 7123, 174, 451, "Input",ExpressionUUID->"058bac30-ec3b-4b94-b632-8626768c8b91",
 CellGroupingRules->{"GroupTogetherGrouping", 10000.}],
Cell[126261, 3040, 3741, 86, 350, "Input",ExpressionUUID->"064208f8-2771-4045-9f59-b58ccdbae523",
 CellGroupingRules->{"GroupTogetherGrouping", 10000.}],
Cell[130005, 3128, 4209, 98, 350, "Input",ExpressionUUID->"6fb7cb3b-5d96-42a8-9273-4269d7dc99ea",
 CellGroupingRules->{"GroupTogetherGrouping", 10000.}],
Cell[134217, 3228, 5548, 134, 558, "Input",ExpressionUUID->"2626f263-4ab4-4577-846d-5155261afde0",
 CellGroupingRules->{"GroupTogetherGrouping", 10000.}],
Cell[139768, 3364, 8410, 210, 483, "Input",ExpressionUUID->"e3b92000-da25-462e-a171-f6a066137486",
 CellGroupingRules->{"GroupTogetherGrouping", 10000.}],
Cell[148181, 3576, 8190, 201, 535, "Input",ExpressionUUID->"f7f490fd-b19f-4b8e-b4f8-75ed2a726be5",
 CellGroupingRules->{"GroupTogetherGrouping", 10000.}],
Cell[156374, 3779, 13725, 367, 740, "Input",ExpressionUUID->"68c59e0c-207a-4a7d-b287-234c1f1a4e18",
 CellGroupingRules->{"GroupTogetherGrouping", 10000.}]
}, Open  ]],
Cell[170114, 4149, 921, 17, 90, "Input",ExpressionUUID->"85130ac0-239c-442e-9495-b74ede57f3d6"],
Cell[171038, 4168, 195, 3, 37, "Input",ExpressionUUID->"0b8107a2-bb20-4915-b1ff-d9f5abb25bdc"],
Cell[171236, 4173, 5110, 120, 1208, "Input",ExpressionUUID->"58d6451a-aebd-47a3-acd0-4cd98497de14"],
Cell[176349, 4295, 177, 3, 37, "Input",ExpressionUUID->"4bbd6f2b-471a-4de2-9960-53cc4e1a8d40"]
}, Closed]],
Cell[CellGroupData[{
Cell[176563, 4303, 214, 4, 46, "Subsection",ExpressionUUID->"5e95f8ec-4945-4759-8547-072f1ec09022"],
Cell[176780, 4309, 934, 19, 116, "Input",ExpressionUUID->"51aa135b-2163-4fff-a6e0-08b58bd6368a"],
Cell[177717, 4330, 5251, 147, 463, "Input",ExpressionUUID->"eff0c4a7-f103-4d11-826f-c93104ea3543"],
Cell[182971, 4479, 8914, 224, 792, "Input",ExpressionUUID->"93ebd72e-6d7a-44e8-9e42-dac653cb2945"],
Cell[191888, 4705, 3047, 76, 238, "Input",ExpressionUUID->"a88555c5-4163-47f1-9400-5c7b14e0714e"],
Cell[194938, 4783, 2335, 50, 194, "Input",ExpressionUUID->"d7d9e463-ab43-4ddb-8640-14bfa1005524"],
Cell[197276, 4835, 5646, 135, 584, "Input",ExpressionUUID->"4dd16d07-9c1e-4e9a-8efd-72599b62487d"],
Cell[202925, 4972, 10155, 251, 870, "Input",ExpressionUUID->"d6919837-4c05-4021-b76e-47580fdb41fc"],
Cell[213083, 5225, 1585, 35, 168, "Input",ExpressionUUID->"a22f18fd-f3d1-4f08-a2b7-6fb4b4860778"],
Cell[CellGroupData[{
Cell[214693, 5264, 3126, 75, 242, "Input",ExpressionUUID->"d5cca5ea-63f2-43b8-a9b7-4813ff2fe69b",
 CellGroupingRules->{"GroupTogetherGrouping", 10000.}],
Cell[217822, 5341, 3891, 92, 298, "Input",ExpressionUUID->"5a6d819e-ac95-4587-9316-c1080209abec",
 CellGroupingRules->{"GroupTogetherGrouping", 10000.}],
Cell[221716, 5435, 1908, 42, 168, "Input",ExpressionUUID->"18c391b4-8c81-4bb4-9ed7-77a8133a8bc7",
 CellGroupingRules->{"GroupTogetherGrouping", 10000.}],
Cell[223627, 5479, 2387, 56, 168, "Input",ExpressionUUID->"efff9494-08ee-4949-b606-aa21223f2029",
 CellGroupingRules->{"GroupTogetherGrouping", 10000.}],
Cell[226017, 5537, 2275, 54, 246, "Input",ExpressionUUID->"59f896a7-2115-4ec6-9872-8ab36dbb5447",
 CellGroupingRules->{"GroupTogetherGrouping", 10000.}],
Cell[228295, 5593, 2267, 53, 246, "Input",ExpressionUUID->"4818cc26-6240-4d77-b848-d4220896d9e7",
 CellGroupingRules->{"GroupTogetherGrouping", 10000.}],
Cell[230565, 5648, 2311, 54, 246, "Input",ExpressionUUID->"49db62a4-7ffd-44ab-9a6a-296cd18a629c",
 CellGroupingRules->{"GroupTogetherGrouping", 10000.}],
Cell[232879, 5704, 2979, 70, 301, "Input",ExpressionUUID->"d11e4059-14aa-423d-970c-fa3eaed8cfe4",
 CellGroupingRules->{"GroupTogetherGrouping", 10000.}],
Cell[235861, 5776, 3260, 76, 328, "Input",ExpressionUUID->"9947f736-5cf4-45db-a397-1a45cbc15131",
 CellGroupingRules->{"GroupTogetherGrouping", 10000.}],
Cell[239124, 5854, 969, 26, 168, "Input",ExpressionUUID->"500999e4-9b31-4fd5-b998-726d18a5fc92",
 CellGroupingRules->{"GroupTogetherGrouping", 10000.}],
Cell[240096, 5882, 13994, 389, 685, "Input",ExpressionUUID->"528b869b-a929-4b3e-8a0f-dd75c4e6ca31",
 CellGroupingRules->{"GroupTogetherGrouping", 10000.}],
Cell[254093, 6273, 3169, 81, 376, "Input",ExpressionUUID->"5c29075b-e399-4225-b0f0-79fc5e7f9d80",
 CellGroupingRules->{"GroupTogetherGrouping", 10000.}],
Cell[257265, 6356, 6778, 189, 480, "Input",ExpressionUUID->"5eab25b6-62f3-4692-84c3-210227d88214",
 CellGroupingRules->{"GroupTogetherGrouping", 10000.}],
Cell[264046, 6547, 6582, 170, 399, "Input",ExpressionUUID->"11f2edfb-c19d-40ca-b587-57ace3039a69",
 CellGroupingRules->{"GroupTogetherGrouping", 10000.}],
Cell[270631, 6719, 5089, 132, 480, "Input",ExpressionUUID->"642353bd-1bf0-4675-a9ef-440c60901782",
 CellGroupingRules->{"GroupTogetherGrouping", 10000.}],
Cell[275723, 6853, 6538, 169, 393, "Input",ExpressionUUID->"48b15f6f-a8f9-4140-a593-073aa3bddd33",
 CellGroupingRules->{"GroupTogetherGrouping", 10000.}],
Cell[282264, 7024, 3332, 82, 298, "Input",ExpressionUUID->"e51c0f77-2e86-4661-970d-9ab7f86260d0",
 CellGroupingRules->{"GroupTogetherGrouping", 10000.}],
Cell[285599, 7108, 3676, 93, 298, "Input",ExpressionUUID->"abae58ce-7b89-46e2-8884-6dac3e22a063",
 CellGroupingRules->{"GroupTogetherGrouping", 10000.}],
Cell[289278, 7203, 5033, 129, 480, "Input",ExpressionUUID->"fabb9fb9-1540-4bff-a000-fc4e8e742429",
 CellGroupingRules->{"GroupTogetherGrouping", 10000.}],
Cell[294314, 7334, 7768, 207, 425, "Input",ExpressionUUID->"ea849ef2-7eac-4895-8d77-d429fba88a13",
 CellGroupingRules->{"GroupTogetherGrouping", 10000.}],
Cell[302085, 7543, 7533, 197, 477, "Input",ExpressionUUID->"86511222-6d7b-49cd-b7c5-4897c088d14d",
 CellGroupingRules->{"GroupTogetherGrouping", 10000.}],
Cell[309621, 7742, 12742, 362, 688, "Input",ExpressionUUID->"769bc524-d97d-4eba-a8ec-8d104e71f203",
 CellGroupingRules->{"GroupTogetherGrouping", 10000.}],
Cell[322366, 8106, 30103, 910, 1494, "Input",ExpressionUUID->"a68f7ec3-3865-4d76-8556-c5586fe56018",
 CellGroupingRules->{"GroupTogetherGrouping", 10000.}]
}, Open  ]],
Cell[352484, 9019, 16804, 468, 974, "Input",ExpressionUUID->"eb74b92a-1898-4d3e-8b05-bc2beee1de57"],
Cell[369291, 9489, 1848, 46, 246, "Input",ExpressionUUID->"8a7fac19-758c-4f27-b075-0cceccdb60ed"]
}, Open  ]]
}
]
*)

