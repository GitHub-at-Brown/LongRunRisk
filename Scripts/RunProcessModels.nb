(* Content-type: application/vnd.wolfram.mathematica *)

(*** Wolfram Notebook File ***)
(* http://www.wolfram.com/nb *)

(* CreatedBy='Wolfram 14.3' *)

(*CacheID: 234*)
(* Internal cache information:
NotebookFileLineBreakTest
NotebookFileLineBreakTest
NotebookDataPosition[       154,          7]
NotebookDataLength[     77248,       1664]
NotebookOptionsPosition[     26412,        749]
NotebookOutlinePosition[     72773,       1604]
CellTagsIndexPosition[     72730,       1601]
WindowFrame->Normal*)

(* Beginning of Notebook Content *)
Notebook[{

Cell[CellGroupData[{
Cell[BoxData[
 RowBox[{"(*", 
  RowBox[{
   RowBox[{
   "uses", " ", "basic", " ", "definition", " ", "of", " ", "models"}], ",", 
   " ", 
   RowBox[{"processes", " ", "them", " ", "according", " ", "to", " ", 
    RowBox[{"processModels", ".", "wl"}]}], ",", " ", 
   RowBox[{"and", " ", "saves", " ", "to", " ", "Resources"}]}], 
  "*)"}]], "Input",
 CellGroupingRules->{
  "GroupTogetherGrouping", 
   10000.},ExpressionUUID->"789060ed-dfaa-466a-846e-7fe3f34830f1"],

Cell[BoxData[
 RowBox[{
  RowBox[{"Quit", "[", "]"}], ";"}]], "Input",
 CellGroupingRules->{
  "GroupTogetherGrouping", 
   10000.},ExpressionUUID->"3adfcb8d-8e7a-4f70-8ab6-7cf7d6390e0a"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"pacletDir", "=", 
   RowBox[{"DirectoryName", "[", 
    RowBox[{
     RowBox[{"NotebookDirectory", "[", "]"}], ",", "1"}], "]"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"PacletDirectoryLoad", "[", "pacletDir", "]"}], ";"}], 
  "\[IndentingNewLine]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
  "Get", "[", "\"\<FernandoDuarte`LongRunRisk`Model`Catalog`\>\"", "]"}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
  "Get", "[", "\"\<FernandoDuarte`LongRunRisk`Model`ProcessModels`\>\"", 
   "]"}], ";"}]}], "Input",
 CellGroupingRules->{
  "GroupTogetherGrouping", 
   10000.},ExpressionUUID->"60b33c55-8109-42c1-8a34-bdfe4d98b5aa"],

Cell[BoxData[
 RowBox[{
  RowBox[{"(*", 
   RowBox[{"choose", " ", "subset", " ", "of", " ", 
    RowBox[{"Keys", "@", "FernandoDuarte`LongRunRisk`Model`Catalog`models"}], 
    " ", "to", " ", "process"}], "*)"}], "\[IndentingNewLine]", 
  RowBox[{
   RowBox[{
    RowBox[{"modelsToProcess", "=", 
     RowBox[{"\"\<BY\>\"", "|", " ", "\"\<NRCStochVol\>\"", " ", 
      "|", "\"\<DES\>\"", " ", "|", "\"\<BKY\>\"", "|", "\"\<NRC\>\""}]}], 
    ";"}], "\[IndentingNewLine]", 
   RowBox[{"(*", 
    RowBox[{
    "|", "\"\<DES\>\"", " ", "|", "\"\<BY\>\"", "|", "\"\<BKY\>\"", 
     "|", "\"\<NRC\>\""}], "*)"}], "\[IndentingNewLine]", 
   RowBox[{"(*", 
    RowBox[{"Alternatives", "@@", 
     RowBox[{"(", 
      RowBox[{"Keys", "@", "models"}], ")"}]}], "*)"}], "\[IndentingNewLine]", 
   RowBox[{"(*", 
    RowBox[{"\"\<NRCStochVol\>\"", " ", "|", "\"\<DES\>\"", " ", 
     "|", "\"\<BY\>\"", "|", "\"\<BKY\>\"", "|", "\"\<NRC\>\""}], "*)"}], "\[IndentingNewLine]", 
   RowBox[{"(*", " ", 
    RowBox[{"\"\<NRCStochVol\>\"", " ", "|", " ", "\"\<BY\>\"", 
     "|", "\"\<BKY\>\"", "|", "\"\<NRC\>\"", " ", "|", "\"\<DES\>\"", 
     "|", "\"\<BS\>\"", "|", "\"\<WCratio\>\"", "|", "\"\<hassel\>\""}], 
    "*)"}], 
   RowBox[{"(*", 
    RowBox[{"|", "\"\<NRC\>\"", " ", "|", "\"\<DES\>\""}], "*)"}], 
   RowBox[{"(*", 
    RowBox[{
    "|", "\"\<BKY\>\"", "|", "\"\<NRC\>\"", "|", "\"\<WCratio\>\"", 
     "|", "\"\<hassel\>\"", "|", "\"\<BS\>\"", "|", "\"\<DES\>\""}], 
    "*)"}]}]}]], "Input",
 CellGroupingRules->{
  "GroupTogetherGrouping", 
   10000.},ExpressionUUID->"424ceeb6-10a0-45ee-bb18-785cadb304ac"],

Cell[BoxData[
 RowBox[{"SetAttributes", "[", 
  RowBox[{"FernandoDuarte`LongRunRisk`Epd0", ",", "NHoldAll"}], 
  "]"}]], "Input",
 CellGroupingRules->{
  "GroupTogetherGrouping", 
   10000.},ExpressionUUID->"354f7091-6288-46be-9f35-1643edde9792"],

Cell[BoxData[
 RowBox[{
  RowBox[{"FernandoDuarte`LongRunRisk`Models", "=", 
   RowBox[{"processModels", "[", "\[IndentingNewLine]", 
    RowBox[{
     RowBox[{"KeySelect", "[", 
      RowBox[{"models", ",", 
       RowBox[{
        RowBox[{"MatchQ", "[", 
         RowBox[{"#", ",", " ", "modelsToProcess"}], "]"}], "&"}]}], "]"}], ",",
      "\[IndentingNewLine]", 
     RowBox[{"KeySelect", "[", 
      RowBox[{"modelsExtraInfo", ",", 
       RowBox[{
        RowBox[{"MatchQ", "[", 
         RowBox[{"#", ",", " ", "modelsToProcess"}], "]"}], "&"}]}], "]"}], ",",
      "\[IndentingNewLine]", 
     RowBox[{"\"\<FindRootOptions\>\"", "->", 
      RowBox[{"{", "FernandoDuarte`LongRunRisk`FindRootOptions", "}"}]}], ",",
      "\[IndentingNewLine]", 
     RowBox[{"\"\<RecurrenceTableOptions\>\"", "->", 
      RowBox[{
      "{", "FernandoDuarte`LongRunRisk`RecurrenceTableOptions", "}"}]}], ",", 
     "\[IndentingNewLine]", 
     RowBox[{"\"\<initialGuess\>\"", " ", "->", 
      RowBox[{"<|", 
       RowBox[{
        RowBox[{"\"\<Ewc\>\"", "->", 
         RowBox[{"{", "FernandoDuarte`LongRunRisk`Ewc0", "}"}]}], ",", 
        RowBox[{"\"\<Epd\>\"", "->", 
         RowBox[{"{", 
          RowBox[{"{", "FernandoDuarte`LongRunRisk`Epd0", "}"}], "}"}]}]}], 
       "|>"}]}]}], "\[IndentingNewLine]", "]"}]}], ";"}]], "Input",
 CellGroupingRules->{
  "GroupTogetherGrouping", 
   10000.},ExpressionUUID->"d0372be7-2fa1-4d8a-a228-86ffb65e1dbf"],

Cell[BoxData[
 RowBox[{"data", "=", 
  RowBox[{
   RowBox[{"ResourceFunction", "[", "\"\<DefinitionData\>\"", "]"}], "@", 
   "FernandoDuarte`LongRunRisk`Models"}]}]], "Input",
 CellGroupingRules->{
  "GroupTogetherGrouping", 
   10000.},ExpressionUUID->"6b6f411a-f30e-486c-bc55-74bff06fbb66"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"resourcesDir", "=", 
   RowBox[{"FileNameJoin", "[", 
    RowBox[{"{", 
     RowBox[{"pacletDir", ",", "\"\<Resources\>\""}], "}"}], "]"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"filename", "=", 
   RowBox[{"FileNameJoin", "[", 
    RowBox[{"{", 
     RowBox[{"resourcesDir", ",", "\"\<Models.wl\>\""}], "}"}], "]"}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"Put", "[", 
   RowBox[{"data", ",", "filename"}], "]"}], ";"}]}], "Input",
 CellGroupingRules->{
  "GroupTogetherGrouping", 
   10000.},ExpressionUUID->"2ae9b58a-f26b-4601-96c3-7a022d3ab707"],

Cell[BoxData[
 RowBox[{"(*", 
  RowBox[{"load", " ", "and", " ", "test"}], "*)"}]], "Input",
 CellGroupingRules->{
  "GroupTogetherGrouping", 
   10000.},ExpressionUUID->"fd319ddf-f107-4c59-8036-38fc0f7b82da"],

Cell[BoxData[
 RowBox[{
  RowBox[{"Quit", "[", "]"}], ";"}]], "Input",
 CellGroupingRules->{
  "GroupTogetherGrouping", 
   10000.},ExpressionUUID->"0f5496d7-1310-4ca5-a0eb-97db14a429ec"],

Cell[BoxData[{
 RowBox[{
  RowBox[{
   RowBox[{"resourcesDir", "=", 
    RowBox[{"FileNameJoin", "[", 
     RowBox[{"{", 
      RowBox[{
       RowBox[{"DirectoryName", "[", 
        RowBox[{
         RowBox[{"NotebookDirectory", "[", "]"}], ",", "1"}], "]"}], 
       ",", "\"\<Resources\>\""}], "}"}], "]"}]}], ";"}], 
  "\[IndentingNewLine]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"filename", "=", 
   RowBox[{"FileNameJoin", "[", 
    RowBox[{"{", 
     RowBox[{"resourcesDir", ",", "\"\<Models.wl\>\""}], "}"}], "]"}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{"data", "=", 
  RowBox[{"Get", "[", "filename", "]"}]}], "\[IndentingNewLine]", 
 RowBox[{"Get", "@", "data"}]}], "Input",
 CellGroupingRules->{
  "GroupTogetherGrouping", 
   10000.},ExpressionUUID->"d022d366-63d4-426b-b62d-47e776d47b75"],

Cell[BoxData[
 RowBox[{"Keys", "@", "FernandoDuarte`LongRunRisk`Models"}]], "Input",
 CellGroupingRules->{
  "GroupTogetherGrouping", 
   10000.},ExpressionUUID->"6a1cb04c-fd15-4615-b97b-271b48daf5d5"],

Cell[BoxData[{
 RowBox[{"Names", "[", "\"\<Global`*\>\"", "]"}], "\[IndentingNewLine]", 
 RowBox[{"Names", "[", "\"\<FernandoDuarte`LongRunRisk`*\>\"", 
  "]"}]}], "Input",
 CellGroupingRules->{
  "GroupTogetherGrouping", 
   10000.},ExpressionUUID->"03a42d9a-ed9e-4e6f-bec2-3a117368f3dc"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"pacletDir", "=", 
   RowBox[{"DirectoryName", "[", 
    RowBox[{
     RowBox[{"NotebookDirectory", "[", "]"}], ",", "1"}], "]"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"PacletDirectoryLoad", "[", "pacletDir", "]"}], ";"}]}], "Input",
 CellGroupingRules->{
  "GroupTogetherGrouping", 
   10000.},ExpressionUUID->"edbbc936-be7f-4b3f-893d-46703ac10d8c"],

Cell[BoxData[
 RowBox[{
  RowBox[{"Get", "[", "\"\<FernandoDuarte`LongRunRisk`\>\"", "]"}], 
  ";"}]], "Input",
 CellGroupingRules->{
  "GroupTogetherGrouping", 
   10000.},ExpressionUUID->"1df25f4c-fac3-460f-a128-df17a965b2e3"],

Cell[BoxData[
 RowBox[{"UncondVar", "[", 
  RowBox[{
   RowBox[{"wc", "[", 
    RowBox[{"t", "+", "j"}], "]"}], ",", 
   RowBox[{"Models", "[", "\"\<BKY\>\"", "]"}]}], "]"}]], "Input",
 CellGroupingRules->{
  "GroupTogetherGrouping", 
   10000.},ExpressionUUID->"44ff3e4e-ffc6-471c-9255-e872275b80dd"],

Cell[BoxData[
 RowBox[{"UncondVar", "[", 
  RowBox[{
   RowBox[{"wc", "[", 
    RowBox[{"t", "+", "j"}], "]"}], ",", 
   RowBox[{"Models", "[", "\"\<NRC\>\"", "]"}]}], "]"}]], "Input",
 CellGroupingRules->{
  "GroupTogetherGrouping", 
   10000.},ExpressionUUID->"a027661f-a00e-49eb-a6f1-e0218f1c5df4"],

Cell[BoxData[
 RowBox[{"UncondVar", "[", 
  RowBox[{
   RowBox[{"wc", "[", 
    RowBox[{"t", "+", "j"}], "]"}], ",", 
   RowBox[{"Models", "[", "\"\<DES\>\"", "]"}]}], "]"}]], "Input",
 CellGroupingRules->{
  "GroupTogetherGrouping", 
   10000.},ExpressionUUID->"3abf85c5-eb2e-451a-b5b3-e2d3f1eb887b"],

Cell[BoxData[
 RowBox[{"UncondVar", "[", 
  RowBox[{
   RowBox[{"wc", "[", "t", "]"}], ",", 
   RowBox[{"Models", "[", "\"\<BY\>\"", "]"}]}], "]"}]], "Input",
 CellGroupingRules->{"GroupTogetherGrouping", 10000.},
 CellChangeTimes->{{3.971005996802742*^9, 3.9710060148232327`*^9}, 
   3.971006544355772*^9},ExpressionUUID->"b9d2372b-09b7-41df-a85d-\
30573416aef5"],

Cell[BoxData[
 RowBox[{"UncondVar", "[", 
  RowBox[{
   RowBox[{"wc", "[", "t", "]"}], ",", 
   RowBox[{"Models", "[", "\"\<NRCStochVol\>\"", "]"}]}], "]"}]], "Input",
 CellGroupingRules->{"GroupTogetherGrouping", 10000.},
 CellChangeTimes->{{3.971005996802742*^9, 3.9710060148232327`*^9}, 
   3.971006544355772*^9},ExpressionUUID->"da6e026a-bed7-480e-ac04-\
f890c943e299"]
}, Open  ]],

Cell[CellGroupData[{

Cell["Debug", "Section",ExpressionUUID->"4e688cad-a90e-48ce-91bf-8f79f2202b9f"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{
  RowBox[{"Quit", "[", "]"}], ";"}]], "Input",
 CellGroupingRules->{
  "GroupTogetherGrouping", 
   10000.},ExpressionUUID->"061522a9-2163-458e-92ac-22851b09aa42"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"pacletDir", "=", 
   RowBox[{"DirectoryName", "[", 
    RowBox[{
     RowBox[{"NotebookDirectory", "[", "]"}], ",", "1"}], "]"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"PacletDirectoryLoad", "[", "pacletDir", "]"}], ";"}], 
  "\[IndentingNewLine]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
  "Get", "[", "\"\<FernandoDuarte`LongRunRisk`Model`Catalog`\>\"", "]"}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
  "Get", "[", "\"\<FernandoDuarte`LongRunRisk`Model`ProcessModels`\>\"", 
   "]"}], ";"}]}], "Input",
 CellGroupingRules->{
  "GroupTogetherGrouping", 
   10000.},ExpressionUUID->"49e826f0-400c-4cfd-8f1a-cafafee38b2c"]
}, Open  ]],

Cell[BoxData[
 RowBox[{
  RowBox[{"modelsToProcess", "=", 
   RowBox[{"\"\<DES\>\"", " ", "|", "\"\<BY\>\"", "|", "\"\<BKY\>\"", 
    "|", "\"\<NRC\>\"", "|", "\"\<NRCStochVol\>\""}]}], ";"}]], "Input",Expres\
sionUUID->"26a77a9e-76f9-4f2a-a98d-caad759f7bbb"],

Cell[BoxData[
 RowBox[{"SetAttributes", "[", 
  RowBox[{"FernandoDuarte`LongRunRisk`Epd0", ",", "NHoldAll"}], 
  "]"}]], "Input",ExpressionUUID->"7e86f679-e547-46d0-90ca-3abc83bb8d48"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"modelsCatalog", "=", 
   RowBox[{"KeySelect", "[", 
    RowBox[{"models", ",", 
     RowBox[{
      RowBox[{"MatchQ", "[", 
       RowBox[{"#", ",", " ", "modelsToProcess"}], "]"}], "&"}]}], "]"}]}], 
  ";"}], "\n", 
 RowBox[{
  RowBox[{"modelsExtraInfo", "=", 
   RowBox[{"KeySelect", "[", 
    RowBox[{"modelsExtraInfo", ",", 
     RowBox[{
      RowBox[{"MatchQ", "[", 
       RowBox[{"#", ",", " ", "modelsToProcess"}], "]"}], "&"}]}], "]"}]}], 
  ";"}], "\n", 
 RowBox[{
  RowBox[{"opts", "=", 
   RowBox[{"Sequence", "[", 
    RowBox[{
     RowBox[{"\"\<FindRootOptions\>\"", "->", 
      RowBox[{"{", "FernandoDuarte`LongRunRisk`FindRootOptions", "}"}]}], ",",
      "\[IndentingNewLine]", 
     RowBox[{"\"\<RecurrenceTableOptions\>\"", "->", 
      RowBox[{
      "{", "FernandoDuarte`LongRunRisk`RecurrenceTableOptions", "}"}]}], ",", 
     "\[IndentingNewLine]", 
     RowBox[{"\"\<initialGuess\>\"", " ", "->", 
      RowBox[{"<|", 
       RowBox[{
        RowBox[{"\"\<Ewc\>\"", "->", 
         RowBox[{"{", "FernandoDuarte`LongRunRisk`Ewc0", "}"}]}], ",", 
        RowBox[{"\"\<Epd\>\"", "->", 
         RowBox[{"{", 
          RowBox[{"{", "FernandoDuarte`LongRunRisk`Epd0", "}"}], "}"}]}]}], 
       "|>"}]}]}], "]"}]}], ";"}]}], "Input",ExpressionUUID->"f6996440-24e6-\
4b12-8796-5ffcedcbf6f8"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"keys", "=", 
   RowBox[{"Keys", "[", "modelsCatalog", "]"}]}], ";"}], "\n", 
 RowBox[{
  RowBox[{"models", " ", "=", " ", 
   RowBox[{"KeyMap", "[", 
    RowBox[{
     RowBox[{
      RowBox[{"Replace", "[", 
       RowBox[{"#", ",", " ", 
        RowBox[{"Thread", "[", 
         RowBox[{
          RowBox[{"Keys", "[", "modelsCatalog", "]"}], "->", 
          RowBox[{"Values", "@", 
           RowBox[{"(", 
            RowBox[{
             RowBox[{
              RowBox[{"#", "[", "\"\<shortname\>\"", "]"}], "&"}], "/@", 
             "modelsCatalog"}], ")"}]}]}], " ", "]"}]}], " ", "]"}], "&"}], ",",
      "modelsCatalog"}], "]"}]}], ";"}], "\n", 
 RowBox[{
  RowBox[{"contextPath", "=", "$ContextPath"}], ";"}]}], "Input",ExpressionUUI\
D->"803a74f9-d9da-48f5-a255-52aded6168ea"],

Cell[BoxData[
 RowBox[{
  RowBox[{"(*", 
   RowBox[{
    RowBox[{
    "replace", " ", "stateVars", " ", "by", " ", "a", " ", "function", " ", 
     "t"}], " ", "|->", " ", 
    RowBox[{"stateVars", "[", "t", "]"}]}], " ", "*)"}], "\n", "\t", 
  RowBox[{
   RowBox[{
    RowBox[{"models", " ", "=", " ", 
     RowBox[{
      RowBox[{
       RowBox[{"Append", "[", "\n", "\t\t", 
        RowBox[{"#", ",", "\n", "\t\t", 
         RowBox[{"\"\<stateVars\>\"", " ", "->", " ", 
          RowBox[{"Function", "[", 
           RowBox[{
            RowBox[{"Evaluate", "@", 
             RowBox[{"DeleteDuplicates", "@", 
              RowBox[{"Cases", "[", 
               RowBox[{
                RowBox[{"#", "[", "\"\<stateVars\>\"", "]"}], ",", 
                RowBox[{"e_Symbol", "?", 
                 RowBox[{"(", 
                  RowBox[{
                   RowBox[{"MatchQ", "[", 
                    RowBox[{
                    RowBox[{"SymbolName", "[", "#", "]"}], ",", "\"\<t\>\""}],
                     "]"}], "&"}], ")"}]}], ",", "Infinity"}], "]"}]}]}], ",", 
            RowBox[{"Evaluate", "@", 
             RowBox[{"#", "[", "\"\<stateVars\>\"", "]"}]}]}], "]"}]}]}], 
        "\n", "\t", "]"}], "&"}], " ", "/@", " ", "models"}]}], ";"}], "\n", 
   "\t", "\n", "\t", 
   RowBox[{"(*", 
    RowBox[{
     RowBox[{
     "add", " ", "number", " ", "of", " ", "stocks", " ", "as", " ", "a", " ",
       "new", " ", "key"}], "-", 
     RowBox[{"value", " ", "pair", " ", "in", " ", "each", " ", "model"}]}], 
    "*)"}], "\n", "\t", 
   RowBox[{
    RowBox[{"models", " ", "=", " ", 
     RowBox[{
      RowBox[{
       RowBox[{"Append", "[", "\n", "\t\t", 
        RowBox[{"#", ",", "\n", "\t\t", 
         RowBox[{"\"\<numStocks\>\"", " ", "->", " ", 
          RowBox[{"Count", "[", 
           RowBox[{
            RowBox[{"#", "[", "\"\<parameters\>\"", "]"}], ",", " ", 
            RowBox[{"mud", "[", "_Integer", "]"}], ",", " ", "Infinity"}], 
           "]"}]}]}], "\n", "\t", "]"}], "&"}], " ", "/@", " ", "models"}]}], 
    ";"}], "\n", "\t", "\n", "\t", 
   RowBox[{"(*", 
    RowBox[{
    "find", " ", "parameters", " ", "that", " ", "are", " ", "zero", " ", 
     "or", " ", "one", " ", "in", " ", "parameters", " ", "and", " ", "add", " ",
      "to", " ", "models"}], "*)"}], "\n", "\t", 
   RowBox[{
    RowBox[{"models", " ", "=", " ", 
     RowBox[{
      RowBox[{
       RowBox[{"Append", "[", "\n", "\t\t", 
        RowBox[{"#", ",", "\n", "\t\t", 
         RowBox[{"\"\<assignParam\>\"", " ", "->", " ", 
          RowBox[{"Select", "[", 
           RowBox[{
            RowBox[{"#", "[", "\"\<parameters\>\"", "]"}], ",", " ", 
            RowBox[{
             RowBox[{
              RowBox[{
               RowBox[{"#", "[", 
                RowBox[{"[", "2", "]"}], "]"}], " ", "==", " ", "0"}], " ", "||",
               " ", 
              RowBox[{
               RowBox[{"#", "[", 
                RowBox[{"[", "2", "]"}], "]"}], " ", "==", " ", "1"}]}], 
             "&"}]}], "]"}]}]}], "\n", "\t", "]"}], "&"}], " ", "/@", " ", 
      "models"}]}], ";"}], "\n", "\t", "\n", "\t", 
   RowBox[{"(*", 
    RowBox[{
    "find", " ", "parameters", " ", "of", " ", "stocks", " ", "that", " ", 
     "are", " ", "zero", " ", "for", " ", "all", " ", "stocks", " ", "and", " ",
      "add", " ", "to", " ", "models"}], "*)"}], "\n", "\t", 
   RowBox[{
    RowBox[{"models", " ", "=", " ", 
     RowBox[{
      RowBox[{
       RowBox[{"Append", "[", "\n", "\t\t\t", 
        RowBox[{"#", ",", "\n", "\t\t\t", 
         RowBox[{"\"\<stockZeroParam\>\"", " ", "->", " ", 
          RowBox[{"DeleteDuplicates", "[", 
           RowBox[{"Cases", "[", 
            RowBox[{
             RowBox[{"#", "[", "\"\<parameters\>\"", "]"}], ",", " ", 
             RowBox[{
              RowBox[{"Rule", "[", 
               RowBox[{
                RowBox[{"z_", "[", "i_", "]"}], ",", " ", "0"}], "]"}], " ", ":>",
               " ", 
              RowBox[{"{", 
               RowBox[{"z", ",", " ", "i"}], "}"}]}], ",", " ", "Infinity"}], 
            "]"}], "]"}]}]}], "\n", "\t", "]"}], "&"}], " ", "/@", " ", 
      "models"}]}], ";"}], "\n", "\t", "\n", "\t", 
   RowBox[{
    RowBox[{"models", " ", "=", " ", 
     RowBox[{
      RowBox[{
       RowBox[{"Append", "[", 
        RowBox[{"#", ",", "\n", "\t\t", 
         RowBox[{"\"\<assignParamStocks\>\"", " ", "->", " ", 
          RowBox[{"DeleteDuplicates", "[", "\n", "\t\t\t", 
           RowBox[{"Table", "[", "\n", "\t\t\t\t", 
            RowBox[{
             RowBox[{"If", "[", "\n", "\t\t\t\t\t", 
              RowBox[{
               RowBox[{"And", " ", "@@", " ", 
                RowBox[{"Table", "[", "\n", "\t\t\t\t\t\t", 
                 RowBox[{
                  RowBox[{"MemberQ", "[", 
                   RowBox[{
                    RowBox[{"#", "[", "\"\<stockZeroParam\>\"", "]"}], ",", 
                    " ", 
                    RowBox[{"{", 
                    RowBox[{
                    RowBox[{
                    RowBox[{"#", "[", "\"\<stockZeroParam\>\"", "]"}], "[", 
                    RowBox[{"[", 
                    RowBox[{"q", ",", " ", "1"}], "]"}], "]"}], ",", " ", 
                    "j"}], "}"}]}], "]"}], ",", "\n", "\t\t\t\t\t\t", 
                  RowBox[{"{", 
                   RowBox[{"j", ",", " ", "1", ",", " ", 
                    RowBox[{"#", "[", "\"\<numStocks\>\"", "]"}]}], "}"}]}], 
                 "\n", "\t\t\t\t\t", "]"}]}], ",", "\n", "\t\t\t\t\t", 
               RowBox[{
                RowBox[{
                 RowBox[{
                  RowBox[{"#", "[", "\"\<stockZeroParam\>\"", "]"}], "[", 
                  RowBox[{"[", 
                   RowBox[{"q", ",", " ", "1"}], "]"}], "]"}], "[", "i_", 
                 "]"}], " ", "->", " ", "0"}], ",", "\n", "\t\t\t\t\t", 
               "Nothing"}], "\n", "\t\t\t\t", "]"}], ",", " ", "\n", 
             "\t\t\t\t", 
             RowBox[{"{", 
              RowBox[{"q", ",", " ", "1", ",", " ", 
               RowBox[{"Length", "[", 
                RowBox[{"#", "[", "\"\<stockZeroParam\>\"", "]"}], "]"}]}], 
              "}"}]}], "\n", "\t\t\t", "]"}], "\n", "\t\t ", "]"}]}]}], "\n", 
        "\t", "]"}], "&"}], " ", "/@", " ", "models"}]}], ";"}], "\n", "\t", "\n",
    "\t", 
   RowBox[{
    RowBox[{"models", " ", "=", " ", 
     RowBox[{
      RowBox[{
       RowBox[{"KeyDrop", "[", 
        RowBox[{"#", ",", " ", "\"\<stockZeroParam\>\""}], "]"}], "&"}], " ", 
      "/@", " ", "models"}]}], ";"}], "\n", "\t", "\n", "\t", 
   RowBox[{"(*", 
    RowBox[{
    "parameters", " ", "that", " ", "can", " ", "be", " ", "changed", " ", 
     "for", " ", "each", " ", "model"}], "*)"}], "\n", "\t", 
   RowBox[{
    RowBox[{"models", " ", "=", " ", 
     RowBox[{
      RowBox[{
       RowBox[{"Append", "[", "\n", "\t\t\t", 
        RowBox[{"#", ",", "\n", "\t\t\t", 
         RowBox[{"\"\<params\>\"", " ", "->", " ", 
          RowBox[{"Complement", "[", 
           RowBox[{
            RowBox[{"#", "[", "\"\<parameters\>\"", "]"}], ",", " ", 
            RowBox[{"#", "[", "\"\<assignParam\>\"", "]"}]}], "]"}]}]}], "\n",
         "\t", "]"}], "&"}], " ", "/@", " ", "models"}]}], ";"}], "\n", "\t", 
   "\n", "\t", 
   RowBox[{"(*", 
    RowBox[{"add", " ", "assumptions"}], "*)"}], "\n", "\t", 
   RowBox[{
    RowBox[{"modelAssumptions", " ", "=", " ", 
     RowBox[{
     "FernandoDuarte`LongRunRisk`Model`Parameters`Private`paramAssumptions", 
      " ", "&&", " ", "\n", "\t\t", 
      "FernandoDuarte`LongRunRisk`Model`EndogenousEq`Private`\
endogEqAssumptions"}]}], ";"}], "\n", "\t", 
   RowBox[{
    RowBox[{"models", "=", 
     RowBox[{
      RowBox[{"(", 
       RowBox[{
        RowBox[{"Append", "[", 
         RowBox[{"#", ",", " ", 
          RowBox[{"\"\<modelAssumptions\>\"", "->", 
           RowBox[{"(", 
            RowBox[{
             RowBox[{"modelAssumptions", "//.", 
              RowBox[{"#", "[", "\"\<assignParam\>\"", "]"}]}], "//.", 
             RowBox[{"#", "[", "\"\<assignParamStocks\>\"", "]"}]}], 
            ")"}]}]}], " ", "]"}], "&"}], ")"}], " ", "/@", "models"}]}], 
    ";"}], "\n"}]}]], "Input",ExpressionUUID->"14d3ed18-5619-4623-9762-\
f03aa8bb5e3f"],

Cell[BoxData[
 RowBox[{"models", ";"}]], "Input",ExpressionUUID->"f2e8f5b1-614c-4b58-9592-7aff157365ed"],

Cell[BoxData[
 RowBox[{
  RowBox[{
  "Needs", "[", "\"\<FernandoDuarte`LongRunRisk`Model`ExogenousEq`\>\"", 
   "]"}], ";"}]], "Input",ExpressionUUID->"d1d23f26-7d06-4d64-a0f5-\
5c1fe0c8aaac"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"argsPattern", " ", "=", " ", 
   RowBox[{
    RowBox[{
     RowBox[{"Cases", "[", 
      RowBox[{
       RowBox[{
        RowBox[{"DownValues", "[", "#", "]"}], "[", 
        RowBox[{"[", 
         RowBox[{";;", ",", "1"}], "]"}], "]"}], ",", 
       RowBox[{
        RowBox[{
         RowBox[{"Verbatim", "[", "HoldPattern", "]"}], "[", 
         RowBox[{
          RowBox[{"Verbatim", "[", 
           RowBox[{"Symbol", "@", "#"}], "]"}], "[", "vars__", "]"}], "]"}], ":>",
         "vars"}]}], "]"}], "&"}], "/@", "$exogenousVars"}]}], ";"}], "\n", 
 RowBox[{
  RowBox[{"funs", " ", "=", " ", 
   RowBox[{
    RowBox[{
     RowBox[{
      RowBox[{
       RowBox[{"DownValues", "[", "#", "]"}], "[", 
       RowBox[{"[", 
        RowBox[{";;", ",", "2"}], "]"}], "]"}], "[", 
      RowBox[{"[", "1", "]"}], "]"}], "&"}], "/@", "$exogenousVars"}]}], 
  ";"}]}], "Input",ExpressionUUID->"646671e8-9175-4a9b-86f0-116b4bdab7bb"],

Cell[BoxData[
 RowBox[{
  RowBox[{"exoExprAssignParam", "=", 
   RowBox[{
    RowBox[{
     RowBox[{"(", 
      RowBox[{
       RowBox[{"funs", "//.", 
        RowBox[{"#", "[", "\"\<assignParam\>\"", "]"}]}], "//.", 
       RowBox[{"#", "[", "\"\<assignParamStocks\>\"", "]"}]}], ")"}], "&"}], 
    " ", "/@", "models"}]}], ";"}]], "Input",ExpressionUUID->"54277ec1-b99c-\
4bd0-8dde-a646cfe9982b"],

Cell[BoxData[""], "Input",ExpressionUUID->"01fe98fb-c19a-408d-9e09-637f1c66388e"],

Cell[BoxData[{
 RowBox[{
  RowBox[{
   RowBox[{"funTemplate", "[", 
    RowBox[{"fun_", ",", "argPatt_"}], "]"}], " ", ":=", " ", 
   RowBox[{
    RowBox[{"(", " ", 
     RowBox[{
      RowBox[{"{", "##", "}"}], " ", "/.", " ", 
      RowBox[{"(", 
       RowBox[{"argPatt", " ", ":>", " ", "fun"}], ")"}]}], " ", ")"}], 
    "&"}]}], ";"}], "\n", 
 RowBox[{"\t\t", 
  RowBox[{
   RowBox[{
    RowBox[{"Attributes", "[", "matchSymbol", "]"}], "=", 
    RowBox[{"{", "Listable", "}"}]}], ";"}]}], "\n", 
 RowBox[{"\t\t", 
  RowBox[{
   RowBox[{
    RowBox[{"matchSymbol", "[", "var_String", "]"}], ":=", " ", 
    RowBox[{"(", 
     RowBox[{"_Symbol", "?", 
      RowBox[{"(", 
       RowBox[{
        RowBox[{"(", 
         RowBox[{
          RowBox[{"SymbolName", "[", "#", "]"}], "===", "var"}], ")"}], "&"}],
        ")"}]}], ")"}]}], ";"}], " ", 
  RowBox[{"(*", 
   RowBox[{
   "pattern", " ", "to", " ", "match", " ", "symbols", " ", "in", " ", "any", 
    " ", "Context"}], "*)"}]}], "\n", 
 RowBox[{"\t\t", 
  RowBox[{
   RowBox[{"exoExprMatchSymbol", " ", "=", " ", 
    RowBox[{
    "matchSymbol", "/@", 
     "FernandoDuarte`LongRunRisk`Model`ExogenousEq`Private`$\
exogenousVarsPrivate"}]}], ";"}]}], "\n", 
 RowBox[{"\t\t", 
  RowBox[{
   RowBox[{
    RowBox[{"exo", "[", "shortname_String", "]"}], ":=", 
    RowBox[{"Association", "@", 
     RowBox[{"MapThread", "[", 
      RowBox[{
       RowBox[{
        RowBox[{"#1", "->", 
         RowBox[{"funTemplate", "[", "##2", "]"}]}], "&"}], ",", 
       RowBox[{"{", 
        RowBox[{"exoExprMatchSymbol", ",", 
         RowBox[{"exoExprAssignParam", "[", "shortname", "]"}], ",", 
         "argsPattern"}], "}"}]}], "]"}]}]}], ";"}]}]}], "Input",ExpressionUUI\
D->"d9d4236d-6b4b-458b-ba40-3cbac02e8f3a"],

Cell[BoxData[{
 RowBox[{
  RowBox[{
   RowBox[{"models", "=", 
    RowBox[{
     RowBox[{
      RowBox[{"Append", "[", "\n", "\t\t\t", 
       RowBox[{"#", ",", "\n", "\t\t\t", 
        RowBox[{"\"\<exogenousVars\>\"", "->", "$exogenousVars"}]}], "\n", 
       "\t\t", "]"}], "&"}], " ", "/@", " ", "models"}]}], ";"}], "\n", 
  "\t\t"}], "\n", 
 RowBox[{"\t\t", 
  RowBox[{"models", "=", 
   RowBox[{
    RowBox[{
     RowBox[{"Append", "[", "\n", "\t\t\t", 
      RowBox[{"#", ",", "\n", "\t\t\t", 
       RowBox[{"\"\<exogenousEq\>\"", "->", 
        RowBox[{"exo", "[", 
         RowBox[{"#", "[", "\"\<shortname\>\"", "]"}], "]"}]}]}], "\n", 
      "\t\t", "]"}], "&"}], " ", "/@", "models"}]}]}]}], "Input",ExpressionUUI\
D->"7cb76356-9933-4e58-b011-607de8f22088"]
}, Open  ]]
},
WindowSize->{1269, 954},
WindowMargins->{{-1540, Automatic}, {Automatic, 49}},
WindowStatusArea->"",
DockedCells->{
  Cell[
   BoxData[
    DynamicModuleBox[{LinterUIDockedCell`Private`notebook$$}, 
     GraphicsBox[{
       InsetBox[
        TemplateBox[{
          PaneBox[
           StyleBox[
           "\"Code Analysis\"", FontColor -> GrayLevel[0.4], FontFamily -> 
            "Source Sans Pro", FontWeight -> Plain, FontSize -> 13, 
            StripOnInput -> False], 
           BaselinePosition -> (Baseline -> Scaled[0.65])], 
          TemplateBox[{8}, "Spacer1"], 
          PaneBox[
           
           PaneSelectorBox[{{False, False} -> 
             TemplateBox[{0}, "Spacer1"], {True, False} -> 
             TemplateBox[{0}, "Spacer1"], {True, True} -> PaneBox[
               InterpretationBox[
                DynamicBox[
                 FEPrivate`FrontEndResource[
                 "FEExpressions", "PercolateAnimator"][Medium]], 
                ProgressIndicator[Appearance -> "Percolate"], 
                BaseStyle -> {"Deploy"}], BaselinePosition -> Scaled[0.05]], {
              False, True} -> 
             DynamicModuleBox[{
               CodeInspector`LinterUI`Private`tracker$$ = 
                CodeInspector`LinterUI`Private`DynamicTriggers`\
dockedCellLintCounts}, 
               DynamicWrapperBox[
                DynamicBox[
                 ToBoxes[
                 CodeInspector`LinterUI`Private`tracker$$; 
                  LinterUIDockedCell`Private`dockedCellSeverityCountsButton[
                   LinterUIDockedCell`Private`notebook$$], TraditionalForm], 
                 TrackedSymbols :> {
                  CodeInspector`LinterUI`Private`tracker$$}], 
                If[
                CodeInspector`LinterUI`Private`tracker$$ =!= 
                 CodeInspector`LinterUI`Private`DynamicTriggers`\
dockedCellLintCounts, CodeInspector`LinterUI`Private`tracker$$ = 
                 CodeInspector`LinterUI`Private`DynamicTriggers`\
dockedCellLintCounts]], DynamicModuleValues :> {}]}, 
            Dynamic[FEPrivate`EvaluatorStatus["Local"]; {
               CodeInspector`LinterUI`Private`varValue[
               LinterUIDockedCell`Private`notebook$$, "AnalysisInProgressQ"], 
               
               TrueQ[
                CodeInspector`LinterUI`Private`varValue[
                LinterUIDockedCell`Private`notebook$$, 
                 "DockedCellPresentQ"]]}], ImageSize -> Automatic], 
           BaselinePosition -> Scaled[0.15]]}, "Row", 
         DisplayFunction -> (PaneBox[
           RowBox[{
             TemplateSlotSequence[1, "\[InvisibleSpace]"]}], Alignment -> 
           Baseline]& ), InterpretationFunction -> (RowBox[{"Row", "[", 
            RowBox[{
              RowBox[{"{", 
                TemplateSlotSequence[1, ","], "}"}], ",", 
              RowBox[{"Alignment", "\[Rule]", "Baseline"}]}], "]"}]& )], 
        Offset[{8, 0}, {-1, 0}], {-1, 0}], 
       InsetBox[
        PaneSelectorBox[{
         True -> DynamicModuleBox[{
            CodeInspector`LinterUI`Private`hoverQ$$ = False, 
             CodeInspector`LinterUI`Private`mouseDownQ$$ = False, 
             CodeInspector`LinterUI`Private`fontColor$$}, 
            ButtonBox[
             DynamicWrapperBox[
              TemplateBox[{
                DynamicWrapperBox[
                 StyleBox[
                  PaneBox[
                  "\"Reanalyze Notebook\"", ContentPadding -> True, 
                   FrameMargins -> None, BaselinePosition -> Baseline], 
                  FontColor -> 
                  Dynamic[CodeInspector`LinterUI`Private`fontColor$$], 
                  FontColor -> GrayLevel[0.2], FontFamily -> 
                  "Source Sans Pro", FontWeight -> Plain, FontSize -> 14, 
                  StripOnInput -> False], 
                 CodeInspector`LinterUI`Private`fontColor$$ = Which[
                   TrueQ[
                    Not[
                    
                    OptionValue[{
                    ImageSize -> {Automatic, 19}, 
                    FrameMargins -> {9 {1, 1}, 0 {1, 1}}, BaselinePosition -> 
                    Baseline, Alignment -> {Center, Center}, Method -> 
                    "Preemptive", "ActiveQ" -> True, "TextColor" -> 
                    CodeInspector`LinterUI`Private`colorData["ButtonText"], 
                    "TextHoverColor" -> 
                    CodeInspector`LinterUI`Private`colorData[
                    "ButtonTextHover"], "TextInactiveColor" -> 
                    CodeInspector`LinterUI`Private`colorData[
                    "ButtonTextInactive"], "BackColor" -> 
                    CodeInspector`LinterUI`Private`colorData["ButtonBack"], 
                    "BackHoverColor" -> 
                    CodeInspector`LinterUI`Private`colorData[
                    "ButtonBackHover"], "BackMouseDownColor" -> 
                    CodeInspector`LinterUI`Private`colorData[
                    "ButtonBackMouseDown"], "BackInactiveColor" -> 
                    CodeInspector`LinterUI`Private`colorData[
                    "ButtonBackInactive"], "EdgeColor" -> 
                    CodeInspector`LinterUI`Private`colorData["ButtonEdge"], 
                    "EdgeHoverColor" -> 
                    CodeInspector`LinterUI`Private`colorData[
                    "ButtonEdgeHover"], "EdgeInactiveColor" -> 
                    CodeInspector`LinterUI`Private`colorData[
                    "ButtonEdgeInactive"]}, {Method -> "Queued"}, 
                    "ActiveQ"]]], 
                   
                   OptionValue[{
                    ImageSize -> {Automatic, 19}, 
                    FrameMargins -> {9 {1, 1}, 0 {1, 1}}, BaselinePosition -> 
                    Baseline, Alignment -> {Center, Center}, Method -> 
                    "Preemptive", "ActiveQ" -> True, "TextColor" -> 
                    CodeInspector`LinterUI`Private`colorData["ButtonText"], 
                    "TextHoverColor" -> 
                    CodeInspector`LinterUI`Private`colorData[
                    "ButtonTextHover"], "TextInactiveColor" -> 
                    CodeInspector`LinterUI`Private`colorData[
                    "ButtonTextInactive"], "BackColor" -> 
                    CodeInspector`LinterUI`Private`colorData["ButtonBack"], 
                    "BackHoverColor" -> 
                    CodeInspector`LinterUI`Private`colorData[
                    "ButtonBackHover"], "BackMouseDownColor" -> 
                    CodeInspector`LinterUI`Private`colorData[
                    "ButtonBackMouseDown"], "BackInactiveColor" -> 
                    CodeInspector`LinterUI`Private`colorData[
                    "ButtonBackInactive"], "EdgeColor" -> 
                    CodeInspector`LinterUI`Private`colorData["ButtonEdge"], 
                    "EdgeHoverColor" -> 
                    CodeInspector`LinterUI`Private`colorData[
                    "ButtonEdgeHover"], "EdgeInactiveColor" -> 
                    CodeInspector`LinterUI`Private`colorData[
                    "ButtonEdgeInactive"]}, {Method -> "Queued"}, 
                    "TextInactiveColor"], 
                   CodeInspector`LinterUI`Private`hoverQ$$, 
                   
                   OptionValue[{
                    ImageSize -> {Automatic, 19}, 
                    FrameMargins -> {9 {1, 1}, 0 {1, 1}}, BaselinePosition -> 
                    Baseline, Alignment -> {Center, Center}, Method -> 
                    "Preemptive", "ActiveQ" -> True, "TextColor" -> 
                    CodeInspector`LinterUI`Private`colorData["ButtonText"], 
                    "TextHoverColor" -> 
                    CodeInspector`LinterUI`Private`colorData[
                    "ButtonTextHover"], "TextInactiveColor" -> 
                    CodeInspector`LinterUI`Private`colorData[
                    "ButtonTextInactive"], "BackColor" -> 
                    CodeInspector`LinterUI`Private`colorData["ButtonBack"], 
                    "BackHoverColor" -> 
                    CodeInspector`LinterUI`Private`colorData[
                    "ButtonBackHover"], "BackMouseDownColor" -> 
                    CodeInspector`LinterUI`Private`colorData[
                    "ButtonBackMouseDown"], "BackInactiveColor" -> 
                    CodeInspector`LinterUI`Private`colorData[
                    "ButtonBackInactive"], "EdgeColor" -> 
                    CodeInspector`LinterUI`Private`colorData["ButtonEdge"], 
                    "EdgeHoverColor" -> 
                    CodeInspector`LinterUI`Private`colorData[
                    "ButtonEdgeHover"], "EdgeInactiveColor" -> 
                    CodeInspector`LinterUI`Private`colorData[
                    "ButtonEdgeInactive"]}, {Method -> "Queued"}, 
                    "TextHoverColor"], True, 
                   
                   OptionValue[{
                    ImageSize -> {Automatic, 19}, 
                    FrameMargins -> {9 {1, 1}, 0 {1, 1}}, BaselinePosition -> 
                    Baseline, Alignment -> {Center, Center}, Method -> 
                    "Preemptive", "ActiveQ" -> True, "TextColor" -> 
                    CodeInspector`LinterUI`Private`colorData["ButtonText"], 
                    "TextHoverColor" -> 
                    CodeInspector`LinterUI`Private`colorData[
                    "ButtonTextHover"], "TextInactiveColor" -> 
                    CodeInspector`LinterUI`Private`colorData[
                    "ButtonTextInactive"], "BackColor" -> 
                    CodeInspector`LinterUI`Private`colorData["ButtonBack"], 
                    "BackHoverColor" -> 
                    CodeInspector`LinterUI`Private`colorData[
                    "ButtonBackHover"], "BackMouseDownColor" -> 
                    CodeInspector`LinterUI`Private`colorData[
                    "ButtonBackMouseDown"], "BackInactiveColor" -> 
                    CodeInspector`LinterUI`Private`colorData[
                    "ButtonBackInactive"], "EdgeColor" -> 
                    CodeInspector`LinterUI`Private`colorData["ButtonEdge"], 
                    "EdgeHoverColor" -> 
                    CodeInspector`LinterUI`Private`colorData[
                    "ButtonEdgeHover"], "EdgeInactiveColor" -> 
                    CodeInspector`LinterUI`Private`colorData[
                    "ButtonEdgeInactive"]}, {Method -> "Queued"}, 
                    "TextColor"]]], ContentPadding -> False, 
                FrameMargins -> {{9, 9}, {0, 0}}, 
                Alignment -> {Center, Center}, ImageSize -> {Automatic, 19}, 
                RoundingRadius -> 3, FrameStyle -> Dynamic[
                  Directive[
                   AbsoluteThickness[0.5], 
                   Which[
                    TrueQ[
                    Not[
                    
                    OptionValue[{
                    ImageSize -> {Automatic, 19}, 
                    FrameMargins -> {9 {1, 1}, 0 {1, 1}}, BaselinePosition -> 
                    Baseline, Alignment -> {Center, Center}, Method -> 
                    "Preemptive", "ActiveQ" -> True, "TextColor" -> 
                    CodeInspector`LinterUI`Private`colorData["ButtonText"], 
                    "TextHoverColor" -> 
                    CodeInspector`LinterUI`Private`colorData[
                    "ButtonTextHover"], "TextInactiveColor" -> 
                    CodeInspector`LinterUI`Private`colorData[
                    "ButtonTextInactive"], "BackColor" -> 
                    CodeInspector`LinterUI`Private`colorData["ButtonBack"], 
                    "BackHoverColor" -> 
                    CodeInspector`LinterUI`Private`colorData[
                    "ButtonBackHover"], "BackMouseDownColor" -> 
                    CodeInspector`LinterUI`Private`colorData[
                    "ButtonBackMouseDown"], "BackInactiveColor" -> 
                    CodeInspector`LinterUI`Private`colorData[
                    "ButtonBackInactive"], "EdgeColor" -> 
                    CodeInspector`LinterUI`Private`colorData["ButtonEdge"], 
                    "EdgeHoverColor" -> 
                    CodeInspector`LinterUI`Private`colorData[
                    "ButtonEdgeHover"], "EdgeInactiveColor" -> 
                    CodeInspector`LinterUI`Private`colorData[
                    "ButtonEdgeInactive"]}, {Method -> "Queued"}, 
                    "ActiveQ"]]], 
                    
                    OptionValue[{
                    ImageSize -> {Automatic, 19}, 
                    FrameMargins -> {9 {1, 1}, 0 {1, 1}}, BaselinePosition -> 
                    Baseline, Alignment -> {Center, Center}, Method -> 
                    "Preemptive", "ActiveQ" -> True, "TextColor" -> 
                    CodeInspector`LinterUI`Private`colorData["ButtonText"], 
                    "TextHoverColor" -> 
                    CodeInspector`LinterUI`Private`colorData[
                    "ButtonTextHover"], "TextInactiveColor" -> 
                    CodeInspector`LinterUI`Private`colorData[
                    "ButtonTextInactive"], "BackColor" -> 
                    CodeInspector`LinterUI`Private`colorData["ButtonBack"], 
                    "BackHoverColor" -> 
                    CodeInspector`LinterUI`Private`colorData[
                    "ButtonBackHover"], "BackMouseDownColor" -> 
                    CodeInspector`LinterUI`Private`colorData[
                    "ButtonBackMouseDown"], "BackInactiveColor" -> 
                    CodeInspector`LinterUI`Private`colorData[
                    "ButtonBackInactive"], "EdgeColor" -> 
                    CodeInspector`LinterUI`Private`colorData["ButtonEdge"], 
                    "EdgeHoverColor" -> 
                    CodeInspector`LinterUI`Private`colorData[
                    "ButtonEdgeHover"], "EdgeInactiveColor" -> 
                    CodeInspector`LinterUI`Private`colorData[
                    "ButtonEdgeInactive"]}, {Method -> "Queued"}, 
                    "EdgeInactiveColor"], 
                    CodeInspector`LinterUI`Private`hoverQ$$, 
                    
                    OptionValue[{
                    ImageSize -> {Automatic, 19}, 
                    FrameMargins -> {9 {1, 1}, 0 {1, 1}}, BaselinePosition -> 
                    Baseline, Alignment -> {Center, Center}, Method -> 
                    "Preemptive", "ActiveQ" -> True, "TextColor" -> 
                    CodeInspector`LinterUI`Private`colorData["ButtonText"], 
                    "TextHoverColor" -> 
                    CodeInspector`LinterUI`Private`colorData[
                    "ButtonTextHover"], "TextInactiveColor" -> 
                    CodeInspector`LinterUI`Private`colorData[
                    "ButtonTextInactive"], "BackColor" -> 
                    CodeInspector`LinterUI`Private`colorData["ButtonBack"], 
                    "BackHoverColor" -> 
                    CodeInspector`LinterUI`Private`colorData[
                    "ButtonBackHover"], "BackMouseDownColor" -> 
                    CodeInspector`LinterUI`Private`colorData[
                    "ButtonBackMouseDown"], "BackInactiveColor" -> 
                    CodeInspector`LinterUI`Private`colorData[
                    "ButtonBackInactive"], "EdgeColor" -> 
                    CodeInspector`LinterUI`Private`colorData["ButtonEdge"], 
                    "EdgeHoverColor" -> 
                    CodeInspector`LinterUI`Private`colorData[
                    "ButtonEdgeHover"], "EdgeInactiveColor" -> 
                    CodeInspector`LinterUI`Private`colorData[
                    "ButtonEdgeInactive"]}, {Method -> "Queued"}, 
                    "EdgeHoverColor"], True, 
                    
                    OptionValue[{
                    ImageSize -> {Automatic, 19}, 
                    FrameMargins -> {9 {1, 1}, 0 {1, 1}}, BaselinePosition -> 
                    Baseline, Alignment -> {Center, Center}, Method -> 
                    "Preemptive", "ActiveQ" -> True, "TextColor" -> 
                    CodeInspector`LinterUI`Private`colorData["ButtonText"], 
                    "TextHoverColor" -> 
                    CodeInspector`LinterUI`Private`colorData[
                    "ButtonTextHover"], "TextInactiveColor" -> 
                    CodeInspector`LinterUI`Private`colorData[
                    "ButtonTextInactive"], "BackColor" -> 
                    CodeInspector`LinterUI`Private`colorData["ButtonBack"], 
                    "BackHoverColor" -> 
                    CodeInspector`LinterUI`Private`colorData[
                    "ButtonBackHover"], "BackMouseDownColor" -> 
                    CodeInspector`LinterUI`Private`colorData[
                    "ButtonBackMouseDown"], "BackInactiveColor" -> 
                    CodeInspector`LinterUI`Private`colorData[
                    "ButtonBackInactive"], "EdgeColor" -> 
                    CodeInspector`LinterUI`Private`colorData["ButtonEdge"], 
                    "EdgeHoverColor" -> 
                    CodeInspector`LinterUI`Private`colorData[
                    "ButtonEdgeHover"], "EdgeInactiveColor" -> 
                    CodeInspector`LinterUI`Private`colorData[
                    "ButtonEdgeInactive"]}, {Method -> "Queued"}, 
                    "EdgeColor"]]]], Background -> Dynamic[
                  Which[
                   TrueQ[
                    Not[
                    
                    OptionValue[{
                    ImageSize -> {Automatic, 19}, 
                    FrameMargins -> {9 {1, 1}, 0 {1, 1}}, BaselinePosition -> 
                    Baseline, Alignment -> {Center, Center}, Method -> 
                    "Preemptive", "ActiveQ" -> True, "TextColor" -> 
                    CodeInspector`LinterUI`Private`colorData["ButtonText"], 
                    "TextHoverColor" -> 
                    CodeInspector`LinterUI`Private`colorData[
                    "ButtonTextHover"], "TextInactiveColor" -> 
                    CodeInspector`LinterUI`Private`colorData[
                    "ButtonTextInactive"], "BackColor" -> 
                    CodeInspector`LinterUI`Private`colorData["ButtonBack"], 
                    "BackHoverColor" -> 
                    CodeInspector`LinterUI`Private`colorData[
                    "ButtonBackHover"], "BackMouseDownColor" -> 
                    CodeInspector`LinterUI`Private`colorData[
                    "ButtonBackMouseDown"], "BackInactiveColor" -> 
                    CodeInspector`LinterUI`Private`colorData[
                    "ButtonBackInactive"], "EdgeColor" -> 
                    CodeInspector`LinterUI`Private`colorData["ButtonEdge"], 
                    "EdgeHoverColor" -> 
                    CodeInspector`LinterUI`Private`colorData[
                    "ButtonEdgeHover"], "EdgeInactiveColor" -> 
                    CodeInspector`LinterUI`Private`colorData[
                    "ButtonEdgeInactive"]}, {Method -> "Queued"}, 
                    "ActiveQ"]]], 
                   
                   OptionValue[{
                    ImageSize -> {Automatic, 19}, 
                    FrameMargins -> {9 {1, 1}, 0 {1, 1}}, BaselinePosition -> 
                    Baseline, Alignment -> {Center, Center}, Method -> 
                    "Preemptive", "ActiveQ" -> True, "TextColor" -> 
                    CodeInspector`LinterUI`Private`colorData["ButtonText"], 
                    "TextHoverColor" -> 
                    CodeInspector`LinterUI`Private`colorData[
                    "ButtonTextHover"], "TextInactiveColor" -> 
                    CodeInspector`LinterUI`Private`colorData[
                    "ButtonTextInactive"], "BackColor" -> 
                    CodeInspector`LinterUI`Private`colorData["ButtonBack"], 
                    "BackHoverColor" -> 
                    CodeInspector`LinterUI`Private`colorData[
                    "ButtonBackHover"], "BackMouseDownColor" -> 
                    CodeInspector`LinterUI`Private`colorData[
                    "ButtonBackMouseDown"], "BackInactiveColor" -> 
                    CodeInspector`LinterUI`Private`colorData[
                    "ButtonBackInactive"], "EdgeColor" -> 
                    CodeInspector`LinterUI`Private`colorData["ButtonEdge"], 
                    "EdgeHoverColor" -> 
                    CodeInspector`LinterUI`Private`colorData[
                    "ButtonEdgeHover"], "EdgeInactiveColor" -> 
                    CodeInspector`LinterUI`Private`colorData[
                    "ButtonEdgeInactive"]}, {Method -> "Queued"}, 
                    "BackInactiveColor"], 
                   And[
                   CodeInspector`LinterUI`Private`hoverQ$$, 
                    CodeInspector`LinterUI`Private`mouseDownQ$$], 
                   
                   OptionValue[{
                    ImageSize -> {Automatic, 19}, 
                    FrameMargins -> {9 {1, 1}, 0 {1, 1}}, BaselinePosition -> 
                    Baseline, Alignment -> {Center, Center}, Method -> 
                    "Preemptive", "ActiveQ" -> True, "TextColor" -> 
                    CodeInspector`LinterUI`Private`colorData["ButtonText"], 
                    "TextHoverColor" -> 
                    CodeInspector`LinterUI`Private`colorData[
                    "ButtonTextHover"], "TextInactiveColor" -> 
                    CodeInspector`LinterUI`Private`colorData[
                    "ButtonTextInactive"], "BackColor" -> 
                    CodeInspector`LinterUI`Private`colorData["ButtonBack"], 
                    "BackHoverColor" -> 
                    CodeInspector`LinterUI`Private`colorData[
                    "ButtonBackHover"], "BackMouseDownColor" -> 
                    CodeInspector`LinterUI`Private`colorData[
                    "ButtonBackMouseDown"], "BackInactiveColor" -> 
                    CodeInspector`LinterUI`Private`colorData[
                    "ButtonBackInactive"], "EdgeColor" -> 
                    CodeInspector`LinterUI`Private`colorData["ButtonEdge"], 
                    "EdgeHoverColor" -> 
                    CodeInspector`LinterUI`Private`colorData[
                    "ButtonEdgeHover"], "EdgeInactiveColor" -> 
                    CodeInspector`LinterUI`Private`colorData[
                    "ButtonEdgeInactive"]}, {Method -> "Queued"}, 
                    "BackMouseDownColor"], 
                   CodeInspector`LinterUI`Private`hoverQ$$, 
                   
                   OptionValue[{
                    ImageSize -> {Automatic, 19}, 
                    FrameMargins -> {9 {1, 1}, 0 {1, 1}}, BaselinePosition -> 
                    Baseline, Alignment -> {Center, Center}, Method -> 
                    "Preemptive", "ActiveQ" -> True, "TextColor" -> 
                    CodeInspector`LinterUI`Private`colorData["ButtonText"], 
                    "TextHoverColor" -> 
                    CodeInspector`LinterUI`Private`colorData[
                    "ButtonTextHover"], "TextInactiveColor" -> 
                    CodeInspector`LinterUI`Private`colorData[
                    "ButtonTextInactive"], "BackColor" -> 
                    CodeInspector`LinterUI`Private`colorData["ButtonBack"], 
                    "BackHoverColor" -> 
                    CodeInspector`LinterUI`Private`colorData[
                    "ButtonBackHover"], "BackMouseDownColor" -> 
                    CodeInspector`LinterUI`Private`colorData[
                    "ButtonBackMouseDown"], "BackInactiveColor" -> 
                    CodeInspector`LinterUI`Private`colorData[
                    "ButtonBackInactive"], "EdgeColor" -> 
                    CodeInspector`LinterUI`Private`colorData["ButtonEdge"], 
                    "EdgeHoverColor" -> 
                    CodeInspector`LinterUI`Private`colorData[
                    "ButtonEdgeHover"], "EdgeInactiveColor" -> 
                    CodeInspector`LinterUI`Private`colorData[
                    "ButtonEdgeInactive"]}, {Method -> "Queued"}, 
                    "BackHoverColor"], True, 
                   
                   OptionValue[{
                    ImageSize -> {Automatic, 19}, 
                    FrameMargins -> {9 {1, 1}, 0 {1, 1}}, BaselinePosition -> 
                    Baseline, Alignment -> {Center, Center}, Method -> 
                    "Preemptive", "ActiveQ" -> True, "TextColor" -> 
                    CodeInspector`LinterUI`Private`colorData["ButtonText"], 
                    "TextHoverColor" -> 
                    CodeInspector`LinterUI`Private`colorData[
                    "ButtonTextHover"], "TextInactiveColor" -> 
                    CodeInspector`LinterUI`Private`colorData[
                    "ButtonTextInactive"], "BackColor" -> 
                    CodeInspector`LinterUI`Private`colorData["ButtonBack"], 
                    "BackHoverColor" -> 
                    CodeInspector`LinterUI`Private`colorData[
                    "ButtonBackHover"], "BackMouseDownColor" -> 
                    CodeInspector`LinterUI`Private`colorData[
                    "ButtonBackMouseDown"], "BackInactiveColor" -> 
                    CodeInspector`LinterUI`Private`colorData[
                    "ButtonBackInactive"], "EdgeColor" -> 
                    CodeInspector`LinterUI`Private`colorData["ButtonEdge"], 
                    "EdgeHoverColor" -> 
                    CodeInspector`LinterUI`Private`colorData[
                    "ButtonEdgeHover"], "EdgeInactiveColor" -> 
                    CodeInspector`LinterUI`Private`colorData[
                    "ButtonEdgeInactive"]}, {Method -> "Queued"}, 
                    "BackColor"]]]}, "Highlighted"], 
              CodeInspector`LinterUI`Private`hoverQ$$ = 
               CurrentValue["MouseOver"]; 
              CodeInspector`LinterUI`Private`mouseDownQ$$ = 
               CurrentValue["MouseButtonTest"]], 
             Appearance -> {
              "Default" -> 
               Image[RawArray["UnsignedInteger8",{{{255, 255, 255, 255}, {0, 
                  0, 0, 255}, {255, 255, 255, 255}}, {{0, 0, 0, 255}, {0, 0, 
                  0, 0}, {0, 0, 0, 255}}, {{255, 255, 255, 255}, {0, 0, 0, 
                  255}, {255, 255, 255, 255}}}], "Byte", ColorSpace -> "RGB", 
                 ImageResolution -> {72, 72}, Interleaving -> True], "Hover" -> 
               Image[RawArray["UnsignedInteger8",{{{255, 255, 255, 255}, {0, 
                  0, 0, 255}, {255, 255, 255, 255}}, {{0, 0, 0, 255}, {0, 0, 
                  0, 0}, {0, 0, 0, 255}}, {{255, 255, 255, 255}, {0, 0, 0, 
                  255}, {255, 255, 255, 255}}}], "Byte", ColorSpace -> "RGB", 
                 ImageResolution -> {72, 72}, Interleaving -> True], 
               "Pressed" -> 
               Image[RawArray["UnsignedInteger8",{{{255, 255, 255, 255}, {0, 
                  0, 0, 255}, {255, 255, 255, 255}}, {{0, 0, 0, 255}, {0, 0, 
                  0, 0}, {0, 0, 0, 255}}, {{255, 255, 255, 255}, {0, 0, 0, 
                  255}, {255, 255, 255, 255}}}], "Byte", ColorSpace -> "RGB", 
                 ImageResolution -> {72, 72}, Interleaving -> True]}, 
             BaselinePosition -> Baseline, 
             ButtonFunction :> (
              If[OptionValue[{
                  ImageSize -> {Automatic, 19}, 
                   FrameMargins -> {9 {1, 1}, 0 {1, 1}}, BaselinePosition -> 
                   Baseline, Alignment -> {Center, Center}, Method -> 
                   "Preemptive", "ActiveQ" -> True, "TextColor" -> 
                   CodeInspector`LinterUI`Private`colorData["ButtonText"], 
                   "TextHoverColor" -> 
                   CodeInspector`LinterUI`Private`colorData[
                    "ButtonTextHover"], "TextInactiveColor" -> 
                   CodeInspector`LinterUI`Private`colorData[
                    "ButtonTextInactive"], "BackColor" -> 
                   CodeInspector`LinterUI`Private`colorData["ButtonBack"], 
                   "BackHoverColor" -> 
                   CodeInspector`LinterUI`Private`colorData[
                    "ButtonBackHover"], "BackMouseDownColor" -> 
                   CodeInspector`LinterUI`Private`colorData[
                    "ButtonBackMouseDown"], "BackInactiveColor" -> 
                   CodeInspector`LinterUI`Private`colorData[
                    "ButtonBackInactive"], "EdgeColor" -> 
                   CodeInspector`LinterUI`Private`colorData["ButtonEdge"], 
                   "EdgeHoverColor" -> 
                   CodeInspector`LinterUI`Private`colorData[
                    "ButtonEdgeHover"], "EdgeInactiveColor" -> 
                   CodeInspector`LinterUI`Private`colorData[
                    "ButtonEdgeInactive"]}, {Method -> "Queued"}, "ActiveQ"] =!= 
                False, 
                CodeInspector`LinterUI`Private`attachAnalysisAction[
                 EvaluationNotebook[]]]; 
              CodeInspector`LinterUI`Private`mouseDownQ$$ = False), 
             ContentPadding -> False, Evaluator -> Automatic, Method -> 
             "Queued"], DynamicModuleValues :> {}], False -> ButtonBox[
            TemplateBox[{
              StyleBox[
              "\"Analyze Notebook\"", FontColor -> GrayLevel[0.2], FontFamily -> 
               "Source Sans Pro", FontWeight -> Plain, FontSize -> 14, 
               StripOnInput -> False], ImageSize -> {Automatic, 19}, 
              FrameMargins -> {{9, 9}, {0, 0}}, BaselinePosition -> Baseline, 
              Alignment -> {Center, Center}, Background -> GrayLevel[1], 
              FrameStyle -> Dynamic[
                If[
                 CurrentValue["MouseOver"], 
                 Hue[0.55, 0.82, 0.87], 
                 GrayLevel[0.8]]]}, "Highlighted"], 
            Appearance -> {
             "Default" -> 
              Image[RawArray["UnsignedInteger8",{{{255, 255, 255, 255}, {0, 0,
                  0, 255}, {255, 255, 255, 255}}, {{0, 0, 0, 255}, {0, 0, 0, 
                 0}, {0, 0, 0, 255}}, {{255, 255, 255, 255}, {0, 0, 0, 255}, {
                 255, 255, 255, 255}}}], "Byte", ColorSpace -> "RGB", 
                ImageResolution -> {72, 72}, Interleaving -> True], "Hover" -> 
              Image[RawArray["UnsignedInteger8",{{{255, 255, 255, 255}, {0, 0,
                  0, 255}, {255, 255, 255, 255}}, {{0, 0, 0, 255}, {0, 0, 0, 
                 0}, {0, 0, 0, 255}}, {{255, 255, 255, 255}, {0, 0, 0, 255}, {
                 255, 255, 255, 255}}}], "Byte", ColorSpace -> "RGB", 
                ImageResolution -> {72, 72}, Interleaving -> True], "Pressed" -> 
              Image[RawArray["UnsignedInteger8",{{{255, 255, 255, 255}, {0, 0,
                  0, 255}, {255, 255, 255, 255}}, {{0, 0, 0, 255}, {0, 0, 0, 
                 0}, {0, 0, 0, 255}}, {{255, 255, 255, 255}, {0, 0, 0, 255}, {
                 255, 255, 255, 255}}}], "Byte", ColorSpace -> "RGB", 
                ImageResolution -> {72, 72}, Interleaving -> True]}, 
            ButtonFunction :> (CurrentValue[
                EvaluationNotebook[], DockedCells] = 
              With[{LinterUIDockedCell`Private`dockedCells = CurrentValue[
                   EvaluationNotebook[], DockedCells]}, 
                Pick[LinterUIDockedCell`Private`dockedCells, 
                 Map[Quiet[
                    Options[#, CellTags]] =!= {
                   CellTags -> "CodeAnalysisDockedCell"}& , 
                  LinterUIDockedCell`Private`dockedCells]]]; 
             Needs["CodeInspector`"]; 
             CodeInspector`AttachAnalysis[
              LinterUIDockedCell`Private`notebook$$]), Evaluator -> Automatic,
             Method -> "Queued"]}, 
         Dynamic[FEPrivate`EvaluatorStatus["Local"]; TrueQ[
            CodeInspector`LinterUI`Private`varValue[
            LinterUIDockedCell`Private`notebook$$, "DockedCellPresentQ"]]], 
         ImageSize -> Automatic], 
        Offset[{-26, 0}, {1, 0}], {1, 0}], 
       TagBox[
        TagBox[
         TooltipBox[{{
            GrayLevel[0.6], 
            DiskBox[
             Offset[{-11, 0}, {1, 0}], 
             Offset[6]]}, {
            GrayLevel[0.97], 
            AbsoluteThickness[1.5], 
            CapForm["Round"], 
            LineBox[{{
               Offset[{-13, 2}, {1, 0}], 
               Offset[{-9, -2}, {1, 0}]}, {
               Offset[{-13, -2}, {1, 0}], 
               Offset[{-9, 2}, {1, 0}]}}]}}, "\"Close analysis\"", 
          TooltipDelay -> 0, TooltipStyle -> "TextStyling"], 
         Annotation[#, "Close analysis", "Tooltip"]& ], 
        EventHandlerTag[{"MouseClicked" :> (Map[NotebookDelete, 
             Flatten[
              CodeInspector`LinterUI`Private`varValue[
              LinterUIDockedCell`Private`notebook$$, All, 
               "UIAttachedCells"]]]; Map[NotebookDelete, 
             Flatten[
              CodeInspector`LinterUI`Private`varValue[
              LinterUIDockedCell`Private`notebook$$, All, 
               "CleanCellBracketMarker"]]]; CurrentValue[
              EvaluationNotebook[], DockedCells] = 
            With[{LinterUIDockedCell`Private`dockedCells = CurrentValue[
                 EvaluationNotebook[], DockedCells]}, 
              Pick[LinterUIDockedCell`Private`dockedCells, 
               Map[Quiet[
                  Options[#, CellTags]] =!= {
                 CellTags -> "CodeAnalysisDockedCell"}& , 
                LinterUIDockedCell`Private`dockedCells]]]; 
           CodeInspector`LinterUI`Private`applyToVar[Remove, {
              EvaluationNotebook[], All}]; 
           CodeInspector`LinterUI`Private`varSet[{
             LinterUIDockedCell`Private`notebook$$, "DockedCellPresentQ"}, 
             False]), Method -> "Preemptive", PassEventsDown -> Automatic, 
          PassEventsUp -> True}]]}, AspectRatio -> Full, 
      ImageSize -> {Full, 23}, PlotRange -> {{-1, 1}, {-1, 1}}], 
     Deinitialization :> 
     CodeInspector`LinterUI`Private`varSet[{
       LinterUIDockedCell`Private`notebook$$, "DockedCellPresentQ"}, False], 
     DynamicModuleValues :> {}, 
     Initialization :> ({
       LinterUIDockedCell`Private`dockedCellSeverityCountsButton[
          Pattern[LinterUIDockedCell`Private`notebook, 
           Blank[NotebookObject]]] := 
        With[{LinterUIDockedCell`Private`formatIcon = 
           Show[#, ImageSize -> {13, 9}, BaselinePosition -> Scaled[-0.2]]& }, 
          ActionMenu[
           Highlighted[
            Row[{
              CodeInspector`LinterUI`Private`lintSeverityCountsIconRow[
              LinterUIDockedCell`Private`notebook, "exclamSize" -> 12, 
               FontSize -> 14, FontWeight -> Plain], 
              Spacer[2], 
              LinterUIDockedCell`Private`formatIcon[
               CodeInspector`LinterUI`Private`iconData["DownChevron"][
                CodeInspector`LinterUI`Private`colorData["UIDark"]]]}], 
            ImageSize -> {Automatic, 19}, BaselinePosition -> Baseline, 
            Background -> White, Frame -> True, FrameStyle -> Dynamic[
              If[
               CurrentValue["MouseOver"], 
               Hue[0.55, 0.82, 0.87], 
               GrayLevel[0.8]]], FrameMargins -> {6 {1, 1}, {1, 1}}, 
            Alignment -> {Center, Baseline}], 
           Map[
           LinterUIDockedCell`Private`dockedCellMenuItem[
            LinterUIDockedCell`Private`notebook, #]& , 
            CodeInspector`LinterUI`Private`varValue[
            LinterUIDockedCell`Private`notebook, All, "Cell"]], Appearance -> 
           None]], LinterUIDockedCell`Private`dockedCellMenuItem[
          Pattern[LinterUIDockedCell`Private`notebook, 
           Blank[NotebookObject]], 
          Pattern[LinterUIDockedCell`Private`cell, 
           Blank[CellObject]]] := With[{}, Graphics[{
             Inset[
              With[{LinterUIDockedCell`Private`expressionString = First[
                  FrontEndExecute[
                   FrontEnd`ExportPacket[
                    First[
                    CodeInspector`LinterUI`Private`varValue[
                    LinterUIDockedCell`Private`notebook, 
                    LinterUIDockedCell`Private`cell, "CellContents"]], 
                    "InputText"]]]}, {
               LinterUIDockedCell`Private`noLineBreaks = 
                StringReplace[
                 LinterUIDockedCell`Private`expressionString, "\n" -> " "]}, {
               LinterUIDockedCell`Private`previewString = 
                StringTake[LinterUIDockedCell`Private`noLineBreaks, {1, 
                   UpTo[LinterUIDockedCell`Private`$previewLength]}]}, 
               CodeInspector`LinterUI`Private`styleData["FixedWidth"][
                If[
                StringLength[LinterUIDockedCell`Private`expressionString] > 
                 LinterUIDockedCell`Private`$previewLength, 
                 StringDrop[LinterUIDockedCell`Private`previewString, -1] <> 
                 "\[Ellipsis]", 
                 LinterUIDockedCell`Private`previewString]]], {-1, 0}, {-1, 
              0}], 
             Inset[
              CodeInspector`LinterUI`Private`lintSeverityCountsIconRow[
              LinterUIDockedCell`Private`cell], {1, 0}, {1, 0}]}, 
            ImageSize -> {300, 25}, AspectRatio -> Full, 
            PlotRange -> {{-1, 1}, {-1, 1}}, ImagePadding -> None] :> (
           SelectionMove[LinterUIDockedCell`Private`cell, All, Cell]; 
           With[{LinterUIDockedCell`Private`nb = 
              ParentNotebook[LinterUIDockedCell`Private`cell]}, 
             FrontEndExecute[
              FrontEnd`FrontEndToken[
              LinterUIDockedCell`Private`nb, "OpenSelectionParents"]]]; 
           SelectionMove[LinterUIDockedCell`Private`cell, After, Cell])], 
        LinterUIDockedCell`Private`$previewLength = 28, 
        CodeInspector`LinterUI`Private`applyToVar[
          Pattern[CodeInspector`LinterUI`Private`function, 
           Blank[]], {
           Pattern[CodeInspector`LinterUI`Private`notebook, 
            Blank[NotebookObject]], All, 
           Pattern[CodeInspector`LinterUI`Private`name, 
            Blank[String]]}, 
          Pattern[CodeInspector`LinterUI`Private`args, 
           BlankNullSequence[]]] := 
        Map[Apply[CodeInspector`LinterUI`Private`function, 
           Join[
            ToHeldExpression[#], 
            Hold[CodeInspector`LinterUI`Private`args]]]& , 
          
          Names[(CodeInspector`LinterUI`Private`varNameString[
             CodeInspector`LinterUI`Private`notebook] <> "*") <> 
           CodeInspector`LinterUI`Private`name]], Null, 
        CodeInspector`LinterUI`Private`applyToVar[
          Pattern[CodeInspector`LinterUI`Private`function, 
           Blank[]], {
           Pattern[CodeInspector`LinterUI`Private`nameArguments, 
            BlankSequence[]], 
           Pattern[CodeInspector`LinterUI`Private`name, 
            Blank[String]]}, 
          Pattern[CodeInspector`LinterUI`Private`args, 
           BlankNullSequence[]]] := 
        Apply[CodeInspector`LinterUI`Private`function, 
          Join[
           ToHeldExpression[
            CodeInspector`LinterUI`Private`varNameString[
            CodeInspector`LinterUI`Private`nameArguments]], 
           Hold[CodeInspector`LinterUI`Private`args]]], Null, 
        CodeInspector`LinterUI`Private`applyToVar[
          Pattern[CodeInspector`LinterUI`Private`function, 
           Blank[]], {
           Pattern[CodeInspector`LinterUI`Private`nameArguments, 
            BlankSequence[]], All}, 
          Pattern[CodeInspector`LinterUI`Private`args, 
           BlankNullSequence[]]] := 
        Map[Apply[CodeInspector`LinterUI`Private`function, 
           Join[
            ToHeldExpression[#], 
            Hold[CodeInspector`LinterUI`Private`args]]]& , 
          Names[
          CodeInspector`LinterUI`Private`varNameString[
            CodeInspector`LinterUI`Private`nameArguments] <> "*"]], 
        CodeInspector`LinterUI`Private`varValue[
          Pattern[CodeInspector`LinterUI`Private`notebook, 
           Blank[NotebookObject]], All, 
          Pattern[CodeInspector`LinterUI`Private`name, 
           Blank[String]]] := Map[Symbol, 
          
          Names[(CodeInspector`LinterUI`Private`varNameString[
             CodeInspector`LinterUI`Private`notebook] <> "*") <> 
           CodeInspector`LinterUI`Private`name]], Null, 
        CodeInspector`LinterUI`Private`varValue[
          Pattern[CodeInspector`LinterUI`Private`nameArguments, 
           BlankSequence[]], 
          Pattern[CodeInspector`LinterUI`Private`name, 
           Blank[String]]] := Symbol[
          CodeInspector`LinterUI`Private`varNameString[
          CodeInspector`LinterUI`Private`nameArguments, 
           CodeInspector`LinterUI`Private`name]], Null, 
        CodeInspector`LinterUI`Private`varValue[
          Pattern[CodeInspector`LinterUI`Private`nameArguments, 
           BlankSequence[]], All] := Map[Symbol, 
          Names[
          CodeInspector`LinterUI`Private`varNameString[
            CodeInspector`LinterUI`Private`nameArguments] <> "*"]], 
        CodeInspector`LinterUI`Private`varSet[{
           Pattern[CodeInspector`LinterUI`Private`nameArguments, 
            BlankSequence[]]}, 
          Pattern[CodeInspector`LinterUI`Private`value, 
           Blank[]]] := Apply[Set, 
          Append[
           ToHeldExpression[
            CodeInspector`LinterUI`Private`varNameString[
            CodeInspector`LinterUI`Private`nameArguments]], 
           CodeInspector`LinterUI`Private`value]], 
        CodeInspector`LinterUI`Private`varNameString[
          Pattern[CodeInspector`LinterUI`Private`notebook, 
           Blank[NotebookObject]]] := ((
           "CodeInspector`LinterUI`Private`Vars`" <> "$$") <> 
          With[{CodeInspector`LinterUI`Private`nbID = 
             Last[CodeInspector`LinterUI`Private`notebook]}, 
            If[
             StringQ[CodeInspector`LinterUI`Private`nbID], 
             StringReplace[CodeInspector`LinterUI`Private`nbID, "-" -> "$"], 
             ToString[CodeInspector`LinterUI`Private`nbID]]]) <> "$$", Null, 
        CodeInspector`LinterUI`Private`varNameString[
          Pattern[CodeInspector`LinterUI`Private`cell, 
           Blank[CellObject]]] := (
          CodeInspector`LinterUI`Private`varNameString[
            Replace[
             ParentNotebook[CodeInspector`LinterUI`Private`cell], $Failed -> 
             EvaluationNotebook[]]] <> 
          With[{CodeInspector`LinterUI`Private`cellID = 
             First[CodeInspector`LinterUI`Private`cell]}, 
            If[
             StringQ[CodeInspector`LinterUI`Private`cellID], 
             StringReplace[CodeInspector`LinterUI`Private`cellID, "-" -> "$"], 
             ToString[CodeInspector`LinterUI`Private`cellID]]]) <> "$$", Null,
         CodeInspector`LinterUI`Private`varNameString[
          Pattern[CodeInspector`LinterUI`Private`notebook, 
           Blank[NotebookObject]], 
          Pattern[CodeInspector`LinterUI`Private`cell, 
           Blank[CellObject]]] := (
          CodeInspector`LinterUI`Private`varNameString[
           CodeInspector`LinterUI`Private`notebook] <> 
          With[{CodeInspector`LinterUI`Private`cellID = 
             First[CodeInspector`LinterUI`Private`cell]}, 
            If[
             StringQ[CodeInspector`LinterUI`Private`cellID], 
             StringReplace[CodeInspector`LinterUI`Private`cellID, "-" -> "$"], 
             ToString[CodeInspector`LinterUI`Private`cellID]]]) <> "$$", Null,
         CodeInspector`LinterUI`Private`varNameString[
          Pattern[CodeInspector`LinterUI`Private`notebook, 
           Blank[NotebookObject]], 
          Pattern[CodeInspector`LinterUI`Private`name, 
           Blank[String]]] := 
        CodeInspector`LinterUI`Private`varNameString[
          CodeInspector`LinterUI`Private`notebook] <> 
         CodeInspector`LinterUI`Private`name, Null, 
        CodeInspector`LinterUI`Private`varNameString[
          Pattern[CodeInspector`LinterUI`Private`cell, 
           Blank[CellObject]], 
          Pattern[CodeInspector`LinterUI`Private`name, 
           Blank[String]]] := 
        CodeInspector`LinterUI`Private`varNameString[
          CodeInspector`LinterUI`Private`cell] <> 
         CodeInspector`LinterUI`Private`name, Null, 
        CodeInspector`LinterUI`Private`varNameString[
          Pattern[CodeInspector`LinterUI`Private`notebook, 
           Blank[NotebookObject]], 
          Pattern[CodeInspector`LinterUI`Private`cell, 
           Blank[CellObject]], 
          Pattern[CodeInspector`LinterUI`Private`name, 
           Blank[String]]] := 
        CodeInspector`LinterUI`Private`varNameString[
          CodeInspector`LinterUI`Private`notebook, 
           CodeInspector`LinterUI`Private`cell] <> 
         CodeInspector`LinterUI`Private`name, Null, 
        CodeInspector`LinterUI`Private`varNameString[
          Pattern[CodeInspector`LinterUI`Private`nameArguments, 
           BlankSequence[]], 
          Pattern[CodeInspector`LinterUI`Private`lint, 
           Blank[CodeInspector`InspectionObject]], 
          Pattern[CodeInspector`LinterUI`Private`name, 
           Blank[String]]] := ((
           CodeInspector`LinterUI`Private`varNameString[
            CodeInspector`LinterUI`Private`nameArguments] <> Apply[Sequence, 
             Riffle[
              Map[StringDelete[
                ToString[#], 
                Alternatives["[", "]", "{", "}", ",", " "]]& , 
               CodeInspector`LinterUI`Private`extractFirstList[
                Last[CodeInspector`LinterUI`Private`lint][
                CodeParser`Source]]], "$"]]) <> "$$") <> 
         CodeInspector`LinterUI`Private`name, 
        CodeInspector`LinterUI`Private`extractFirstList[
          Pattern[CodeInspector`LinterUI`Private`expr, 
           Blank[]]] := FirstCase[CodeInspector`LinterUI`Private`expr, 
          Blank[List], {}, {0, Infinity}]}; 
      LinterUIDockedCell`Private`notebook$$ = EvaluationNotebook[]), 
     UnsavedVariables :> {LinterUIDockedCell`Private`notebook$$}]], 
   CellFrame -> {{0, 0}, {1, 1}}, CellFrameMargins -> {{0, 0}, {0, 0}}, 
   CellFrameColor -> GrayLevel[0.85], Background -> GrayLevel[0.97], CellTags -> 
   "CodeAnalysisDockedCell"]},
TaggingRules-><|"TryRealOnly" -> False|>,
Magnification:>1.5 Inherited,
FrontEndVersion->"14.3 for Mac OS X ARM (64-bit) (July 8, 2025)",
StyleDefinitions->"Default.nb",
ExpressionUUID->"6623984b-ef05-4091-ac72-a57ded9363aa"
]
(* End of Notebook Content *)

(* Internal cache information *)
(*CellTagsOutline
CellTagsIndex->{}
*)
(*CellTagsIndex
CellTagsIndex->{}
*)
(*NotebookFileOutline
Notebook[{
Cell[CellGroupData[{
Cell[576, 22, 469, 12, 74, "Input",ExpressionUUID->"789060ed-dfaa-466a-846e-7fe3f34830f1",
 CellGroupingRules->{"GroupTogetherGrouping", 10000.}],
Cell[1048, 36, 187, 5, 44, "Input",ExpressionUUID->"3adfcb8d-8e7a-4f70-8ab6-7cf7d6390e0a",
 CellGroupingRules->{"GroupTogetherGrouping", 10000.}],
Cell[1238, 43, 706, 20, 166, "Input",ExpressionUUID->"60b33c55-8109-42c1-8a34-bdfe4d98b5aa",
 CellGroupingRules->{"GroupTogetherGrouping", 10000.}],
Cell[1947, 65, 1612, 37, 227, "Input",ExpressionUUID->"424ceeb6-10a0-45ee-bb18-785cadb304ac",
 CellGroupingRules->{"GroupTogetherGrouping", 10000.}],
Cell[3562, 104, 246, 6, 44, "Input",ExpressionUUID->"354f7091-6288-46be-9f35-1643edde9792",
 CellGroupingRules->{"GroupTogetherGrouping", 10000.}],
Cell[3811, 112, 1449, 35, 258, "Input",ExpressionUUID->"d0372be7-2fa1-4d8a-a228-86ffb65e1dbf",
 CellGroupingRules->{"GroupTogetherGrouping", 10000.}],
Cell[5263, 149, 293, 7, 44, "Input",ExpressionUUID->"6b6f411a-f30e-486c-bc55-74bff06fbb66",
 CellGroupingRules->{"GroupTogetherGrouping", 10000.}],
Cell[5559, 158, 617, 17, 105, "Input",ExpressionUUID->"2ae9b58a-f26b-4601-96c3-7a022d3ab707",
 CellGroupingRules->{"GroupTogetherGrouping", 10000.}],
Cell[6179, 177, 209, 5, 44, "Input",ExpressionUUID->"fd319ddf-f107-4c59-8036-38fc0f7b82da",
 CellGroupingRules->{"GroupTogetherGrouping", 10000.}],
Cell[6391, 184, 187, 5, 44, "Input",ExpressionUUID->"0f5496d7-1310-4ca5-a0eb-97db14a429ec",
 CellGroupingRules->{"GroupTogetherGrouping", 10000.}],
Cell[6581, 191, 816, 23, 166, "Input",ExpressionUUID->"d022d366-63d4-426b-b62d-47e776d47b75",
 CellGroupingRules->{"GroupTogetherGrouping", 10000.}],
Cell[7400, 216, 201, 4, 44, "Input",ExpressionUUID->"6a1cb04c-fd15-4615-b97b-271b48daf5d5",
 CellGroupingRules->{"GroupTogetherGrouping", 10000.}],
Cell[7604, 222, 289, 6, 74, "Input",ExpressionUUID->"03a42d9a-ed9e-4e6f-bec2-3a117368f3dc",
 CellGroupingRules->{"GroupTogetherGrouping", 10000.}],
Cell[7896, 230, 401, 10, 74, "Input",ExpressionUUID->"edbbc936-be7f-4b3f-893d-46703ac10d8c",
 CellGroupingRules->{"GroupTogetherGrouping", 10000.}],
Cell[8300, 242, 228, 6, 44, "Input",ExpressionUUID->"1df25f4c-fac3-460f-a128-df17a965b2e3",
 CellGroupingRules->{"GroupTogetherGrouping", 10000.}],
Cell[8531, 250, 301, 8, 44, "Input",ExpressionUUID->"44ff3e4e-ffc6-471c-9255-e872275b80dd",
 CellGroupingRules->{"GroupTogetherGrouping", 10000.}],
Cell[8835, 260, 301, 8, 44, "Input",ExpressionUUID->"a027661f-a00e-49eb-a6f1-e0218f1c5df4",
 CellGroupingRules->{"GroupTogetherGrouping", 10000.}],
Cell[9139, 270, 301, 8, 44, "Input",ExpressionUUID->"3abf85c5-eb2e-451a-b5b3-e2d3f1eb887b",
 CellGroupingRules->{"GroupTogetherGrouping", 10000.}],
Cell[9443, 280, 364, 8, 44, "Input",ExpressionUUID->"b9d2372b-09b7-41df-a85d-30573416aef5",
 CellGroupingRules->{"GroupTogetherGrouping", 10000.}],
Cell[9810, 290, 373, 8, 44, "Input",ExpressionUUID->"da6e026a-bed7-480e-ac04-f890c943e299",
 CellGroupingRules->{"GroupTogetherGrouping", 10000.}]
}, Open  ]],
Cell[CellGroupData[{
Cell[10220, 303, 79, 0, 99, "Section",ExpressionUUID->"4e688cad-a90e-48ce-91bf-8f79f2202b9f"],
Cell[CellGroupData[{
Cell[10324, 307, 187, 5, 44, "Input",ExpressionUUID->"061522a9-2163-458e-92ac-22851b09aa42",
 CellGroupingRules->{"GroupTogetherGrouping", 10000.}],
Cell[10514, 314, 706, 20, 166, "Input",ExpressionUUID->"49e826f0-400c-4cfd-8f1a-cafafee38b2c",
 CellGroupingRules->{"GroupTogetherGrouping", 10000.}]
}, Open  ]],
Cell[11235, 337, 259, 5, 44, "Input",ExpressionUUID->"26a77a9e-76f9-4f2a-a98d-caad759f7bbb"],
Cell[11497, 344, 184, 3, 44, "Input",ExpressionUUID->"7e86f679-e547-46d0-90ca-3abc83bb8d48"],
Cell[11684, 349, 1347, 37, 197, "Input",ExpressionUUID->"f6996440-24e6-4b12-8796-5ffcedcbf6f8"],
Cell[13034, 388, 824, 23, 166, "Input",ExpressionUUID->"803a74f9-d9da-48f5-a255-52aded6168ea"],
Cell[13861, 413, 8240, 199, 1912, "Input",ExpressionUUID->"14d3ed18-5619-4623-9762-f03aa8bb5e3f"],
Cell[22104, 614, 104, 1, 105, "Input",ExpressionUUID->"f2e8f5b1-614c-4b58-9592-7aff157365ed"],
Cell[22211, 617, 192, 5, 105, "Input",ExpressionUUID->"d1d23f26-7d06-4d64-a0f5-5c1fe0c8aaac"],
Cell[22406, 624, 962, 28, 105, "Input",ExpressionUUID->"646671e8-9175-4a9b-86f0-116b4bdab7bb"],
Cell[23371, 654, 398, 11, 105, "Input",ExpressionUUID->"54277ec1-b99c-4bd0-8dde-a646cfe9982b"],
Cell[23772, 667, 81, 0, 105, "Input",ExpressionUUID->"01fe98fb-c19a-408d-9e09-637f1c66388e"],
Cell[23856, 669, 1767, 54, 105, "Input",ExpressionUUID->"d9d4236d-6b4b-458b-ba40-3cbac02e8f3a"],
Cell[25626, 725, 770, 21, 105, "Input",ExpressionUUID->"7cb76356-9933-4e58-b011-607de8f22088"]
}, Open  ]]
}
]
*)

