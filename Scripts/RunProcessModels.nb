(* Content-type: application/vnd.wolfram.mathematica *)

(*** Wolfram Notebook File ***)
(* http://www.wolfram.com/nb *)

(* Created By: SaveReadableNotebook *)
(* https://resources.wolframcloud.com/FunctionRepository/resources/SaveReadableNotebook *)

Notebook[
 {
  Cell[
   CellGroupData[
    {
     Cell[
      BoxData[
       RowBox[
        {
         "(*",
         RowBox[
          {
           RowBox[
            {
             "uses",
             " ",
             "basic",
             " ",
             "definition",
             " ",
             "of",
             " ",
             "models"
            }
           ],
           ",",
           " ",
           RowBox[
            {
             "processes",
             " ",
             "them",
             " ",
             "according",
             " ",
             "to",
             " ",
             RowBox[{"processModels", ".", "wl"}]
            }
           ],
           ",",
           " ",
           RowBox[{"and", " ", "saves", " ", "to", " ", "Resources"}]
          }
         ],
         "*)"
        }
       ]
      ],
      "Input",
      CellGroupingRules -> {"GroupTogetherGrouping", 10000.0}
     ],
     Cell[
      BoxData[RowBox[{RowBox[{"Quit", "[", "]"}], ";"}]],
      "Input",
      CellGroupingRules -> {"GroupTogetherGrouping", 10000.0}
     ],
     Cell[
      BoxData[
       {
        RowBox[
         {
          RowBox[
           {
            "pacletDir",
            "=",
            RowBox[
             {
              "DirectoryName",
              "[",
              RowBox[{RowBox[{"NotebookDirectory", "[", "]"}], ",", "1"}],
              "]"
             }
            ]
           }
          ],
          ";"
         }
        ],
        "\[IndentingNewLine]",
        RowBox[
         {
          RowBox[
           {
            RowBox[{"PacletDirectoryLoad", "[", "pacletDir", "]"}],
            ";"
           }
          ],
          "\[IndentingNewLine]"
         }
        ],
        "\[IndentingNewLine]",
        RowBox[
         {
          RowBox[
           {
            "Get",
            "[",
            "\"FernandoDuarte`LongRunRisk`Model`Catalog`\"",
            "]"
           }
          ],
          ";"
         }
        ],
        "\[IndentingNewLine]",
        RowBox[
         {
          RowBox[
           {
            "Get",
            "[",
            "\"FernandoDuarte`LongRunRisk`Model`ProcessModels`\"",
            "]"
           }
          ],
          ";"
         }
        ]
       }
      ],
      "Input",
      CellGroupingRules -> {"GroupTogetherGrouping", 10000.0}
     ],
     Cell[
      BoxData[
       RowBox[
        {
         RowBox[
          {
           "(*",
           RowBox[
            {
             "choose",
             " ",
             "subset",
             " ",
             "of",
             " ",
             RowBox[
              {
               "Keys",
               "@",
               "FernandoDuarte`LongRunRisk`Model`Catalog`models"
              }
             ],
             " ",
             "to",
             " ",
             "process"
            }
           ],
           "*)"
          }
         ],
         "\[IndentingNewLine]",
         RowBox[
          {
           RowBox[
            {
             RowBox[
              {
               "modelsToProcess",
               "=",
               RowBox[
                {
                 "\"BY\"",
                 "|",
                 " ",
                 "\"NRCStochVol\"",
                 " ",
                 "|",
                 "\"DES\"",
                 " ",
                 "|",
                 "\"BKY\"",
                 "|",
                 "\"NRC\""
                }
               ]
              }
             ],
             ";"
            }
           ],
           "\[IndentingNewLine]",
           RowBox[
            {
             "(*",
             RowBox[
              {
               "|",
               "\"DES\"",
               " ",
               "|",
               "\"BY\"",
               "|",
               "\"BKY\"",
               "|",
               "\"NRC\""
              }
             ],
             "*)"
            }
           ],
           "\[IndentingNewLine]",
           RowBox[
            {
             "(*",
             RowBox[
              {
               "Alternatives",
               "@@",
               RowBox[{"(", RowBox[{"Keys", "@", "models"}], ")"}]
              }
             ],
             "*)"
            }
           ],
           "\[IndentingNewLine]",
           RowBox[
            {
             "(*",
             RowBox[
              {
               "\"NRCStochVol\"",
               " ",
               "|",
               "\"DES\"",
               " ",
               "|",
               "\"BY\"",
               "|",
               "\"BKY\"",
               "|",
               "\"NRC\""
              }
             ],
             "*)"
            }
           ],
           "\[IndentingNewLine]",
           RowBox[
            {
             "(*",
             " ",
             RowBox[
              {
               "\"NRCStochVol\"",
               " ",
               "|",
               " ",
               "\"BY\"",
               "|",
               "\"BKY\"",
               "|",
               "\"NRC\"",
               " ",
               "|",
               "\"DES\"",
               "|",
               "\"BS\"",
               "|",
               "\"WCratio\"",
               "|",
               "\"hassel\""
              }
             ],
             "*)"
            }
           ],
           RowBox[
            {"(*", RowBox[{"|", "\"NRC\"", " ", "|", "\"DES\""}], "*)"}
           ],
           RowBox[
            {
             "(*",
             RowBox[
              {
               "|",
               "\"BKY\"",
               "|",
               "\"NRC\"",
               "|",
               "\"WCratio\"",
               "|",
               "\"hassel\"",
               "|",
               "\"BS\"",
               "|",
               "\"DES\""
              }
             ],
             "*)"
            }
           ]
          }
         ]
        }
       ]
      ],
      "Input",
      CellGroupingRules -> {"GroupTogetherGrouping", 10000.0}
     ],
     Cell[
      BoxData[
       RowBox[
        {
         "SetAttributes",
         "[",
         RowBox[
          {"FernandoDuarte`LongRunRisk`Epd0", ",", "NHoldAll"}
         ],
         "]"
        }
       ]
      ],
      "Input",
      CellGroupingRules -> {"GroupTogetherGrouping", 10000.0}
     ],
     Cell[
      BoxData[
       RowBox[
        {
         RowBox[
          {
           "FernandoDuarte`LongRunRisk`Models",
           "=",
           RowBox[
            {
             "processModels",
             "[",
             "\[IndentingNewLine]",
             RowBox[
              {
               RowBox[
                {
                 "KeySelect",
                 "[",
                 RowBox[
                  {
                   "models",
                   ",",
                   RowBox[
                    {
                     RowBox[
                      {
                       "MatchQ",
                       "[",
                       RowBox[{"#", ",", " ", "modelsToProcess"}],
                       "]"
                      }
                     ],
                     "&"
                    }
                   ]
                  }
                 ],
                 "]"
                }
               ],
               ",",
               "\[IndentingNewLine]",
               RowBox[
                {
                 "KeySelect",
                 "[",
                 RowBox[
                  {
                   "modelsExtraInfo",
                   ",",
                   RowBox[
                    {
                     RowBox[
                      {
                       "MatchQ",
                       "[",
                       RowBox[{"#", ",", " ", "modelsToProcess"}],
                       "]"
                      }
                     ],
                     "&"
                    }
                   ]
                  }
                 ],
                 "]"
                }
               ],
               ",",
               "\[IndentingNewLine]",
               RowBox[
                {
                 "\"FindRootOptions\"",
                 "->",
                 RowBox[
                  {"{", "FernandoDuarte`LongRunRisk`FindRootOptions", "}"}
                 ]
                }
               ],
               ",",
               "\[IndentingNewLine]",
               RowBox[
                {
                 "\"RecurrenceTableOptions\"",
                 "->",
                 RowBox[
                  {
                   "{",
                   "FernandoDuarte`LongRunRisk`RecurrenceTableOptions",
                   "}"
                  }
                 ]
                }
               ],
               ",",
               "\[IndentingNewLine]",
               RowBox[
                {
                 "\"initialGuess\"",
                 " ",
                 "->",
                 RowBox[
                  {
                   "<|",
                   RowBox[
                    {
                     RowBox[
                      {
                       "\"Ewc\"",
                       "->",
                       RowBox[{"{", "FernandoDuarte`LongRunRisk`Ewc0", "}"}]
                      }
                     ],
                     ",",
                     RowBox[
                      {
                       "\"Epd\"",
                       "->",
                       RowBox[
                        {
                         "{",
                         RowBox[{"{", "FernandoDuarte`LongRunRisk`Epd0", "}"}],
                         "}"
                        }
                       ]
                      }
                     ]
                    }
                   ],
                   "|>"
                  }
                 ]
                }
               ]
              }
             ],
             "\[IndentingNewLine]",
             "]"
            }
           ]
          }
         ],
         ";"
        }
       ]
      ],
      "Input",
      CellGroupingRules -> {"GroupTogetherGrouping", 10000.0}
     ],
     Cell[
      BoxData[
       RowBox[
        {
         "data",
         "=",
         RowBox[
          {
           RowBox[
            {"ResourceFunction", "[", "\"DefinitionData\"", "]"}
           ],
           "@",
           "FernandoDuarte`LongRunRisk`Models"
          }
         ]
        }
       ]
      ],
      "Input",
      CellGroupingRules -> {"GroupTogetherGrouping", 10000.0}
     ],
     Cell[
      BoxData[
       {
        RowBox[
         {
          RowBox[
           {
            "resourcesDir",
            "=",
            RowBox[
             {
              "FileNameJoin",
              "[",
              RowBox[
               {"{", RowBox[{"pacletDir", ",", "\"Resources\""}], "}"}
              ],
              "]"
             }
            ]
           }
          ],
          ";"
         }
        ],
        "\[IndentingNewLine]",
        RowBox[
         {
          RowBox[
           {
            "filename",
            "=",
            RowBox[
             {
              "FileNameJoin",
              "[",
              RowBox[
               {"{", RowBox[{"resourcesDir", ",", "\"Models.wl\""}], "}"}
              ],
              "]"
             }
            ]
           }
          ],
          ";"
         }
        ],
        "\[IndentingNewLine]",
        RowBox[
         {
          RowBox[
           {"Put", "[", RowBox[{"data", ",", "filename"}], "]"}
          ],
          ";"
         }
        ]
       }
      ],
      "Input",
      CellGroupingRules -> {"GroupTogetherGrouping", 10000.0}
     ],
     Cell[
      BoxData[
       RowBox[
        {"(*", RowBox[{"load", " ", "and", " ", "test"}], "*)"}
       ]
      ],
      "Input",
      CellGroupingRules -> {"GroupTogetherGrouping", 10000.0}
     ],
     Cell[
      BoxData[RowBox[{RowBox[{"Quit", "[", "]"}], ";"}]],
      "Input",
      CellGroupingRules -> {"GroupTogetherGrouping", 10000.0}
     ],
     Cell[
      BoxData[
       {
        RowBox[
         {
          RowBox[
           {
            RowBox[
             {
              "resourcesDir",
              "=",
              RowBox[
               {
                "FileNameJoin",
                "[",
                RowBox[
                 {
                  "{",
                  RowBox[
                   {
                    RowBox[
                     {
                      "DirectoryName",
                      "[",
                      RowBox[{RowBox[{"NotebookDirectory", "[", "]"}], ",", "1"}],
                      "]"
                     }
                    ],
                    ",",
                    "\"Resources\""
                   }
                  ],
                  "}"
                 }
                ],
                "]"
               }
              ]
             }
            ],
            ";"
           }
          ],
          "\[IndentingNewLine]"
         }
        ],
        "\[IndentingNewLine]",
        RowBox[
         {
          RowBox[
           {
            "filename",
            "=",
            RowBox[
             {
              "FileNameJoin",
              "[",
              RowBox[
               {"{", RowBox[{"resourcesDir", ",", "\"Models.wl\""}], "}"}
              ],
              "]"
             }
            ]
           }
          ],
          ";"
         }
        ],
        "\[IndentingNewLine]",
        RowBox[
         {"data", "=", RowBox[{"Get", "[", "filename", "]"}]}
        ],
        "\[IndentingNewLine]",
        RowBox[{"Get", "@", "data"}]
       }
      ],
      "Input",
      CellGroupingRules -> {"GroupTogetherGrouping", 10000.0}
     ],
     Cell[
      BoxData[
       RowBox[{"Keys", "@", "FernandoDuarte`LongRunRisk`Models"}]
      ],
      "Input",
      CellGroupingRules -> {"GroupTogetherGrouping", 10000.0}
     ],
     Cell[
      BoxData[
       {
        RowBox[{"Names", "[", "\"Global`*\"", "]"}],
        "\[IndentingNewLine]",
        RowBox[
         {"Names", "[", "\"FernandoDuarte`LongRunRisk`*\"", "]"}
        ]
       }
      ],
      "Input",
      CellGroupingRules -> {"GroupTogetherGrouping", 10000.0}
     ],
     Cell[
      BoxData[
       {
        RowBox[
         {
          RowBox[
           {
            "pacletDir",
            "=",
            RowBox[
             {
              "DirectoryName",
              "[",
              RowBox[{RowBox[{"NotebookDirectory", "[", "]"}], ",", "1"}],
              "]"
             }
            ]
           }
          ],
          ";"
         }
        ],
        "\[IndentingNewLine]",
        RowBox[
         {
          RowBox[{"PacletDirectoryLoad", "[", "pacletDir", "]"}],
          ";"
         }
        ]
       }
      ],
      "Input",
      CellGroupingRules -> {"GroupTogetherGrouping", 10000.0}
     ],
     Cell[
      BoxData[
       RowBox[
        {
         RowBox[
          {"Get", "[", "\"FernandoDuarte`LongRunRisk`\"", "]"}
         ],
         ";"
        }
       ]
      ],
      "Input",
      CellGroupingRules -> {"GroupTogetherGrouping", 10000.0}
     ],
     Cell[
      BoxData[
       RowBox[
        {
         "UncondVar",
         "[",
         RowBox[
          {
           RowBox[{"wc", "[", RowBox[{"t", "+", "j"}], "]"}],
           ",",
           RowBox[{"Models", "[", "\"BKY\"", "]"}]
          }
         ],
         "]"
        }
       ]
      ],
      "Input",
      CellGroupingRules -> {"GroupTogetherGrouping", 10000.0}
     ],
     Cell[
      BoxData[
       RowBox[
        {
         "UncondVar",
         "[",
         RowBox[
          {
           RowBox[{"wc", "[", RowBox[{"t", "+", "j"}], "]"}],
           ",",
           RowBox[{"Models", "[", "\"NRC\"", "]"}]
          }
         ],
         "]"
        }
       ]
      ],
      "Input",
      CellGroupingRules -> {"GroupTogetherGrouping", 10000.0}
     ],
     Cell[
      BoxData[
       RowBox[
        {
         "UncondVar",
         "[",
         RowBox[
          {
           RowBox[{"wc", "[", RowBox[{"t", "+", "j"}], "]"}],
           ",",
           RowBox[{"Models", "[", "\"DES\"", "]"}]
          }
         ],
         "]"
        }
       ]
      ],
      "Input",
      CellGroupingRules -> {"GroupTogetherGrouping", 10000.0}
     ],
     Cell[
      BoxData[
       RowBox[
        {
         "UncondVar",
         "[",
         RowBox[
          {
           RowBox[{"wc", "[", "t", "]"}],
           ",",
           RowBox[{"Models", "[", "\"BY\"", "]"}]
          }
         ],
         "]"
        }
       ]
      ],
      "Input",
      CellGroupingRules -> {"GroupTogetherGrouping", 10000.0}
     ]
    },
    Open
   ]
  ],
  Cell[
   CellGroupData[
    {
     Cell["Debug", "Section"],
     Cell[
      CellGroupData[
       {
        Cell[
         BoxData[RowBox[{RowBox[{"Quit", "[", "]"}], ";"}]],
         "Input",
         CellGroupingRules -> {"GroupTogetherGrouping", 10000.0}
        ],
        Cell[
         BoxData[
          {
           RowBox[
            {
             RowBox[
              {
               "pacletDir",
               "=",
               RowBox[
                {
                 "DirectoryName",
                 "[",
                 RowBox[{RowBox[{"NotebookDirectory", "[", "]"}], ",", "1"}],
                 "]"
                }
               ]
              }
             ],
             ";"
            }
           ],
           "\[IndentingNewLine]",
           RowBox[
            {
             RowBox[
              {
               RowBox[{"PacletDirectoryLoad", "[", "pacletDir", "]"}],
               ";"
              }
             ],
             "\[IndentingNewLine]"
            }
           ],
           "\[IndentingNewLine]",
           RowBox[
            {
             RowBox[
              {
               "Get",
               "[",
               "\"FernandoDuarte`LongRunRisk`Model`Catalog`\"",
               "]"
              }
             ],
             ";"
            }
           ],
           "\[IndentingNewLine]",
           RowBox[
            {
             RowBox[
              {
               "Get",
               "[",
               "\"FernandoDuarte`LongRunRisk`Model`ProcessModels`\"",
               "]"
              }
             ],
             ";"
            }
           ]
          }
         ],
         "Input",
         CellGroupingRules -> {"GroupTogetherGrouping", 10000.0}
        ]
       },
       Open
      ]
     ],
     Cell[
      BoxData[
       RowBox[
        {
         RowBox[
          {
           "modelsToProcess",
           "=",
           RowBox[
            {
             "\"DES\"",
             " ",
             "|",
             "\"BY\"",
             "|",
             "\"BKY\"",
             "|",
             "\"NRC\"",
             "|",
             "\"NRCStochVol\""
            }
           ]
          }
         ],
         ";"
        }
       ]
      ],
      "Input"
     ],
     Cell[
      BoxData[
       RowBox[
        {
         "SetAttributes",
         "[",
         RowBox[
          {"FernandoDuarte`LongRunRisk`Epd0", ",", "NHoldAll"}
         ],
         "]"
        }
       ]
      ],
      "Input"
     ],
     Cell[
      BoxData[
       {
        RowBox[
         {
          RowBox[
           {
            "modelsCatalog",
            "=",
            RowBox[
             {
              "KeySelect",
              "[",
              RowBox[
               {
                "models",
                ",",
                RowBox[
                 {
                  RowBox[
                   {
                    "MatchQ",
                    "[",
                    RowBox[{"#", ",", " ", "modelsToProcess"}],
                    "]"
                   }
                  ],
                  "&"
                 }
                ]
               }
              ],
              "]"
             }
            ]
           }
          ],
          ";"
         }
        ],
        "\n",
        RowBox[
         {
          RowBox[
           {
            "modelsExtraInfo",
            "=",
            RowBox[
             {
              "KeySelect",
              "[",
              RowBox[
               {
                "modelsExtraInfo",
                ",",
                RowBox[
                 {
                  RowBox[
                   {
                    "MatchQ",
                    "[",
                    RowBox[{"#", ",", " ", "modelsToProcess"}],
                    "]"
                   }
                  ],
                  "&"
                 }
                ]
               }
              ],
              "]"
             }
            ]
           }
          ],
          ";"
         }
        ],
        "\n",
        RowBox[
         {
          RowBox[
           {
            "opts",
            "=",
            RowBox[
             {
              "Sequence",
              "[",
              RowBox[
               {
                RowBox[
                 {
                  "\"FindRootOptions\"",
                  "->",
                  RowBox[
                   {"{", "FernandoDuarte`LongRunRisk`FindRootOptions", "}"}
                  ]
                 }
                ],
                ",",
                "\[IndentingNewLine]",
                RowBox[
                 {
                  "\"RecurrenceTableOptions\"",
                  "->",
                  RowBox[
                   {
                    "{",
                    "FernandoDuarte`LongRunRisk`RecurrenceTableOptions",
                    "}"
                   }
                  ]
                 }
                ],
                ",",
                "\[IndentingNewLine]",
                RowBox[
                 {
                  "\"initialGuess\"",
                  " ",
                  "->",
                  RowBox[
                   {
                    "<|",
                    RowBox[
                     {
                      RowBox[
                       {
                        "\"Ewc\"",
                        "->",
                        RowBox[{"{", "FernandoDuarte`LongRunRisk`Ewc0", "}"}]
                       }
                      ],
                      ",",
                      RowBox[
                       {
                        "\"Epd\"",
                        "->",
                        RowBox[
                         {
                          "{",
                          RowBox[{"{", "FernandoDuarte`LongRunRisk`Epd0", "}"}],
                          "}"
                         }
                        ]
                       }
                      ]
                     }
                    ],
                    "|>"
                   }
                  ]
                 }
                ]
               }
              ],
              "]"
             }
            ]
           }
          ],
          ";"
         }
        ]
       }
      ],
      "Input"
     ],
     Cell[
      BoxData[
       {
        RowBox[
         {
          RowBox[
           {"keys", "=", RowBox[{"Keys", "[", "modelsCatalog", "]"}]}
          ],
          ";"
         }
        ],
        "\n",
        RowBox[
         {
          RowBox[
           {
            "models",
            " ",
            "=",
            " ",
            RowBox[
             {
              "KeyMap",
              "[",
              RowBox[
               {
                RowBox[
                 {
                  RowBox[
                   {
                    "Replace",
                    "[",
                    RowBox[
                     {
                      "#",
                      ",",
                      " ",
                      RowBox[
                       {
                        "Thread",
                        "[",
                        RowBox[
                         {
                          RowBox[{"Keys", "[", "modelsCatalog", "]"}],
                          "->",
                          RowBox[
                           {
                            "Values",
                            "@",
                            RowBox[
                             {
                              "(",
                              RowBox[
                               {
                                RowBox[{RowBox[{"#", "[", "\"shortname\"", "]"}], "&"}],
                                "/@",
                                "modelsCatalog"
                               }
                              ],
                              ")"
                             }
                            ]
                           }
                          ]
                         }
                        ],
                        " ",
                        "]"
                       }
                      ]
                     }
                    ],
                    " ",
                    "]"
                   }
                  ],
                  "&"
                 }
                ],
                ",",
                "modelsCatalog"
               }
              ],
              "]"
             }
            ]
           }
          ],
          ";"
         }
        ],
        "\n",
        RowBox[{RowBox[{"contextPath", "=", "$ContextPath"}], ";"}]
       }
      ],
      "Input"
     ],
     Cell[
      BoxData[
       RowBox[
        {
         RowBox[
          {
           "(*",
           RowBox[
            {
             RowBox[
              {
               "replace",
               " ",
               "stateVars",
               " ",
               "by",
               " ",
               "a",
               " ",
               "function",
               " ",
               "t"
              }
             ],
             " ",
             "|->",
             " ",
             RowBox[{"stateVars", "[", "t", "]"}]
            }
           ],
           " ",
           "*)"
          }
         ],
         "\n",
         "\t",
         RowBox[
          {
           RowBox[
            {
             RowBox[
              {
               "models",
               " ",
               "=",
               " ",
               RowBox[
                {
                 RowBox[
                  {
                   RowBox[
                    {
                     "Append",
                     "[",
                     "\n",
                     "\t\t",
                     RowBox[
                      {
                       "#",
                       ",",
                       "\n",
                       "\t\t",
                       RowBox[
                        {
                         "\"stateVars\"",
                         " ",
                         "->",
                         " ",
                         RowBox[
                          {
                           "Function",
                           "[",
                           RowBox[
                            {
                             RowBox[
                              {
                               "Evaluate",
                               "@",
                               RowBox[
                                {
                                 "DeleteDuplicates",
                                 "@",
                                 RowBox[
                                  {
                                   "Cases",
                                   "[",
                                   RowBox[
                                    {
                                     RowBox[{"#", "[", "\"stateVars\"", "]"}],
                                     ",",
                                     RowBox[
                                      {
                                       "e_Symbol",
                                       "?",
                                       RowBox[
                                        {
                                         "(",
                                         RowBox[
                                          {
                                           RowBox[
                                            {
                                             "MatchQ",
                                             "[",
                                             RowBox[
                                              {RowBox[{"SymbolName", "[", "#", "]"}], ",", "\"t\""}
                                             ],
                                             "]"
                                            }
                                           ],
                                           "&"
                                          }
                                         ],
                                         ")"
                                        }
                                       ]
                                      }
                                     ],
                                     ",",
                                     "Infinity"
                                    }
                                   ],
                                   "]"
                                  }
                                 ]
                                }
                               ]
                              }
                             ],
                             ",",
                             RowBox[
                              {"Evaluate", "@", RowBox[{"#", "[", "\"stateVars\"", "]"}]}
                             ]
                            }
                           ],
                           "]"
                          }
                         ]
                        }
                       ]
                      }
                     ],
                     "\n",
                     "\t",
                     "]"
                    }
                   ],
                   "&"
                  }
                 ],
                 " ",
                 "/@",
                 " ",
                 "models"
                }
               ]
              }
             ],
             ";"
            }
           ],
           "\n",
           "\t",
           "\n",
           "\t",
           RowBox[
            {
             "(*",
             RowBox[
              {
               RowBox[
                {
                 "add",
                 " ",
                 "number",
                 " ",
                 "of",
                 " ",
                 "stocks",
                 " ",
                 "as",
                 " ",
                 "a",
                 " ",
                 "new",
                 " ",
                 "key"
                }
               ],
               "-",
               RowBox[
                {
                 "value",
                 " ",
                 "pair",
                 " ",
                 "in",
                 " ",
                 "each",
                 " ",
                 "model"
                }
               ]
              }
             ],
             "*)"
            }
           ],
           "\n",
           "\t",
           RowBox[
            {
             RowBox[
              {
               "models",
               " ",
               "=",
               " ",
               RowBox[
                {
                 RowBox[
                  {
                   RowBox[
                    {
                     "Append",
                     "[",
                     "\n",
                     "\t\t",
                     RowBox[
                      {
                       "#",
                       ",",
                       "\n",
                       "\t\t",
                       RowBox[
                        {
                         "\"numStocks\"",
                         " ",
                         "->",
                         " ",
                         RowBox[
                          {
                           "Count",
                           "[",
                           RowBox[
                            {
                             RowBox[{"#", "[", "\"parameters\"", "]"}],
                             ",",
                             " ",
                             RowBox[{"mud", "[", "_Integer", "]"}],
                             ",",
                             " ",
                             "Infinity"
                            }
                           ],
                           "]"
                          }
                         ]
                        }
                       ]
                      }
                     ],
                     "\n",
                     "\t",
                     "]"
                    }
                   ],
                   "&"
                  }
                 ],
                 " ",
                 "/@",
                 " ",
                 "models"
                }
               ]
              }
             ],
             ";"
            }
           ],
           "\n",
           "\t",
           "\n",
           "\t",
           RowBox[
            {
             "(*",
             RowBox[
              {
               "find",
               " ",
               "parameters",
               " ",
               "that",
               " ",
               "are",
               " ",
               "zero",
               " ",
               "or",
               " ",
               "one",
               " ",
               "in",
               " ",
               "parameters",
               " ",
               "and",
               " ",
               "add",
               " ",
               "to",
               " ",
               "models"
              }
             ],
             "*)"
            }
           ],
           "\n",
           "\t",
           RowBox[
            {
             RowBox[
              {
               "models",
               " ",
               "=",
               " ",
               RowBox[
                {
                 RowBox[
                  {
                   RowBox[
                    {
                     "Append",
                     "[",
                     "\n",
                     "\t\t",
                     RowBox[
                      {
                       "#",
                       ",",
                       "\n",
                       "\t\t",
                       RowBox[
                        {
                         "\"assignParam\"",
                         " ",
                         "->",
                         " ",
                         RowBox[
                          {
                           "Select",
                           "[",
                           RowBox[
                            {
                             RowBox[{"#", "[", "\"parameters\"", "]"}],
                             ",",
                             " ",
                             RowBox[
                              {
                               RowBox[
                                {
                                 RowBox[
                                  {
                                   RowBox[{"#", "[", RowBox[{"[", "2", "]"}], "]"}],
                                   " ",
                                   "==",
                                   " ",
                                   "0"
                                  }
                                 ],
                                 " ",
                                 "||",
                                 " ",
                                 RowBox[
                                  {
                                   RowBox[{"#", "[", RowBox[{"[", "2", "]"}], "]"}],
                                   " ",
                                   "==",
                                   " ",
                                   "1"
                                  }
                                 ]
                                }
                               ],
                               "&"
                              }
                             ]
                            }
                           ],
                           "]"
                          }
                         ]
                        }
                       ]
                      }
                     ],
                     "\n",
                     "\t",
                     "]"
                    }
                   ],
                   "&"
                  }
                 ],
                 " ",
                 "/@",
                 " ",
                 "models"
                }
               ]
              }
             ],
             ";"
            }
           ],
           "\n",
           "\t",
           "\n",
           "\t",
           RowBox[
            {
             "(*",
             RowBox[
              {
               "find",
               " ",
               "parameters",
               " ",
               "of",
               " ",
               "stocks",
               " ",
               "that",
               " ",
               "are",
               " ",
               "zero",
               " ",
               "for",
               " ",
               "all",
               " ",
               "stocks",
               " ",
               "and",
               " ",
               "add",
               " ",
               "to",
               " ",
               "models"
              }
             ],
             "*)"
            }
           ],
           "\n",
           "\t",
           RowBox[
            {
             RowBox[
              {
               "models",
               " ",
               "=",
               " ",
               RowBox[
                {
                 RowBox[
                  {
                   RowBox[
                    {
                     "Append",
                     "[",
                     "\n",
                     "\t\t\t",
                     RowBox[
                      {
                       "#",
                       ",",
                       "\n",
                       "\t\t\t",
                       RowBox[
                        {
                         "\"stockZeroParam\"",
                         " ",
                         "->",
                         " ",
                         RowBox[
                          {
                           "DeleteDuplicates",
                           "[",
                           RowBox[
                            {
                             "Cases",
                             "[",
                             RowBox[
                              {
                               RowBox[{"#", "[", "\"parameters\"", "]"}],
                               ",",
                               " ",
                               RowBox[
                                {
                                 RowBox[
                                  {
                                   "Rule",
                                   "[",
                                   RowBox[{RowBox[{"z_", "[", "i_", "]"}], ",", " ", "0"}],
                                   "]"
                                  }
                                 ],
                                 " ",
                                 ":>",
                                 " ",
                                 RowBox[{"{", RowBox[{"z", ",", " ", "i"}], "}"}]
                                }
                               ],
                               ",",
                               " ",
                               "Infinity"
                              }
                             ],
                             "]"
                            }
                           ],
                           "]"
                          }
                         ]
                        }
                       ]
                      }
                     ],
                     "\n",
                     "\t",
                     "]"
                    }
                   ],
                   "&"
                  }
                 ],
                 " ",
                 "/@",
                 " ",
                 "models"
                }
               ]
              }
             ],
             ";"
            }
           ],
           "\n",
           "\t",
           "\n",
           "\t",
           RowBox[
            {
             RowBox[
              {
               "models",
               " ",
               "=",
               " ",
               RowBox[
                {
                 RowBox[
                  {
                   RowBox[
                    {
                     "Append",
                     "[",
                     RowBox[
                      {
                       "#",
                       ",",
                       "\n",
                       "\t\t",
                       RowBox[
                        {
                         "\"assignParamStocks\"",
                         " ",
                         "->",
                         " ",
                         RowBox[
                          {
                           "DeleteDuplicates",
                           "[",
                           "\n",
                           "\t\t\t",
                           RowBox[
                            {
                             "Table",
                             "[",
                             "\n",
                             "\t\t\t\t",
                             RowBox[
                              {
                               RowBox[
                                {
                                 "If",
                                 "[",
                                 "\n",
                                 "\t\t\t\t\t",
                                 RowBox[
                                  {
                                   RowBox[
                                    {
                                     "And",
                                     " ",
                                     "@@",
                                     " ",
                                     RowBox[
                                      {
                                       "Table",
                                       "[",
                                       "\n",
                                       "\t\t\t\t\t\t",
                                       RowBox[
                                        {
                                         RowBox[
                                          {
                                           "MemberQ",
                                           "[",
                                           RowBox[
                                            {
                                             RowBox[{"#", "[", "\"stockZeroParam\"", "]"}],
                                             ",",
                                             " ",
                                             RowBox[
                                              {
                                               "{",
                                               RowBox[
                                                {
                                                 RowBox[
                                                  {
                                                   RowBox[{"#", "[", "\"stockZeroParam\"", "]"}],
                                                   "[",
                                                   RowBox[{"[", RowBox[{"q", ",", " ", "1"}], "]"}],
                                                   "]"
                                                  }
                                                 ],
                                                 ",",
                                                 " ",
                                                 "j"
                                                }
                                               ],
                                               "}"
                                              }
                                             ]
                                            }
                                           ],
                                           "]"
                                          }
                                         ],
                                         ",",
                                         "\n",
                                         "\t\t\t\t\t\t",
                                         RowBox[
                                          {
                                           "{",
                                           RowBox[
                                            {
                                             "j",
                                             ",",
                                             " ",
                                             "1",
                                             ",",
                                             " ",
                                             RowBox[{"#", "[", "\"numStocks\"", "]"}]
                                            }
                                           ],
                                           "}"
                                          }
                                         ]
                                        }
                                       ],
                                       "\n",
                                       "\t\t\t\t\t",
                                       "]"
                                      }
                                     ]
                                    }
                                   ],
                                   ",",
                                   "\n",
                                   "\t\t\t\t\t",
                                   RowBox[
                                    {
                                     RowBox[
                                      {
                                       RowBox[
                                        {
                                         RowBox[{"#", "[", "\"stockZeroParam\"", "]"}],
                                         "[",
                                         RowBox[{"[", RowBox[{"q", ",", " ", "1"}], "]"}],
                                         "]"
                                        }
                                       ],
                                       "[",
                                       "i_",
                                       "]"
                                      }
                                     ],
                                     " ",
                                     "->",
                                     " ",
                                     "0"
                                    }
                                   ],
                                   ",",
                                   "\n",
                                   "\t\t\t\t\t",
                                   "Nothing"
                                  }
                                 ],
                                 "\n",
                                 "\t\t\t\t",
                                 "]"
                                }
                               ],
                               ",",
                               " ",
                               "\n",
                               "\t\t\t\t",
                               RowBox[
                                {
                                 "{",
                                 RowBox[
                                  {
                                   "q",
                                   ",",
                                   " ",
                                   "1",
                                   ",",
                                   " ",
                                   RowBox[
                                    {
                                     "Length",
                                     "[",
                                     RowBox[{"#", "[", "\"stockZeroParam\"", "]"}],
                                     "]"
                                    }
                                   ]
                                  }
                                 ],
                                 "}"
                                }
                               ]
                              }
                             ],
                             "\n",
                             "\t\t\t",
                             "]"
                            }
                           ],
                           "\n",
                           "\t\t ",
                           "]"
                          }
                         ]
                        }
                       ]
                      }
                     ],
                     "\n",
                     "\t",
                     "]"
                    }
                   ],
                   "&"
                  }
                 ],
                 " ",
                 "/@",
                 " ",
                 "models"
                }
               ]
              }
             ],
             ";"
            }
           ],
           "\n",
           "\t",
           "\n",
           "\t",
           RowBox[
            {
             RowBox[
              {
               "models",
               " ",
               "=",
               " ",
               RowBox[
                {
                 RowBox[
                  {
                   RowBox[
                    {
                     "KeyDrop",
                     "[",
                     RowBox[{"#", ",", " ", "\"stockZeroParam\""}],
                     "]"
                    }
                   ],
                   "&"
                  }
                 ],
                 " ",
                 "/@",
                 " ",
                 "models"
                }
               ]
              }
             ],
             ";"
            }
           ],
           "\n",
           "\t",
           "\n",
           "\t",
           RowBox[
            {
             "(*",
             RowBox[
              {
               "parameters",
               " ",
               "that",
               " ",
               "can",
               " ",
               "be",
               " ",
               "changed",
               " ",
               "for",
               " ",
               "each",
               " ",
               "model"
              }
             ],
             "*)"
            }
           ],
           "\n",
           "\t",
           RowBox[
            {
             RowBox[
              {
               "models",
               " ",
               "=",
               " ",
               RowBox[
                {
                 RowBox[
                  {
                   RowBox[
                    {
                     "Append",
                     "[",
                     "\n",
                     "\t\t\t",
                     RowBox[
                      {
                       "#",
                       ",",
                       "\n",
                       "\t\t\t",
                       RowBox[
                        {
                         "\"params\"",
                         " ",
                         "->",
                         " ",
                         RowBox[
                          {
                           "Complement",
                           "[",
                           RowBox[
                            {
                             RowBox[{"#", "[", "\"parameters\"", "]"}],
                             ",",
                             " ",
                             RowBox[{"#", "[", "\"assignParam\"", "]"}]
                            }
                           ],
                           "]"
                          }
                         ]
                        }
                       ]
                      }
                     ],
                     "\n",
                     "\t",
                     "]"
                    }
                   ],
                   "&"
                  }
                 ],
                 " ",
                 "/@",
                 " ",
                 "models"
                }
               ]
              }
             ],
             ";"
            }
           ],
           "\n",
           "\t",
           "\n",
           "\t",
           RowBox[{"(*", RowBox[{"add", " ", "assumptions"}], "*)"}],
           "\n",
           "\t",
           RowBox[
            {
             RowBox[
              {
               "modelAssumptions",
               " ",
               "=",
               " ",
               RowBox[
                {
                 "FernandoDuarte`LongRunRisk`Model`Parameters`Private`paramAssumptions",
                 " ",
                 "&&",
                 " ",
                 "\n",
                 "\t\t",
                 "FernandoDuarte`LongRunRisk`Model`EndogenousEq`Private`endogEqAssumptions"
                }
               ]
              }
             ],
             ";"
            }
           ],
           "\n",
           "\t",
           RowBox[
            {
             RowBox[
              {
               "models",
               "=",
               RowBox[
                {
                 RowBox[
                  {
                   "(",
                   RowBox[
                    {
                     RowBox[
                      {
                       "Append",
                       "[",
                       RowBox[
                        {
                         "#",
                         ",",
                         " ",
                         RowBox[
                          {
                           "\"modelAssumptions\"",
                           "->",
                           RowBox[
                            {
                             "(",
                             RowBox[
                              {
                               RowBox[
                                {
                                 "modelAssumptions",
                                 "//.",
                                 RowBox[{"#", "[", "\"assignParam\"", "]"}]
                                }
                               ],
                               "//.",
                               RowBox[{"#", "[", "\"assignParamStocks\"", "]"}]
                              }
                             ],
                             ")"
                            }
                           ]
                          }
                         ]
                        }
                       ],
                       " ",
                       "]"
                      }
                     ],
                     "&"
                    }
                   ],
                   ")"
                  }
                 ],
                 " ",
                 "/@",
                 "models"
                }
               ]
              }
             ],
             ";"
            }
           ],
           "\n"
          }
         ]
        }
       ]
      ],
      "Input"
     ],
     Cell[BoxData[RowBox[{"models", ";"}]], "Input"],
     Cell[
      BoxData[
       RowBox[
        {
         RowBox[
          {
           "Needs",
           "[",
           "\"FernandoDuarte`LongRunRisk`Model`ExogenousEq`\"",
           "]"
          }
         ],
         ";"
        }
       ]
      ],
      "Input"
     ],
     Cell[
      BoxData[
       {
        RowBox[
         {
          RowBox[
           {
            "argsPattern",
            " ",
            "=",
            " ",
            RowBox[
             {
              RowBox[
               {
                RowBox[
                 {
                  "Cases",
                  "[",
                  RowBox[
                   {
                    RowBox[
                     {
                      RowBox[{"DownValues", "[", "#", "]"}],
                      "[",
                      RowBox[{"[", RowBox[{";;", ",", "1"}], "]"}],
                      "]"
                     }
                    ],
                    ",",
                    RowBox[
                     {
                      RowBox[
                       {
                        RowBox[{"Verbatim", "[", "HoldPattern", "]"}],
                        "[",
                        RowBox[
                         {
                          RowBox[
                           {"Verbatim", "[", RowBox[{"Symbol", "@", "#"}], "]"}
                          ],
                          "[",
                          "vars__",
                          "]"
                         }
                        ],
                        "]"
                       }
                      ],
                      ":>",
                      "vars"
                     }
                    ]
                   }
                  ],
                  "]"
                 }
                ],
                "&"
               }
              ],
              "/@",
              "$exogenousVars"
             }
            ]
           }
          ],
          ";"
         }
        ],
        "\n",
        RowBox[
         {
          RowBox[
           {
            "funs",
            " ",
            "=",
            " ",
            RowBox[
             {
              RowBox[
               {
                RowBox[
                 {
                  RowBox[
                   {
                    RowBox[{"DownValues", "[", "#", "]"}],
                    "[",
                    RowBox[{"[", RowBox[{";;", ",", "2"}], "]"}],
                    "]"
                   }
                  ],
                  "[",
                  RowBox[{"[", "1", "]"}],
                  "]"
                 }
                ],
                "&"
               }
              ],
              "/@",
              "$exogenousVars"
             }
            ]
           }
          ],
          ";"
         }
        ]
       }
      ],
      "Input"
     ],
     Cell[
      BoxData[
       RowBox[
        {
         RowBox[
          {
           "exoExprAssignParam",
           "=",
           RowBox[
            {
             RowBox[
              {
               RowBox[
                {
                 "(",
                 RowBox[
                  {
                   RowBox[
                    {"funs", "//.", RowBox[{"#", "[", "\"assignParam\"", "]"}]}
                   ],
                   "//.",
                   RowBox[{"#", "[", "\"assignParamStocks\"", "]"}]
                  }
                 ],
                 ")"
                }
               ],
               "&"
              }
             ],
             " ",
             "/@",
             "models"
            }
           ]
          }
         ],
         ";"
        }
       ]
      ],
      "Input"
     ],
     Cell[BoxData[""], "Input"],
     Cell[
      BoxData[
       {
        RowBox[
         {
          RowBox[
           {
            RowBox[
             {
              "funTemplate",
              "[",
              RowBox[{"fun_", ",", "argPatt_"}],
              "]"
             }
            ],
            " ",
            ":=",
            " ",
            RowBox[
             {
              RowBox[
               {
                "(",
                " ",
                RowBox[
                 {
                  RowBox[{"{", "##", "}"}],
                  " ",
                  "/.",
                  " ",
                  RowBox[
                   {"(", RowBox[{"argPatt", " ", ":>", " ", "fun"}], ")"}
                  ]
                 }
                ],
                " ",
                ")"
               }
              ],
              "&"
             }
            ]
           }
          ],
          ";"
         }
        ],
        "\n",
        RowBox[
         {
          "\t\t",
          RowBox[
           {
            RowBox[
             {
              RowBox[{"Attributes", "[", "matchSymbol", "]"}],
              "=",
              RowBox[{"{", "Listable", "}"}]
             }
            ],
            ";"
           }
          ]
         }
        ],
        "\n",
        RowBox[
         {
          "\t\t",
          RowBox[
           {
            RowBox[
             {
              RowBox[{"matchSymbol", "[", "var_String", "]"}],
              ":=",
              " ",
              RowBox[
               {
                "(",
                RowBox[
                 {
                  "_Symbol",
                  "?",
                  RowBox[
                   {
                    "(",
                    RowBox[
                     {
                      RowBox[
                       {
                        "(",
                        RowBox[
                         {RowBox[{"SymbolName", "[", "#", "]"}], "===", "var"}
                        ],
                        ")"
                       }
                      ],
                      "&"
                     }
                    ],
                    ")"
                   }
                  ]
                 }
                ],
                ")"
               }
              ]
             }
            ],
            ";"
           }
          ],
          " ",
          RowBox[
           {
            "(*",
            RowBox[
             {
              "pattern",
              " ",
              "to",
              " ",
              "match",
              " ",
              "symbols",
              " ",
              "in",
              " ",
              "any",
              " ",
              "Context"
             }
            ],
            "*)"
           }
          ]
         }
        ],
        "\n",
        RowBox[
         {
          "\t\t",
          RowBox[
           {
            RowBox[
             {
              "exoExprMatchSymbol",
              " ",
              "=",
              " ",
              RowBox[
               {
                "matchSymbol",
                "/@",
                "FernandoDuarte`LongRunRisk`Model`ExogenousEq`Private`$exogenousVarsPrivate"
               }
              ]
             }
            ],
            ";"
           }
          ]
         }
        ],
        "\n",
        RowBox[
         {
          "\t\t",
          RowBox[
           {
            RowBox[
             {
              RowBox[{"exo", "[", "shortname_String", "]"}],
              ":=",
              RowBox[
               {
                "Association",
                "@",
                RowBox[
                 {
                  "MapThread",
                  "[",
                  RowBox[
                   {
                    RowBox[
                     {
                      RowBox[
                       {"#1", "->", RowBox[{"funTemplate", "[", "##2", "]"}]}
                      ],
                      "&"
                     }
                    ],
                    ",",
                    RowBox[
                     {
                      "{",
                      RowBox[
                       {
                        "exoExprMatchSymbol",
                        ",",
                        RowBox[{"exoExprAssignParam", "[", "shortname", "]"}],
                        ",",
                        "argsPattern"
                       }
                      ],
                      "}"
                     }
                    ]
                   }
                  ],
                  "]"
                 }
                ]
               }
              ]
             }
            ],
            ";"
           }
          ]
         }
        ]
       }
      ],
      "Input"
     ],
     Cell[
      BoxData[
       {
        RowBox[
         {
          RowBox[
           {
            RowBox[
             {
              "models",
              "=",
              RowBox[
               {
                RowBox[
                 {
                  RowBox[
                   {
                    "Append",
                    "[",
                    "\n",
                    "\t\t\t",
                    RowBox[
                     {
                      "#",
                      ",",
                      "\n",
                      "\t\t\t",
                      RowBox[{"\"exogenousVars\"", "->", "$exogenousVars"}]
                     }
                    ],
                    "\n",
                    "\t\t",
                    "]"
                   }
                  ],
                  "&"
                 }
                ],
                " ",
                "/@",
                " ",
                "models"
               }
              ]
             }
            ],
            ";"
           }
          ],
          "\n",
          "\t\t"
         }
        ],
        "\n",
        RowBox[
         {
          "\t\t",
          RowBox[
           {
            "models",
            "=",
            RowBox[
             {
              RowBox[
               {
                RowBox[
                 {
                  "Append",
                  "[",
                  "\n",
                  "\t\t\t",
                  RowBox[
                   {
                    "#",
                    ",",
                    "\n",
                    "\t\t\t",
                    RowBox[
                     {
                      "\"exogenousEq\"",
                      "->",
                      RowBox[
                       {"exo", "[", RowBox[{"#", "[", "\"shortname\"", "]"}], "]"}
                      ]
                     }
                    ]
                   }
                  ],
                  "\n",
                  "\t\t",
                  "]"
                 }
                ],
                "&"
               }
              ],
              " ",
              "/@",
              "models"
             }
            ]
           }
          ]
         }
        ]
       }
      ],
      "Input"
     ]
    },
    Open
   ]
  ]
 },
 WindowSize -> {1700, 939},
 WindowMargins -> {{0, Automatic}, {Automatic, 0}},
 WindowStatusArea -> "",
 DockedCells -> {
  Cell[
   BoxData[
    DynamicModuleBox[
     {LinterUIDockedCell`Private`notebook$$},
     GraphicsBox[
      {
       InsetBox[
        TemplateBox[
         {
          PaneBox[
           StyleBox[
            "\"Code Analysis\"",
            FontColor -> GrayLevel[0.4],
            FontFamily -> "Source Sans Pro",
            FontWeight -> Plain,
            FontSize -> 13,
            StripOnInput -> False
           ],
           BaselinePosition -> Baseline -> Scaled[0.65]
          ],
          TemplateBox[{8}, "Spacer1"],
          PaneBox[
           PaneSelectorBox[
            {
             {False, False} -> TemplateBox[{0}, "Spacer1"],
             {True, False} -> TemplateBox[{0}, "Spacer1"],
             {True, True} ->
              PaneBox[
               InterpretationBox[
                DynamicBox[
                 FEPrivate`FrontEndResource["FEExpressions", "PercolateAnimator"][
                  Medium
                 ]
                ],
                ProgressIndicator[Appearance -> "Percolate"],
                BaseStyle -> {"Deploy"}
               ],
               BaselinePosition -> Scaled[0.05]
              ],
             {False, True} ->
              DynamicModuleBox[
               {
                CodeInspector`LinterUI`Private`tracker$$ = 
                 CodeInspector`LinterUI`Private`DynamicTriggers`dockedCellLintCounts
               },
               DynamicWrapperBox[
                DynamicBox[
                 ToBoxes[
                  CodeInspector`LinterUI`Private`tracker$$;
                  LinterUIDockedCell`Private`dockedCellSeverityCountsButton[
                   LinterUIDockedCell`Private`notebook$$
                  ],
                  TraditionalForm
                 ],
                 TrackedSymbols :> {CodeInspector`LinterUI`Private`tracker$$}
                ],
                If[ UnsameQ[
                  CodeInspector`LinterUI`Private`tracker$$,
                  CodeInspector`LinterUI`Private`DynamicTriggers`dockedCellLintCounts
                 ],
                 CodeInspector`LinterUI`Private`tracker$$ = 
                  CodeInspector`LinterUI`Private`DynamicTriggers`dockedCellLintCounts
                ]
               ],
               DynamicModuleValues :> { }
              ]
            },
            Dynamic[
             FEPrivate`EvaluatorStatus["Local"];
             {
              CodeInspector`LinterUI`Private`varValue[
               LinterUIDockedCell`Private`notebook$$,
               "AnalysisInProgressQ"
              ],
              TrueQ[
               CodeInspector`LinterUI`Private`varValue[
                LinterUIDockedCell`Private`notebook$$,
                "DockedCellPresentQ"
               ]
              ]
             }
            ],
            ImageSize -> Automatic
           ],
           BaselinePosition -> Scaled[0.15]
          ]
         },
         "Row",
         DisplayFunction ->
          (Function[
           PaneBox[
            RowBox[{TemplateSlotSequence[1, "\[InvisibleSpace]"]}],
            Alignment -> Baseline
           ]
          ]),
         InterpretationFunction ->
          (Function[
           RowBox[
            {
             "Row",
             "[",
             RowBox[
              {
               RowBox[{"{", TemplateSlotSequence[1, ","], "}"}],
               ",",
               RowBox[{"Alignment", "\[Rule]", "Baseline"}]
              }
             ],
             "]"
            }
           ]
          ])
        ],
        Offset[{8, 0}, {-1, 0}],
        {-1, 0}
       ],
       InsetBox[
        PaneSelectorBox[
         {
          True ->
           DynamicModuleBox[
            {
             CodeInspector`LinterUI`Private`hoverQ$$ = False,
             CodeInspector`LinterUI`Private`mouseDownQ$$ = False,
             CodeInspector`LinterUI`Private`fontColor$$
            },
            ButtonBox[
             DynamicWrapperBox[
              TemplateBox[
               {
                DynamicWrapperBox[
                 StyleBox[
                  PaneBox[
                   "\"Reanalyze Notebook\"",
                   ContentPadding -> True,
                   FrameMargins -> None,
                   BaselinePosition -> Baseline
                  ],
                  FontColor ->
                   Dynamic[CodeInspector`LinterUI`Private`fontColor$$],
                  FontColor -> GrayLevel[0.2],
                  FontFamily -> "Source Sans Pro",
                  FontWeight -> Plain,
                  FontSize -> 14,
                  StripOnInput -> False
                 ],
                 CodeInspector`LinterUI`Private`fontColor$$ = 
                  Which[
                   TrueQ[
                    Not[
                     OptionValue[
                      {
                       ImageSize -> {Automatic, 19},
                       FrameMargins -> {9*{1, 1}, 0*{1, 1}},
                       BaselinePosition -> Baseline,
                       Alignment -> {Center, Center},
                       Method -> "Preemptive",
                       "ActiveQ" -> True,
                       "TextColor" ->
                        CodeInspector`LinterUI`Private`colorData["ButtonText"],
                       "TextHoverColor" ->
                        CodeInspector`LinterUI`Private`colorData["ButtonTextHover"],
                       "TextInactiveColor" ->
                        CodeInspector`LinterUI`Private`colorData[
                         "ButtonTextInactive"
                        ],
                       "BackColor" ->
                        CodeInspector`LinterUI`Private`colorData["ButtonBack"],
                       "BackHoverColor" ->
                        CodeInspector`LinterUI`Private`colorData["ButtonBackHover"],
                       "BackMouseDownColor" ->
                        CodeInspector`LinterUI`Private`colorData[
                         "ButtonBackMouseDown"
                        ],
                       "BackInactiveColor" ->
                        CodeInspector`LinterUI`Private`colorData[
                         "ButtonBackInactive"
                        ],
                       "EdgeColor" ->
                        CodeInspector`LinterUI`Private`colorData["ButtonEdge"],
                       "EdgeHoverColor" ->
                        CodeInspector`LinterUI`Private`colorData["ButtonEdgeHover"],
                       "EdgeInactiveColor" ->
                        CodeInspector`LinterUI`Private`colorData[
                         "ButtonEdgeInactive"
                        ]
                      },
                      {Method -> "Queued"},
                      "ActiveQ"
                     ]
                    ]
                   ],
                   OptionValue[
                    {
                     ImageSize -> {Automatic, 19},
                     FrameMargins -> {9*{1, 1}, 0*{1, 1}},
                     BaselinePosition -> Baseline,
                     Alignment -> {Center, Center},
                     Method -> "Preemptive",
                     "ActiveQ" -> True,
                     "TextColor" ->
                      CodeInspector`LinterUI`Private`colorData["ButtonText"],
                     "TextHoverColor" ->
                      CodeInspector`LinterUI`Private`colorData["ButtonTextHover"],
                     "TextInactiveColor" ->
                      CodeInspector`LinterUI`Private`colorData[
                       "ButtonTextInactive"
                      ],
                     "BackColor" ->
                      CodeInspector`LinterUI`Private`colorData["ButtonBack"],
                     "BackHoverColor" ->
                      CodeInspector`LinterUI`Private`colorData["ButtonBackHover"],
                     "BackMouseDownColor" ->
                      CodeInspector`LinterUI`Private`colorData[
                       "ButtonBackMouseDown"
                      ],
                     "BackInactiveColor" ->
                      CodeInspector`LinterUI`Private`colorData[
                       "ButtonBackInactive"
                      ],
                     "EdgeColor" ->
                      CodeInspector`LinterUI`Private`colorData["ButtonEdge"],
                     "EdgeHoverColor" ->
                      CodeInspector`LinterUI`Private`colorData["ButtonEdgeHover"],
                     "EdgeInactiveColor" ->
                      CodeInspector`LinterUI`Private`colorData[
                       "ButtonEdgeInactive"
                      ]
                    },
                    {Method -> "Queued"},
                    "TextInactiveColor"
                   ],
                   CodeInspector`LinterUI`Private`hoverQ$$,
                   OptionValue[
                    {
                     ImageSize -> {Automatic, 19},
                     FrameMargins -> {9*{1, 1}, 0*{1, 1}},
                     BaselinePosition -> Baseline,
                     Alignment -> {Center, Center},
                     Method -> "Preemptive",
                     "ActiveQ" -> True,
                     "TextColor" ->
                      CodeInspector`LinterUI`Private`colorData["ButtonText"],
                     "TextHoverColor" ->
                      CodeInspector`LinterUI`Private`colorData["ButtonTextHover"],
                     "TextInactiveColor" ->
                      CodeInspector`LinterUI`Private`colorData[
                       "ButtonTextInactive"
                      ],
                     "BackColor" ->
                      CodeInspector`LinterUI`Private`colorData["ButtonBack"],
                     "BackHoverColor" ->
                      CodeInspector`LinterUI`Private`colorData["ButtonBackHover"],
                     "BackMouseDownColor" ->
                      CodeInspector`LinterUI`Private`colorData[
                       "ButtonBackMouseDown"
                      ],
                     "BackInactiveColor" ->
                      CodeInspector`LinterUI`Private`colorData[
                       "ButtonBackInactive"
                      ],
                     "EdgeColor" ->
                      CodeInspector`LinterUI`Private`colorData["ButtonEdge"],
                     "EdgeHoverColor" ->
                      CodeInspector`LinterUI`Private`colorData["ButtonEdgeHover"],
                     "EdgeInactiveColor" ->
                      CodeInspector`LinterUI`Private`colorData[
                       "ButtonEdgeInactive"
                      ]
                    },
                    {Method -> "Queued"},
                    "TextHoverColor"
                   ],
                   True,
                   OptionValue[
                    {
                     ImageSize -> {Automatic, 19},
                     FrameMargins -> {9*{1, 1}, 0*{1, 1}},
                     BaselinePosition -> Baseline,
                     Alignment -> {Center, Center},
                     Method -> "Preemptive",
                     "ActiveQ" -> True,
                     "TextColor" ->
                      CodeInspector`LinterUI`Private`colorData["ButtonText"],
                     "TextHoverColor" ->
                      CodeInspector`LinterUI`Private`colorData["ButtonTextHover"],
                     "TextInactiveColor" ->
                      CodeInspector`LinterUI`Private`colorData[
                       "ButtonTextInactive"
                      ],
                     "BackColor" ->
                      CodeInspector`LinterUI`Private`colorData["ButtonBack"],
                     "BackHoverColor" ->
                      CodeInspector`LinterUI`Private`colorData["ButtonBackHover"],
                     "BackMouseDownColor" ->
                      CodeInspector`LinterUI`Private`colorData[
                       "ButtonBackMouseDown"
                      ],
                     "BackInactiveColor" ->
                      CodeInspector`LinterUI`Private`colorData[
                       "ButtonBackInactive"
                      ],
                     "EdgeColor" ->
                      CodeInspector`LinterUI`Private`colorData["ButtonEdge"],
                     "EdgeHoverColor" ->
                      CodeInspector`LinterUI`Private`colorData["ButtonEdgeHover"],
                     "EdgeInactiveColor" ->
                      CodeInspector`LinterUI`Private`colorData[
                       "ButtonEdgeInactive"
                      ]
                    },
                    {Method -> "Queued"},
                    "TextColor"
                   ]
                  ]
                ],
                ContentPadding -> False,
                FrameMargins -> {{9, 9}, {0, 0}},
                Alignment -> {Center, Center},
                ImageSize -> {Automatic, 19},
                RoundingRadius -> 3,
                FrameStyle ->
                 Dynamic[
                  Directive[
                   AbsoluteThickness[0.5],
                   Which[
                    TrueQ[
                     Not[
                      OptionValue[
                       {
                        ImageSize -> {Automatic, 19},
                        FrameMargins -> {9*{1, 1}, 0*{1, 1}},
                        BaselinePosition -> Baseline,
                        Alignment -> {Center, Center},
                        Method -> "Preemptive",
                        "ActiveQ" -> True,
                        "TextColor" ->
                         CodeInspector`LinterUI`Private`colorData["ButtonText"],
                        "TextHoverColor" ->
                         CodeInspector`LinterUI`Private`colorData["ButtonTextHover"],
                        "TextInactiveColor" ->
                         CodeInspector`LinterUI`Private`colorData[
                          "ButtonTextInactive"
                         ],
                        "BackColor" ->
                         CodeInspector`LinterUI`Private`colorData["ButtonBack"],
                        "BackHoverColor" ->
                         CodeInspector`LinterUI`Private`colorData["ButtonBackHover"],
                        "BackMouseDownColor" ->
                         CodeInspector`LinterUI`Private`colorData[
                          "ButtonBackMouseDown"
                         ],
                        "BackInactiveColor" ->
                         CodeInspector`LinterUI`Private`colorData[
                          "ButtonBackInactive"
                         ],
                        "EdgeColor" ->
                         CodeInspector`LinterUI`Private`colorData["ButtonEdge"],
                        "EdgeHoverColor" ->
                         CodeInspector`LinterUI`Private`colorData["ButtonEdgeHover"],
                        "EdgeInactiveColor" ->
                         CodeInspector`LinterUI`Private`colorData[
                          "ButtonEdgeInactive"
                         ]
                       },
                       {Method -> "Queued"},
                       "ActiveQ"
                      ]
                     ]
                    ],
                    OptionValue[
                     {
                      ImageSize -> {Automatic, 19},
                      FrameMargins -> {9*{1, 1}, 0*{1, 1}},
                      BaselinePosition -> Baseline,
                      Alignment -> {Center, Center},
                      Method -> "Preemptive",
                      "ActiveQ" -> True,
                      "TextColor" ->
                       CodeInspector`LinterUI`Private`colorData["ButtonText"],
                      "TextHoverColor" ->
                       CodeInspector`LinterUI`Private`colorData["ButtonTextHover"],
                      "TextInactiveColor" ->
                       CodeInspector`LinterUI`Private`colorData[
                        "ButtonTextInactive"
                       ],
                      "BackColor" ->
                       CodeInspector`LinterUI`Private`colorData["ButtonBack"],
                      "BackHoverColor" ->
                       CodeInspector`LinterUI`Private`colorData["ButtonBackHover"],
                      "BackMouseDownColor" ->
                       CodeInspector`LinterUI`Private`colorData[
                        "ButtonBackMouseDown"
                       ],
                      "BackInactiveColor" ->
                       CodeInspector`LinterUI`Private`colorData[
                        "ButtonBackInactive"
                       ],
                      "EdgeColor" ->
                       CodeInspector`LinterUI`Private`colorData["ButtonEdge"],
                      "EdgeHoverColor" ->
                       CodeInspector`LinterUI`Private`colorData["ButtonEdgeHover"],
                      "EdgeInactiveColor" ->
                       CodeInspector`LinterUI`Private`colorData[
                        "ButtonEdgeInactive"
                       ]
                     },
                     {Method -> "Queued"},
                     "EdgeInactiveColor"
                    ],
                    CodeInspector`LinterUI`Private`hoverQ$$,
                    OptionValue[
                     {
                      ImageSize -> {Automatic, 19},
                      FrameMargins -> {9*{1, 1}, 0*{1, 1}},
                      BaselinePosition -> Baseline,
                      Alignment -> {Center, Center},
                      Method -> "Preemptive",
                      "ActiveQ" -> True,
                      "TextColor" ->
                       CodeInspector`LinterUI`Private`colorData["ButtonText"],
                      "TextHoverColor" ->
                       CodeInspector`LinterUI`Private`colorData["ButtonTextHover"],
                      "TextInactiveColor" ->
                       CodeInspector`LinterUI`Private`colorData[
                        "ButtonTextInactive"
                       ],
                      "BackColor" ->
                       CodeInspector`LinterUI`Private`colorData["ButtonBack"],
                      "BackHoverColor" ->
                       CodeInspector`LinterUI`Private`colorData["ButtonBackHover"],
                      "BackMouseDownColor" ->
                       CodeInspector`LinterUI`Private`colorData[
                        "ButtonBackMouseDown"
                       ],
                      "BackInactiveColor" ->
                       CodeInspector`LinterUI`Private`colorData[
                        "ButtonBackInactive"
                       ],
                      "EdgeColor" ->
                       CodeInspector`LinterUI`Private`colorData["ButtonEdge"],
                      "EdgeHoverColor" ->
                       CodeInspector`LinterUI`Private`colorData["ButtonEdgeHover"],
                      "EdgeInactiveColor" ->
                       CodeInspector`LinterUI`Private`colorData[
                        "ButtonEdgeInactive"
                       ]
                     },
                     {Method -> "Queued"},
                     "EdgeHoverColor"
                    ],
                    True,
                    OptionValue[
                     {
                      ImageSize -> {Automatic, 19},
                      FrameMargins -> {9*{1, 1}, 0*{1, 1}},
                      BaselinePosition -> Baseline,
                      Alignment -> {Center, Center},
                      Method -> "Preemptive",
                      "ActiveQ" -> True,
                      "TextColor" ->
                       CodeInspector`LinterUI`Private`colorData["ButtonText"],
                      "TextHoverColor" ->
                       CodeInspector`LinterUI`Private`colorData["ButtonTextHover"],
                      "TextInactiveColor" ->
                       CodeInspector`LinterUI`Private`colorData[
                        "ButtonTextInactive"
                       ],
                      "BackColor" ->
                       CodeInspector`LinterUI`Private`colorData["ButtonBack"],
                      "BackHoverColor" ->
                       CodeInspector`LinterUI`Private`colorData["ButtonBackHover"],
                      "BackMouseDownColor" ->
                       CodeInspector`LinterUI`Private`colorData[
                        "ButtonBackMouseDown"
                       ],
                      "BackInactiveColor" ->
                       CodeInspector`LinterUI`Private`colorData[
                        "ButtonBackInactive"
                       ],
                      "EdgeColor" ->
                       CodeInspector`LinterUI`Private`colorData["ButtonEdge"],
                      "EdgeHoverColor" ->
                       CodeInspector`LinterUI`Private`colorData["ButtonEdgeHover"],
                      "EdgeInactiveColor" ->
                       CodeInspector`LinterUI`Private`colorData[
                        "ButtonEdgeInactive"
                       ]
                     },
                     {Method -> "Queued"},
                     "EdgeColor"
                    ]
                   ]
                  ]
                 ],
                Background ->
                 Dynamic[
                  Which[
                   TrueQ[
                    Not[
                     OptionValue[
                      {
                       ImageSize -> {Automatic, 19},
                       FrameMargins -> {9*{1, 1}, 0*{1, 1}},
                       BaselinePosition -> Baseline,
                       Alignment -> {Center, Center},
                       Method -> "Preemptive",
                       "ActiveQ" -> True,
                       "TextColor" ->
                        CodeInspector`LinterUI`Private`colorData["ButtonText"],
                       "TextHoverColor" ->
                        CodeInspector`LinterUI`Private`colorData["ButtonTextHover"],
                       "TextInactiveColor" ->
                        CodeInspector`LinterUI`Private`colorData[
                         "ButtonTextInactive"
                        ],
                       "BackColor" ->
                        CodeInspector`LinterUI`Private`colorData["ButtonBack"],
                       "BackHoverColor" ->
                        CodeInspector`LinterUI`Private`colorData["ButtonBackHover"],
                       "BackMouseDownColor" ->
                        CodeInspector`LinterUI`Private`colorData[
                         "ButtonBackMouseDown"
                        ],
                       "BackInactiveColor" ->
                        CodeInspector`LinterUI`Private`colorData[
                         "ButtonBackInactive"
                        ],
                       "EdgeColor" ->
                        CodeInspector`LinterUI`Private`colorData["ButtonEdge"],
                       "EdgeHoverColor" ->
                        CodeInspector`LinterUI`Private`colorData["ButtonEdgeHover"],
                       "EdgeInactiveColor" ->
                        CodeInspector`LinterUI`Private`colorData[
                         "ButtonEdgeInactive"
                        ]
                      },
                      {Method -> "Queued"},
                      "ActiveQ"
                     ]
                    ]
                   ],
                   OptionValue[
                    {
                     ImageSize -> {Automatic, 19},
                     FrameMargins -> {9*{1, 1}, 0*{1, 1}},
                     BaselinePosition -> Baseline,
                     Alignment -> {Center, Center},
                     Method -> "Preemptive",
                     "ActiveQ" -> True,
                     "TextColor" ->
                      CodeInspector`LinterUI`Private`colorData["ButtonText"],
                     "TextHoverColor" ->
                      CodeInspector`LinterUI`Private`colorData["ButtonTextHover"],
                     "TextInactiveColor" ->
                      CodeInspector`LinterUI`Private`colorData[
                       "ButtonTextInactive"
                      ],
                     "BackColor" ->
                      CodeInspector`LinterUI`Private`colorData["ButtonBack"],
                     "BackHoverColor" ->
                      CodeInspector`LinterUI`Private`colorData["ButtonBackHover"],
                     "BackMouseDownColor" ->
                      CodeInspector`LinterUI`Private`colorData[
                       "ButtonBackMouseDown"
                      ],
                     "BackInactiveColor" ->
                      CodeInspector`LinterUI`Private`colorData[
                       "ButtonBackInactive"
                      ],
                     "EdgeColor" ->
                      CodeInspector`LinterUI`Private`colorData["ButtonEdge"],
                     "EdgeHoverColor" ->
                      CodeInspector`LinterUI`Private`colorData["ButtonEdgeHover"],
                     "EdgeInactiveColor" ->
                      CodeInspector`LinterUI`Private`colorData[
                       "ButtonEdgeInactive"
                      ]
                    },
                    {Method -> "Queued"},
                    "BackInactiveColor"
                   ],
                   And[
                    CodeInspector`LinterUI`Private`hoverQ$$,
                    CodeInspector`LinterUI`Private`mouseDownQ$$
                   ],
                   OptionValue[
                    {
                     ImageSize -> {Automatic, 19},
                     FrameMargins -> {9*{1, 1}, 0*{1, 1}},
                     BaselinePosition -> Baseline,
                     Alignment -> {Center, Center},
                     Method -> "Preemptive",
                     "ActiveQ" -> True,
                     "TextColor" ->
                      CodeInspector`LinterUI`Private`colorData["ButtonText"],
                     "TextHoverColor" ->
                      CodeInspector`LinterUI`Private`colorData["ButtonTextHover"],
                     "TextInactiveColor" ->
                      CodeInspector`LinterUI`Private`colorData[
                       "ButtonTextInactive"
                      ],
                     "BackColor" ->
                      CodeInspector`LinterUI`Private`colorData["ButtonBack"],
                     "BackHoverColor" ->
                      CodeInspector`LinterUI`Private`colorData["ButtonBackHover"],
                     "BackMouseDownColor" ->
                      CodeInspector`LinterUI`Private`colorData[
                       "ButtonBackMouseDown"
                      ],
                     "BackInactiveColor" ->
                      CodeInspector`LinterUI`Private`colorData[
                       "ButtonBackInactive"
                      ],
                     "EdgeColor" ->
                      CodeInspector`LinterUI`Private`colorData["ButtonEdge"],
                     "EdgeHoverColor" ->
                      CodeInspector`LinterUI`Private`colorData["ButtonEdgeHover"],
                     "EdgeInactiveColor" ->
                      CodeInspector`LinterUI`Private`colorData[
                       "ButtonEdgeInactive"
                      ]
                    },
                    {Method -> "Queued"},
                    "BackMouseDownColor"
                   ],
                   CodeInspector`LinterUI`Private`hoverQ$$,
                   OptionValue[
                    {
                     ImageSize -> {Automatic, 19},
                     FrameMargins -> {9*{1, 1}, 0*{1, 1}},
                     BaselinePosition -> Baseline,
                     Alignment -> {Center, Center},
                     Method -> "Preemptive",
                     "ActiveQ" -> True,
                     "TextColor" ->
                      CodeInspector`LinterUI`Private`colorData["ButtonText"],
                     "TextHoverColor" ->
                      CodeInspector`LinterUI`Private`colorData["ButtonTextHover"],
                     "TextInactiveColor" ->
                      CodeInspector`LinterUI`Private`colorData[
                       "ButtonTextInactive"
                      ],
                     "BackColor" ->
                      CodeInspector`LinterUI`Private`colorData["ButtonBack"],
                     "BackHoverColor" ->
                      CodeInspector`LinterUI`Private`colorData["ButtonBackHover"],
                     "BackMouseDownColor" ->
                      CodeInspector`LinterUI`Private`colorData[
                       "ButtonBackMouseDown"
                      ],
                     "BackInactiveColor" ->
                      CodeInspector`LinterUI`Private`colorData[
                       "ButtonBackInactive"
                      ],
                     "EdgeColor" ->
                      CodeInspector`LinterUI`Private`colorData["ButtonEdge"],
                     "EdgeHoverColor" ->
                      CodeInspector`LinterUI`Private`colorData["ButtonEdgeHover"],
                     "EdgeInactiveColor" ->
                      CodeInspector`LinterUI`Private`colorData[
                       "ButtonEdgeInactive"
                      ]
                    },
                    {Method -> "Queued"},
                    "BackHoverColor"
                   ],
                   True,
                   OptionValue[
                    {
                     ImageSize -> {Automatic, 19},
                     FrameMargins -> {9*{1, 1}, 0*{1, 1}},
                     BaselinePosition -> Baseline,
                     Alignment -> {Center, Center},
                     Method -> "Preemptive",
                     "ActiveQ" -> True,
                     "TextColor" ->
                      CodeInspector`LinterUI`Private`colorData["ButtonText"],
                     "TextHoverColor" ->
                      CodeInspector`LinterUI`Private`colorData["ButtonTextHover"],
                     "TextInactiveColor" ->
                      CodeInspector`LinterUI`Private`colorData[
                       "ButtonTextInactive"
                      ],
                     "BackColor" ->
                      CodeInspector`LinterUI`Private`colorData["ButtonBack"],
                     "BackHoverColor" ->
                      CodeInspector`LinterUI`Private`colorData["ButtonBackHover"],
                     "BackMouseDownColor" ->
                      CodeInspector`LinterUI`Private`colorData[
                       "ButtonBackMouseDown"
                      ],
                     "BackInactiveColor" ->
                      CodeInspector`LinterUI`Private`colorData[
                       "ButtonBackInactive"
                      ],
                     "EdgeColor" ->
                      CodeInspector`LinterUI`Private`colorData["ButtonEdge"],
                     "EdgeHoverColor" ->
                      CodeInspector`LinterUI`Private`colorData["ButtonEdgeHover"],
                     "EdgeInactiveColor" ->
                      CodeInspector`LinterUI`Private`colorData[
                       "ButtonEdgeInactive"
                      ]
                    },
                    {Method -> "Queued"},
                    "BackColor"
                   ]
                  ]
                 ]
               },
               "Highlighted"
              ],
              
              CodeInspector`LinterUI`Private`hoverQ$$ = 
               CurrentValue["MouseOver"];

              CodeInspector`LinterUI`Private`mouseDownQ$$ = 
               CurrentValue["MouseButtonTest"]
             ],
             Appearance -> {
              "Default" ->
               Image[
                RawArray[
                 "UnsignedInteger8",
                 {
                  {
                   {255, 255, 255, 255},
                   {0, 0, 0, 255},
                   {255, 255, 255, 255}
                  },
                  {{0, 0, 0, 255}, {0, 0, 0, 0}, {0, 0, 0, 255}},
                  {
                   {255, 255, 255, 255},
                   {0, 0, 0, 255},
                   {255, 255, 255, 255}
                  }
                 }
                ],
                "Byte",
                ColorSpace -> "RGB",
                ImageResolution -> {72, 72},
                Interleaving -> True
               ],
              "Hover" ->
               Image[
                RawArray[
                 "UnsignedInteger8",
                 {
                  {
                   {255, 255, 255, 255},
                   {0, 0, 0, 255},
                   {255, 255, 255, 255}
                  },
                  {{0, 0, 0, 255}, {0, 0, 0, 0}, {0, 0, 0, 255}},
                  {
                   {255, 255, 255, 255},
                   {0, 0, 0, 255},
                   {255, 255, 255, 255}
                  }
                 }
                ],
                "Byte",
                ColorSpace -> "RGB",
                ImageResolution -> {72, 72},
                Interleaving -> True
               ],
              "Pressed" ->
               Image[
                RawArray[
                 "UnsignedInteger8",
                 {
                  {
                   {255, 255, 255, 255},
                   {0, 0, 0, 255},
                   {255, 255, 255, 255}
                  },
                  {{0, 0, 0, 255}, {0, 0, 0, 0}, {0, 0, 0, 255}},
                  {
                   {255, 255, 255, 255},
                   {0, 0, 0, 255},
                   {255, 255, 255, 255}
                  }
                 }
                ],
                "Byte",
                ColorSpace -> "RGB",
                ImageResolution -> {72, 72},
                Interleaving -> True
               ]
             },
             BaselinePosition -> Baseline,
             ButtonFunction :>
              (
              If[ UnsameQ[
                OptionValue[
                 {
                  ImageSize -> {Automatic, 19},
                  FrameMargins -> {9*{1, 1}, 0*{1, 1}},
                  BaselinePosition -> Baseline,
                  Alignment -> {Center, Center},
                  Method -> "Preemptive",
                  "ActiveQ" -> True,
                  "TextColor" ->
                   CodeInspector`LinterUI`Private`colorData["ButtonText"],
                  "TextHoverColor" ->
                   CodeInspector`LinterUI`Private`colorData["ButtonTextHover"],
                  "TextInactiveColor" ->
                   CodeInspector`LinterUI`Private`colorData[
                    "ButtonTextInactive"
                   ],
                  "BackColor" ->
                   CodeInspector`LinterUI`Private`colorData["ButtonBack"],
                  "BackHoverColor" ->
                   CodeInspector`LinterUI`Private`colorData["ButtonBackHover"],
                  "BackMouseDownColor" ->
                   CodeInspector`LinterUI`Private`colorData[
                    "ButtonBackMouseDown"
                   ],
                  "BackInactiveColor" ->
                   CodeInspector`LinterUI`Private`colorData[
                    "ButtonBackInactive"
                   ],
                  "EdgeColor" ->
                   CodeInspector`LinterUI`Private`colorData["ButtonEdge"],
                  "EdgeHoverColor" ->
                   CodeInspector`LinterUI`Private`colorData["ButtonEdgeHover"],
                  "EdgeInactiveColor" ->
                   CodeInspector`LinterUI`Private`colorData[
                    "ButtonEdgeInactive"
                   ]
                 },
                 {Method -> "Queued"},
                 "ActiveQ"
                ],
                False
               ],
               CodeInspector`LinterUI`Private`attachAnalysisAction[
                EvaluationNotebook[]
               ]
              ];

              CodeInspector`LinterUI`Private`mouseDownQ$$ = False),
             ContentPadding -> False,
             Evaluator -> Automatic,
             Method -> "Queued"
            ],
            DynamicModuleValues :> { }
           ],
          False ->
           ButtonBox[
            TemplateBox[
             {
              StyleBox[
               "\"Analyze Notebook\"",
               FontColor -> GrayLevel[0.2],
               FontFamily -> "Source Sans Pro",
               FontWeight -> Plain,
               FontSize -> 14,
               StripOnInput -> False
              ],
              ImageSize -> {Automatic, 19},
              FrameMargins -> {{9, 9}, {0, 0}},
              BaselinePosition -> Baseline,
              Alignment -> {Center, Center},
              Background -> GrayLevel[1],
              FrameStyle ->
               Dynamic[
                If[ CurrentValue["MouseOver"],
                 Hue[0.55, 0.82, 0.87],
                 GrayLevel[0.8]
                ]
               ]
             },
             "Highlighted"
            ],
            Appearance -> {
             "Default" ->
              Image[
               RawArray[
                "UnsignedInteger8",
                {
                 {
                  {255, 255, 255, 255},
                  {0, 0, 0, 255},
                  {255, 255, 255, 255}
                 },
                 {{0, 0, 0, 255}, {0, 0, 0, 0}, {0, 0, 0, 255}},
                 {
                  {255, 255, 255, 255},
                  {0, 0, 0, 255},
                  {255, 255, 255, 255}
                 }
                }
               ],
               "Byte",
               ColorSpace -> "RGB",
               ImageResolution -> {72, 72},
               Interleaving -> True
              ],
             "Hover" ->
              Image[
               RawArray[
                "UnsignedInteger8",
                {
                 {
                  {255, 255, 255, 255},
                  {0, 0, 0, 255},
                  {255, 255, 255, 255}
                 },
                 {{0, 0, 0, 255}, {0, 0, 0, 0}, {0, 0, 0, 255}},
                 {
                  {255, 255, 255, 255},
                  {0, 0, 0, 255},
                  {255, 255, 255, 255}
                 }
                }
               ],
               "Byte",
               ColorSpace -> "RGB",
               ImageResolution -> {72, 72},
               Interleaving -> True
              ],
             "Pressed" ->
              Image[
               RawArray[
                "UnsignedInteger8",
                {
                 {
                  {255, 255, 255, 255},
                  {0, 0, 0, 255},
                  {255, 255, 255, 255}
                 },
                 {{0, 0, 0, 255}, {0, 0, 0, 0}, {0, 0, 0, 255}},
                 {
                  {255, 255, 255, 255},
                  {0, 0, 0, 255},
                  {255, 255, 255, 255}
                 }
                }
               ],
               "Byte",
               ColorSpace -> "RGB",
               ImageResolution -> {72, 72},
               Interleaving -> True
              ]
            },
            ButtonFunction :>
             (
             CurrentValue[EvaluationNotebook[], DockedCells] = 
              With[
               {
                LinterUIDockedCell`Private`dockedCells = 
                 CurrentValue[EvaluationNotebook[], DockedCells]
               },
               Pick[
                LinterUIDockedCell`Private`dockedCells,
                Map[
                 Function[
                  UnsameQ[
                   Quiet[Options[#1, CellTags]],
                   {CellTags -> "CodeAnalysisDockedCell"}
                  ]
                 ],
                 LinterUIDockedCell`Private`dockedCells
                ]
               ]
              ];

             Needs["CodeInspector`"];
             CodeInspector`AttachAnalysis[
              LinterUIDockedCell`Private`notebook$$
             ]),
            Evaluator -> Automatic,
            Method -> "Queued"
           ]
         },
         Dynamic[
          FEPrivate`EvaluatorStatus["Local"];
          TrueQ[
           CodeInspector`LinterUI`Private`varValue[
            LinterUIDockedCell`Private`notebook$$,
            "DockedCellPresentQ"
           ]
          ]
         ],
         ImageSize -> Automatic
        ],
        Offset[{-26, 0}, {1, 0}],
        {1, 0}
       ],
       TagBox[
        TagBox[
         TooltipBox[
          {
           {
            GrayLevel[0.6],
            DiskBox[Offset[{-11, 0}, {1, 0}], Offset[6]]
           },
           {
            GrayLevel[0.97],
            AbsoluteThickness[1.5],
            CapForm["Round"],
            LineBox[
             {
              {Offset[{-13, 2}, {1, 0}], Offset[{-9, -2}, {1, 0}]},
              {Offset[{-13, -2}, {1, 0}], Offset[{-9, 2}, {1, 0}]}
             }
            ]
           }
          },
          "\"Close analysis\"",
          TooltipDelay -> 0,
          TooltipStyle -> "TextStyling"
         ],
         Annotation[#1, "Close analysis", "Tooltip"] &
        ],
        EventHandlerTag[
         {
          "MouseClicked" :>
           (
           Map[
            NotebookDelete,
            Flatten[
             CodeInspector`LinterUI`Private`varValue[
              LinterUIDockedCell`Private`notebook$$,
              All,
              "UIAttachedCells"
             ]
            ]
           ];

           
           Map[
            NotebookDelete,
            Flatten[
             CodeInspector`LinterUI`Private`varValue[
              LinterUIDockedCell`Private`notebook$$,
              All,
              "CleanCellBracketMarker"
             ]
            ]
           ];

           
           CurrentValue[EvaluationNotebook[], DockedCells] = 
            With[
             {
              LinterUIDockedCell`Private`dockedCells = 
               CurrentValue[EvaluationNotebook[], DockedCells]
             },
             Pick[
              LinterUIDockedCell`Private`dockedCells,
              Map[
               Function[
                UnsameQ[
                 Quiet[Options[#1, CellTags]],
                 {CellTags -> "CodeAnalysisDockedCell"}
                ]
               ],
               LinterUIDockedCell`Private`dockedCells
              ]
             ]
            ];

           
           CodeInspector`LinterUI`Private`applyToVar[
            Remove,
            {EvaluationNotebook[], All}
           ];

           CodeInspector`LinterUI`Private`varSet[
            {
             LinterUIDockedCell`Private`notebook$$,
             "DockedCellPresentQ"
            },
            False
           ]),
          Method -> "Preemptive",
          PassEventsDown -> Automatic,
          PassEventsUp -> True
         }
        ]
       ]
      },
      AspectRatio -> Full,
      ImageSize -> {Full, 23},
      PlotRange -> {{-1, 1}, {-1, 1}}
     ],
     Deinitialization :>
      CodeInspector`LinterUI`Private`varSet[
       {
        LinterUIDockedCell`Private`notebook$$,
        "DockedCellPresentQ"
       },
       False
      ],
     DynamicModuleValues :> { },
     Initialization :>
      (
      {
       LinterUIDockedCell`Private`dockedCellSeverityCountsButton[
        Pattern[
         LinterUIDockedCell`Private`notebook,
         Blank[NotebookObject]
        ]
       ] := 
        With[
         {
          LinterUIDockedCell`Private`formatIcon = 
           Function[
            Show[
             #1,
             ImageSize -> {13, 9},
             BaselinePosition -> Scaled[-0.2]
            ]
           ]
         },
         ActionMenu[
          Highlighted[
           Row[
            {
             CodeInspector`LinterUI`Private`lintSeverityCountsIconRow[
              LinterUIDockedCell`Private`notebook,
              "exclamSize" -> 12,
              FontSize -> 14,
              FontWeight -> Plain
             ],
             Spacer[2],
             LinterUIDockedCell`Private`formatIcon[
              CodeInspector`LinterUI`Private`iconData["DownChevron"][
               CodeInspector`LinterUI`Private`colorData["UIDark"]
              ]
             ]
            }
           ],
           ImageSize -> {Automatic, 19},
           BaselinePosition -> Baseline,
           Background -> White,
           Frame -> True,
           FrameStyle ->
            Dynamic[
             If[ CurrentValue["MouseOver"],
              Hue[0.55, 0.82, 0.87],
              GrayLevel[0.8]
             ]
            ],
           FrameMargins -> {6*{1, 1}, {1, 1}},
           Alignment -> {Center, Baseline}
          ],
          Map[
           Function[
            LinterUIDockedCell`Private`dockedCellMenuItem[
             LinterUIDockedCell`Private`notebook,
             #1
            ]
           ],
           CodeInspector`LinterUI`Private`varValue[
            LinterUIDockedCell`Private`notebook,
            All,
            "Cell"
           ]
          ],
          Appearance -> None
         ]
        ],
       LinterUIDockedCell`Private`dockedCellMenuItem[
        Pattern[
         LinterUIDockedCell`Private`notebook,
         Blank[NotebookObject]
        ],
        Pattern[LinterUIDockedCell`Private`cell, Blank[CellObject]]
       ] := 
        With[ {  },
         Graphics[
          {
           Inset[
            With[
             {
              LinterUIDockedCell`Private`expressionString = 
               First[
                FrontEndExecute[
                 FrontEnd`ExportPacket[
                  First[
                   CodeInspector`LinterUI`Private`varValue[
                    LinterUIDockedCell`Private`notebook,
                    LinterUIDockedCell`Private`cell,
                    "CellContents"
                   ]
                  ],
                  "InputText"
                 ]
                ]
               ]
             },
             {
              LinterUIDockedCell`Private`noLineBreaks = 
               StringReplace[
                LinterUIDockedCell`Private`expressionString,
                "\n" -> " "
               ]
             },
             {
              LinterUIDockedCell`Private`previewString = 
               StringTake[
                LinterUIDockedCell`Private`noLineBreaks,
                {1, UpTo[LinterUIDockedCell`Private`$previewLength]}
               ]
             },
             CodeInspector`LinterUI`Private`styleData["FixedWidth"][
              If[ Greater[
                StringLength[LinterUIDockedCell`Private`expressionString],
                LinterUIDockedCell`Private`$previewLength
               ],
               StringJoin[
                StringDrop[LinterUIDockedCell`Private`previewString, -1],
                "\[Ellipsis]"
               ],
               LinterUIDockedCell`Private`previewString
              ]
             ]
            ],
            {-1, 0},
            {-1, 0}
           ],
           Inset[
            CodeInspector`LinterUI`Private`lintSeverityCountsIconRow[
             LinterUIDockedCell`Private`cell
            ],
            {1, 0},
            {1, 0}
           ]
          },
          ImageSize -> {300, 25},
          AspectRatio -> Full,
          PlotRange -> {{-1, 1}, {-1, 1}},
          ImagePadding -> None
         ] :>
          (SelectionMove[LinterUIDockedCell`Private`cell, All, Cell];
          
          With[
           {
            LinterUIDockedCell`Private`nb = 
             ParentNotebook[LinterUIDockedCell`Private`cell]
           },
           FrontEndExecute[
            FrontEnd`FrontEndToken[
             LinterUIDockedCell`Private`nb,
             "OpenSelectionParents"
            ]
           ]
          ];

          SelectionMove[LinterUIDockedCell`Private`cell, After, Cell])
        ],
       LinterUIDockedCell`Private`$previewLength = 28,
       CodeInspector`LinterUI`Private`applyToVar[
        Pattern[CodeInspector`LinterUI`Private`function, Blank[]],
        {
         Pattern[
          CodeInspector`LinterUI`Private`notebook,
          Blank[NotebookObject]
         ],
         All,
         Pattern[CodeInspector`LinterUI`Private`name, Blank[String]]
        },
        Pattern[
         CodeInspector`LinterUI`Private`args,
         BlankNullSequence[]
        ]
       ] := 
        Map[
         Function[
          Apply[
           CodeInspector`LinterUI`Private`function,
           Join[
            ToHeldExpression[#1],
            Hold[CodeInspector`LinterUI`Private`args]
           ]
          ]
         ],
         Names[
          StringJoin[
           StringJoin[
            CodeInspector`LinterUI`Private`varNameString[
             CodeInspector`LinterUI`Private`notebook
            ],
            "*"
           ],
           CodeInspector`LinterUI`Private`name
          ]
         ]
        ],
       Null,
       CodeInspector`LinterUI`Private`applyToVar[
        Pattern[CodeInspector`LinterUI`Private`function, Blank[]],
        {
         Pattern[
          CodeInspector`LinterUI`Private`nameArguments,
          BlankSequence[]
         ],
         Pattern[CodeInspector`LinterUI`Private`name, Blank[String]]
        },
        Pattern[
         CodeInspector`LinterUI`Private`args,
         BlankNullSequence[]
        ]
       ] := 
        Apply[
         CodeInspector`LinterUI`Private`function,
         Join[
          ToHeldExpression[
           CodeInspector`LinterUI`Private`varNameString[
            CodeInspector`LinterUI`Private`nameArguments
           ]
          ],
          Hold[CodeInspector`LinterUI`Private`args]
         ]
        ],
       Null,
       CodeInspector`LinterUI`Private`applyToVar[
        Pattern[CodeInspector`LinterUI`Private`function, Blank[]],
        {
         Pattern[
          CodeInspector`LinterUI`Private`nameArguments,
          BlankSequence[]
         ],
         All
        },
        Pattern[
         CodeInspector`LinterUI`Private`args,
         BlankNullSequence[]
        ]
       ] := 
        Map[
         Function[
          Apply[
           CodeInspector`LinterUI`Private`function,
           Join[
            ToHeldExpression[#1],
            Hold[CodeInspector`LinterUI`Private`args]
           ]
          ]
         ],
         Names[
          StringJoin[
           CodeInspector`LinterUI`Private`varNameString[
            CodeInspector`LinterUI`Private`nameArguments
           ],
           "*"
          ]
         ]
        ],
       CodeInspector`LinterUI`Private`varValue[
        Pattern[
         CodeInspector`LinterUI`Private`notebook,
         Blank[NotebookObject]
        ],
        All,
        Pattern[CodeInspector`LinterUI`Private`name, Blank[String]]
       ] := 
        Map[
         Symbol,
         Names[
          StringJoin[
           StringJoin[
            CodeInspector`LinterUI`Private`varNameString[
             CodeInspector`LinterUI`Private`notebook
            ],
            "*"
           ],
           CodeInspector`LinterUI`Private`name
          ]
         ]
        ],
       Null,
       CodeInspector`LinterUI`Private`varValue[
        Pattern[
         CodeInspector`LinterUI`Private`nameArguments,
         BlankSequence[]
        ],
        Pattern[CodeInspector`LinterUI`Private`name, Blank[String]]
       ] := 
        Symbol[
         CodeInspector`LinterUI`Private`varNameString[
          CodeInspector`LinterUI`Private`nameArguments,
          CodeInspector`LinterUI`Private`name
         ]
        ],
       Null,
       CodeInspector`LinterUI`Private`varValue[
        Pattern[
         CodeInspector`LinterUI`Private`nameArguments,
         BlankSequence[]
        ],
        All
       ] := 
        Map[
         Symbol,
         Names[
          StringJoin[
           CodeInspector`LinterUI`Private`varNameString[
            CodeInspector`LinterUI`Private`nameArguments
           ],
           "*"
          ]
         ]
        ],
       CodeInspector`LinterUI`Private`varSet[
        {
         Pattern[
          CodeInspector`LinterUI`Private`nameArguments,
          BlankSequence[]
         ]
        },
        Pattern[CodeInspector`LinterUI`Private`value, Blank[]]
       ] := 
        Apply[
         Set,
         Append[
          ToHeldExpression[
           CodeInspector`LinterUI`Private`varNameString[
            CodeInspector`LinterUI`Private`nameArguments
           ]
          ],
          CodeInspector`LinterUI`Private`value
         ]
        ],
       CodeInspector`LinterUI`Private`varNameString[
        Pattern[
         CodeInspector`LinterUI`Private`notebook,
         Blank[NotebookObject]
        ]
       ] := 
        StringJoin[
         StringJoin[
          StringJoin["CodeInspector`LinterUI`Private`Vars`", "$$"],
          With[
           {
            CodeInspector`LinterUI`Private`nbID = 
             Last[CodeInspector`LinterUI`Private`notebook]
           },
           If[ StringQ[CodeInspector`LinterUI`Private`nbID],
            StringReplace[
             CodeInspector`LinterUI`Private`nbID,
             "-" -> "$"
            ],
            ToString[CodeInspector`LinterUI`Private`nbID]
           ]
          ]
         ],
         "$$"
        ],
       Null,
       CodeInspector`LinterUI`Private`varNameString[
        Pattern[
         CodeInspector`LinterUI`Private`cell,
         Blank[CellObject]
        ]
       ] := 
        StringJoin[
         StringJoin[
          CodeInspector`LinterUI`Private`varNameString[
           Replace[
            ParentNotebook[CodeInspector`LinterUI`Private`cell],
            $Failed -> EvaluationNotebook[]
           ]
          ],
          With[
           {
            CodeInspector`LinterUI`Private`cellID = 
             First[CodeInspector`LinterUI`Private`cell]
           },
           If[ StringQ[CodeInspector`LinterUI`Private`cellID],
            StringReplace[
             CodeInspector`LinterUI`Private`cellID,
             "-" -> "$"
            ],
            ToString[CodeInspector`LinterUI`Private`cellID]
           ]
          ]
         ],
         "$$"
        ],
       Null,
       CodeInspector`LinterUI`Private`varNameString[
        Pattern[
         CodeInspector`LinterUI`Private`notebook,
         Blank[NotebookObject]
        ],
        Pattern[
         CodeInspector`LinterUI`Private`cell,
         Blank[CellObject]
        ]
       ] := 
        StringJoin[
         StringJoin[
          CodeInspector`LinterUI`Private`varNameString[
           CodeInspector`LinterUI`Private`notebook
          ],
          With[
           {
            CodeInspector`LinterUI`Private`cellID = 
             First[CodeInspector`LinterUI`Private`cell]
           },
           If[ StringQ[CodeInspector`LinterUI`Private`cellID],
            StringReplace[
             CodeInspector`LinterUI`Private`cellID,
             "-" -> "$"
            ],
            ToString[CodeInspector`LinterUI`Private`cellID]
           ]
          ]
         ],
         "$$"
        ],
       Null,
       CodeInspector`LinterUI`Private`varNameString[
        Pattern[
         CodeInspector`LinterUI`Private`notebook,
         Blank[NotebookObject]
        ],
        Pattern[CodeInspector`LinterUI`Private`name, Blank[String]]
       ] := 
        StringJoin[
         CodeInspector`LinterUI`Private`varNameString[
          CodeInspector`LinterUI`Private`notebook
         ],
         CodeInspector`LinterUI`Private`name
        ],
       Null,
       CodeInspector`LinterUI`Private`varNameString[
        Pattern[
         CodeInspector`LinterUI`Private`cell,
         Blank[CellObject]
        ],
        Pattern[CodeInspector`LinterUI`Private`name, Blank[String]]
       ] := 
        StringJoin[
         CodeInspector`LinterUI`Private`varNameString[
          CodeInspector`LinterUI`Private`cell
         ],
         CodeInspector`LinterUI`Private`name
        ],
       Null,
       CodeInspector`LinterUI`Private`varNameString[
        Pattern[
         CodeInspector`LinterUI`Private`notebook,
         Blank[NotebookObject]
        ],
        Pattern[
         CodeInspector`LinterUI`Private`cell,
         Blank[CellObject]
        ],
        Pattern[CodeInspector`LinterUI`Private`name, Blank[String]]
       ] := 
        StringJoin[
         CodeInspector`LinterUI`Private`varNameString[
          CodeInspector`LinterUI`Private`notebook,
          CodeInspector`LinterUI`Private`cell
         ],
         CodeInspector`LinterUI`Private`name
        ],
       Null,
       CodeInspector`LinterUI`Private`varNameString[
        Pattern[
         CodeInspector`LinterUI`Private`nameArguments,
         BlankSequence[]
        ],
        Pattern[
         CodeInspector`LinterUI`Private`lint,
         Blank[CodeInspector`InspectionObject]
        ],
        Pattern[CodeInspector`LinterUI`Private`name, Blank[String]]
       ] := 
        StringJoin[
         StringJoin[
          StringJoin[
           CodeInspector`LinterUI`Private`varNameString[
            CodeInspector`LinterUI`Private`nameArguments
           ],
           Apply[
            Sequence,
            Riffle[
             Map[
              Function[
               StringDelete[
                ToString[#1],
                Alternatives["[", "]", "{", "}", ",", " "]
               ]
              ],
              CodeInspector`LinterUI`Private`extractFirstList[
               Last[CodeInspector`LinterUI`Private`lint][
                CodeParser`Source
               ]
              ]
             ],
             "$"
            ]
           ]
          ],
          "$$"
         ],
         CodeInspector`LinterUI`Private`name
        ],
       CodeInspector`LinterUI`Private`extractFirstList[
        Pattern[CodeInspector`LinterUI`Private`expr, Blank[]]
       ] := 
        FirstCase[
         CodeInspector`LinterUI`Private`expr,
         Blank[List],
         { },
         {0, Infinity}
        ]
      };

      LinterUIDockedCell`Private`notebook$$ = 
       EvaluationNotebook[]),
     UnsavedVariables :> {LinterUIDockedCell`Private`notebook$$}
    ]
   ],
   CellFrame -> {{0, 0}, {1, 1}},
   CellFrameMargins -> {{0, 0}, {0, 0}},
   CellFrameColor -> GrayLevel[0.85],
   Background -> GrayLevel[0.97],
   CellTags -> "CodeAnalysisDockedCell"
  ]
 },
 TaggingRules -> <|"TryRealOnly" -> False|>,
 Magnification :> 1.5 * Inherited,
 FrontEndVersion -> "13.3 for Mac OS X ARM (64-bit) (July 24, 2023)",
 StyleDefinitions -> "Default.nb",
 ExpressionUUID -> "6623984b-ef05-4091-ac72-a57ded9363aa"
]